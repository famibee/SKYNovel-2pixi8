"use strict";const re=require("electron"),Et=require("fs"),mf=require("constants"),pf=require("stream"),Bs=require("util"),ul=require("assert"),fe=require("path"),ll=require("crypto"),yf=require("events"),gf=require("os"),fl=require("zlib");var Ee=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(Ee||{});const Ds=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Wt=(t,e)=>Ds(t).priority??e,wt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Ds).forEach(e=>{e.type.forEach(r=>this._removeHandlers[r]?.(e))}),this},add(...t){return t.map(Ds).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r]?.(e):(i[r]=i[r]||[],i[r]?.push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t]?.forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(s=>s.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((s,o)=>Wt(o.value,r)-Wt(s.value,r)))},n=>{const i=e.findIndex(s=>s.name===n.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Wt(s,r)-Wt(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}},_f={extension:{type:Ee.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.resolve().then(()=>require("./browserAll.js"))}},vf={extension:{type:Ee.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Promise.resolve().then(()=>require("./webworkerAll.js"))}};class Pe{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new Pe(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sn={exports:{}},oo;function Ef(){return oo||(oo=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(a,u,f){this.fn=a,this.context=u,this.once=f||!1}function s(a,u,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,p||a,g),_=r?r+u:u;return a._events[_]?a._events[_].fn?a._events[_]=[a._events[_],m]:a._events[_].push(m):(a._events[_]=m,a._eventsCount++),a}function o(a,u){--a._eventsCount===0?a._events=new n:delete a._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)e.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},c.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,m=p.length,_=new Array(m);g<m;g++)_[g]=p[g].fn;return _},c.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(u,f,p,g,m,_){var $=r?r+u:u;if(!this._events[$])return!1;var l=this._events[$],d=arguments.length,h,y;if(l.fn){switch(l.once&&this.removeListener(u,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,f),!0;case 3:return l.fn.call(l.context,f,p),!0;case 4:return l.fn.call(l.context,f,p,g),!0;case 5:return l.fn.call(l.context,f,p,g,m),!0;case 6:return l.fn.call(l.context,f,p,g,m,_),!0}for(y=1,h=new Array(d-1);y<d;y++)h[y-1]=arguments[y];l.fn.apply(l.context,h)}else{var v=l.length,E;for(y=0;y<v;y++)switch(l[y].once&&this.removeListener(u,l[y].fn,void 0,!0),d){case 1:l[y].fn.call(l[y].context);break;case 2:l[y].fn.call(l[y].context,f);break;case 3:l[y].fn.call(l[y].context,f,p);break;case 4:l[y].fn.call(l[y].context,f,p,g);break;default:if(!h)for(E=1,h=new Array(d-1);E<d;E++)h[E-1]=arguments[E];l[y].fn.apply(l[y].context,h)}}return!0},c.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},c.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},c.prototype.removeListener=function(u,f,p,g){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!g||_.once)&&(!p||_.context===p)&&o(this,m);else{for(var $=0,l=[],d=_.length;$<d;$++)(_[$].fn!==f||g&&!_[$].once||p&&_[$].context!==p)&&l.push(_[$]);l.length?this._events[m]=l.length===1?l[0]:l:o(this,m)}return this},c.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(Sn)),Sn.exports}var wf=Ef();const Gt=Bt(wf),Sf=Math.PI*2,bf=180/Math.PI,$f=Math.PI/180;class Fe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Fe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return bn.x=0,bn.y=0,bn}}const bn=new Fe;class ue{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Fe;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Fe;const n=this.a,i=this.b,s=this.c,o=this.d,c=this.tx,a=this.ty,u=1/(n*o+s*-i),f=e.x,p=e.y;return r.x=o*u*f+-s*u*p+(a*s-c*o)*u,r.y=n*u*p+-i*u*f+(-a*n+c*i)*u,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}appendFrom(e,r){const n=e.a,i=e.b,s=e.c,o=e.d,c=e.tx,a=e.ty,u=r.a,f=r.b,p=r.c,g=r.d;return this.a=n*u+i*p,this.b=n*f+i*g,this.c=s*u+o*p,this.d=s*f+o*g,this.tx=c*u+a*p+r.tx,this.ty=c*f+a*g+r.ty,this}setTransform(e,r,n,i,s,o,c,a,u){return this.a=Math.cos(c+u)*s,this.b=Math.sin(c+u)*s,this.c=-Math.sin(c-a)*o,this.d=Math.cos(c-a)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,c=-Math.atan2(-i,s),a=Math.atan2(n,r),u=Math.abs(c+a);return u<1e-5||Math.abs(Sf-u)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=c,e.skew.y=a),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ue;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Rf.identity()}static get shared(){return xf.identity()}}const xf=new ue,Rf=new ue,ct=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ut=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],lt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ft=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ls=[],hl=[],Yt=Math.sign;function Cf(){for(let t=0;t<16;t++){const e=[];Ls.push(e);for(let r=0;r<16;r++){const n=Yt(ct[t]*ct[r]+lt[t]*ut[r]),i=Yt(ut[t]*ct[r]+ft[t]*ut[r]),s=Yt(ct[t]*lt[r]+lt[t]*ft[r]),o=Yt(ut[t]*lt[r]+ft[t]*ft[r]);for(let c=0;c<16;c++)if(ct[c]===n&&ut[c]===i&&lt[c]===s&&ft[c]===o){e.push(c);break}}}for(let t=0;t<16;t++){const e=new ue;e.set(ct[t],ut[t],lt[t],ft[t],0,0),hl.push(e)}}Cf();const ce={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ct[t],uY:t=>ut[t],vX:t=>lt[t],vY:t=>ft[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Ls[t][e],sub:(t,e)=>Ls[t][ce.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ce.S:ce.N:Math.abs(e)*2<=Math.abs(t)?t>0?ce.E:ce.W:e>0?t>0?ce.SE:ce.SW:t>0?ce.NE:ce.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=hl[ce.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Kt=[new Fe,new Fe,new Fe,new Fe];class ke{constructor(e=0,r=0,n=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ke(0,0,0,0)}clone(){return new ke(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n,i=.5){const{width:s,height:o}=this;if(s<=0||o<=0)return!1;const c=this.x,a=this.y,u=n*(1-i),f=n-u,p=c-u,g=c+s+u,m=a-u,_=a+o+u,$=c+f,l=c+s-f,d=a+f,h=a+o-f;return e>=p&&e<=g&&r>=m&&r<=_&&!(e>$&&e<l&&r>d&&r<h)}intersects(e,r){if(!r){const b=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=b)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const c=Kt[0].set(e.left,e.top),a=Kt[1].set(e.left,e.bottom),u=Kt[2].set(e.right,e.top),f=Kt[3].set(e.right,e.bottom);if(u.x<=c.x||a.y<=c.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(c,c),r.apply(a,a),r.apply(u,u),r.apply(f,f),Math.max(c.x,a.x,u.x,f.x)<=n||Math.min(c.x,a.x,u.x,f.x)>=i||Math.max(c.y,a.y,u.y,f.y)<=s||Math.min(c.y,a.y,u.y,f.y)>=o))return!1;const g=p*(a.y-c.y),m=p*(c.x-a.x),_=g*n+m*s,$=g*i+m*s,l=g*n+m*o,d=g*i+m*o;if(Math.max(_,$,l,d)<=g*c.x+m*c.y||Math.min(_,$,l,d)>=g*f.x+m*f.y)return!1;const h=p*(c.y-u.y),y=p*(u.x-c.x),v=h*n+y*s,E=h*i+y*s,w=h*n+y*o,S=h*i+y*o;return!(Math.max(v,E,w,S)<=h*c.x+y*c.y||Math.min(v,E,w,S)>=h*f.x+y*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}getBounds(e){return e||(e=new ke),e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const $n={default:-1};function Ke(t="default"){return $n[t]===void 0&&($n[t]=-1),++$n[t]}const ao={},dt="8.0.0",Af="8.3.4";function Ze(t,e,r=3){if(ao[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),ao[e]=!0}const dl=()=>{};function Fs(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function co(t){return!(t&t-1)&&!!t}function If(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const uo=Object.create(null);function Tf(t){const e=uo[t];return e===void 0&&(uo[t]=Ke("resource")),e}const ml=class pl extends Gt{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...pl.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Ze(dt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Tf(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};ml.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let yl=ml;const gl=class _l extends Gt{constructor(e={}){super(),this.options=e,this.uid=Ke("textureSource"),this._resourceType="textureSource",this._resourceId=Ke("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={..._l.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new yl(If(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ke("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n||(n=this._resolution),e||(e=this.width),r||(r=this.height);const i=Math.round(e*n),s=Math.round(r*n);return this.width=i/n,this.height=s/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=Ke("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=co(this.pixelWidth)&&co(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};gl.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Ge=gl;class Gs extends Ge{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Gs.extension=Ee.TextureSource;const lo=new ue;class Pf{constructor(e,r){this.mapCoord=new ue,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,i=e.trim;i&&(lo.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(lo));const s=e.source,o=this.uClampFrame,c=this.clampMargin/s._resolution,a=this.clampOffset/s._resolution;return o[0]=(e.frame.x+c+a)/s.width,o[1]=(e.frame.y+c+a)/s.height,o[2]=(e.frame.x+e.frame.width-c+a)/s.width,o[3]=(e.frame.y+e.frame.height-c+a)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class he extends Gt{constructor({source:e,label:r,frame:n,orig:i,trim:s,defaultAnchor:o,defaultBorders:c,rotate:a,dynamic:u}={}){if(super(),this.uid=Ke("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ke,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=e?.source??new Ge,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:f,height:p}=this._source;this.frame.width=f,this.frame.height=p}this.orig=i||this.frame,this.trim=s,this.rotate=a??0,this.defaultAnchor=o,this.defaultBorders=c,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Pf(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:i}=this._source,s=r.x/n,o=r.y/i,c=r.width/n,a=r.height/i;let u=this.rotate;if(u){const f=c/2,p=a/2,g=s+f,m=o+p;u=ce.add(u,ce.NW),e.x0=g+f*ce.uX(u),e.y0=m+p*ce.uY(u),u=ce.add(u,2),e.x1=g+f*ce.uX(u),e.y1=m+p*ce.uY(u),u=ce.add(u,2),e.x2=g+f*ce.uX(u),e.y2=m+p*ce.uY(u),u=ce.add(u,2),e.x3=g+f*ce.uX(u),e.y3=m+p*ce.uY(u)}else e.x0=s,e.y0=o,e.x1=s+c,e.y1=o,e.x2=s+c,e.y2=o+a,e.x3=s,e.y3=o+a}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Ze(dt,"Texture.baseTexture is now Texture.source"),this._source}}he.EMPTY=new he({label:"EMPTY",source:new Ge({label:"EMPTY"})});he.EMPTY.destroy=dl;he.WHITE=new he({source:new Gs({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});he.WHITE.destroy=dl;function vl(t,e,r,n){const{width:i,height:s}=r.orig,o=r.trim;if(o){const c=o.width,a=o.height;t.minX=o.x-e._x*i-n,t.maxX=t.minX+c,t.minY=o.y-e._y*s-n,t.maxY=t.minY+a}else t.minX=-e._x*i-n,t.maxX=t.minX+i,t.minY=-e._y*s-n,t.maxY=t.minY+s}const fo=new ue;class et{constructor(e=1/0,r=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=fo,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ke);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=fo,this}set(e,r,n,i){this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,r,n,i,s){s||(s=this.matrix);const o=s.a,c=s.b,a=s.c,u=s.d,f=s.tx,p=s.ty;let g=this.minX,m=this.minY,_=this.maxX,$=this.maxY,l=o*e+a*r+f,d=c*e+u*r+p;l<g&&(g=l),d<m&&(m=d),l>_&&(_=l),d>$&&($=d),l=o*n+a*r+f,d=c*n+u*r+p,l<g&&(g=l),d<m&&(m=d),l>_&&(_=l),d>$&&($=d),l=o*e+a*i+f,d=c*e+u*i+p,l<g&&(g=l),d<m&&(m=d),l>_&&(_=l),d>$&&($=d),l=o*n+a*i+f,d=c*n+u*i+p,l<g&&(g=l),d<m&&(m=d),l>_&&(_=l),d>$&&($=d),this.minX=g,this.minY=m,this.maxX=_,this.maxY=$}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,{a:o,b:c,c:a,d:u,tx:f,ty:p}=e;let g=o*r+a*n+f,m=c*r+u*n+p;this.minX=g,this.minY=m,this.maxX=g,this.maxY=m,g=o*i+a*n+f,m=c*i+u*n+p,this.minX=g<this.minX?g:this.minX,this.minY=m<this.minY?m:this.minY,this.maxX=g>this.maxX?g:this.maxX,this.maxY=m>this.maxY?m:this.maxY,g=o*r+a*s+f,m=c*r+u*s+p,this.minX=g<this.minX?g:this.minX,this.minY=m<this.minY?m:this.minY,this.maxX=g>this.maxX?g:this.maxX,this.maxY=m>this.maxY?m:this.maxY,g=o*i+a*s+f,m=c*i+u*s+p,this.minX=g<this.minX?g:this.minX,this.minY=m<this.minY?m:this.minY,this.maxX=g>this.maxX?g:this.maxX,this.maxY=m>this.maxY?m:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,i){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new et(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,i){let s=this.minX,o=this.minY,c=this.maxX,a=this.maxY;i||(i=this.matrix);const u=i.a,f=i.b,p=i.c,g=i.d,m=i.tx,_=i.ty;for(let $=r;$<n;$+=2){const l=e[$],d=e[$+1],h=u*l+p*d+m,y=f*l+g*d+_;s=h<s?h:s,o=y<o?y:o,c=h>c?h:c,a=y>a?y:a}this.minX=s,this.minY=o,this.maxX=c,this.maxY=a}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var Of={grad:.9,turn:360,rad:360/(2*Math.PI)},He=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},pe=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Oe=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},El=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ho=function(t){return{r:Oe(t.r,0,255),g:Oe(t.g,0,255),b:Oe(t.b,0,255),a:Oe(t.a)}},xn=function(t){return{r:pe(t.r),g:pe(t.g),b:pe(t.b),a:pe(t.a,3)}},Nf=/^#([0-9a-f]{3,8})$/i,Zt=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},wl=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),c=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(c<0?c+6:c),s:s?o/s*100:0,v:s/255*100,a:i}},Sl=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),c=n*(1-(e-s)*r),a=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,c,o,o,a,n][u],g:255*[a,n,n,c,o,o][u],b:255*[o,o,a,n,n,c][u],a:i}},mo=function(t){return{h:El(t.h),s:Oe(t.s,0,100),l:Oe(t.l,0,100),a:Oe(t.a)}},po=function(t){return{h:pe(t.h),s:pe(t.s),l:pe(t.l),a:pe(t.a,3)}},yo=function(t){return Sl((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},kt=function(t){return{h:(e=wl(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},Mf=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Df=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lf=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ff=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ks={string:[[function(t){var e=Nf.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?pe(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?pe(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Lf.exec(t)||Ff.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ho({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Mf.exec(t)||Df.exec(t);if(!e)return null;var r,n,i=mo({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Of[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return yo(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return He(e)&&He(r)&&He(n)?ho({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!He(e)||!He(r)||!He(n))return null;var o=mo({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return yo(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!He(e)||!He(r)||!He(n))return null;var o=function(c){return{h:El(c.h),s:Oe(c.s,0,100),v:Oe(c.v,0,100),a:Oe(c.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return Sl(o)},"hsv"]]},go=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},kf=function(t){return typeof t=="string"?go(t.trim(),ks.string):typeof t=="object"&&t!==null?go(t,ks.object):[null,void 0]},Rn=function(t,e){var r=kt(t);return{h:r.h,s:Oe(r.s+100*e,0,100),l:r.l,a:r.a}},Cn=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},_o=function(t,e){var r=kt(t);return{h:r.h,s:r.s,l:Oe(r.l+100*e,0,100),a:r.a}},qs=function(){function t(e){this.parsed=kf(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return pe(Cn(this.rgba),2)},t.prototype.isDark=function(){return Cn(this.rgba)<.5},t.prototype.isLight=function(){return Cn(this.rgba)>=.5},t.prototype.toHex=function(){return e=xn(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Zt(pe(255*s)):"","#"+Zt(r)+Zt(n)+Zt(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return xn(this.rgba)},t.prototype.toRgbString=function(){return e=xn(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return po(kt(this.rgba))},t.prototype.toHslString=function(){return e=po(kt(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=wl(this.rgba),{h:pe(e.h),s:pe(e.s),v:pe(e.v),a:pe(e.a,3)};var e},t.prototype.invert=function(){return Be({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Be(Rn(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Be(Rn(this.rgba,-e))},t.prototype.grayscale=function(){return Be(Rn(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Be(_o(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Be(_o(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Be({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):pe(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=kt(this.rgba);return typeof e=="number"?Be({h:e,s:r.s,l:r.l,a:r.a}):pe(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Be(e).toHex()},t}(),Be=function(t){return t instanceof qs?t:new qs(t)},vo=[],qf=function(t){t.forEach(function(e){vo.indexOf(e)<0&&(e(qs,ks),vo.push(e))})};function jf(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,a,u=n[this.toHex()];if(u)return u;if(o?.closest){var f=this.toRgb(),p=1/0,g="black";if(!s.length)for(var m in r)s[m]=new t(r[m]).toRgb();for(var _ in r){var $=(c=f,a=s[_],Math.pow(c.r-a.r,2)+Math.pow(c.g-a.g,2)+Math.pow(c.b-a.b,2));$<p&&(p=$,g=_)}return g}},e.string.push([function(o){var c=o.toLowerCase(),a=c==="transparent"?"#0000":r[c];return a?new t(a).toRgb():null},"name"])}qf([jf]);const vt=class Ot{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ot)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(c=>e[c]===r[c])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Ot._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const c=Ot.HEX_PATTERN.exec(e);c&&(e=`#${c[2]}`)}const o=Be(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Ot||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};vt.shared=new vt;vt._temp=new vt;vt.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let bl=vt;const Uf={cullArea:null,cullable:!1,cullableChildren:!0};class zs{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,r.init?.(e),r}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Bf{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new zs(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}}const qt=new Bf,Gf={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){Ze("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function $l(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}const zf={allowChildren:!0,removeChildren(t=0,e){const r=e??this.children.length,n=r-t,i=[];if(n>0&&n<=r){for(let o=r-1;o>=t;o--){const c=this.children[o];c&&(i.push(c),c.parent=null)}$l(this.children,t,r);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o)this.emit("childRemoved",i[o],this,o),i[o].emit("removed",this);return i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||Ze(dt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const r=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),r.prepend(n),t.setFromMatrix(r),t}};class Eo{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Vf{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return qt.get(n.maskClass,e)}return e}returnMaskEffect(e){qt.return(e)}}const js=new Vf;wt.handleByList(Ee.MaskEffect,js._effectClasses);const Hf={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((r,n)=>r.priority-n.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),js.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=js.getMaskEffect(t),this.addEffect(this._maskEffect)))},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},get mask(){return this._maskEffect?.mask},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new Eo);t=t;const r=t?.length>0,n=e.filters?.length>0,i=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new Eo),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},Xf={label:null,get name(){return Ze(dt,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){Ze(dt,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const i=r[n];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let n=0;n<r.length;n++){const s=r[n].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let i=0;i<n.length;i++){const s=n[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&r.push(s)}if(e)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(t,!0,r);return r}},be=new zs(ue),mt=new zs(et);function xl(t,e,r){r.clear();let n,i;return t.parent?e?n=t.parent.worldTransform:(i=be.get().identity(),n=Vs(t,i)):n=ue.IDENTITY,Rl(t,r,n,e),i&&be.return(i),r.isValid||r.set(0,0,0,0),r}function Rl(t,e,r,n){if(!t.visible||!t.measurable)return;let i;n?i=t.worldTransform:(t.updateLocalTransform(),i=be.get(),i.appendFrom(t.localTransform,r));const s=e,o=!!t.effects.length;if(o&&(e=mt.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.bounds&&(e.matrix=i,e.addBounds(t.bounds));for(let c=0;c<t.children.length;c++)Rl(t.children[c],e,i,n)}if(o){for(let c=0;c<t.effects.length;c++)t.effects[c].addBounds?.(e);s.addBounds(e,ue.IDENTITY),mt.return(e)}n||be.return(i)}function Vs(t,e){const r=t.parent;return r&&(Vs(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}function Cl(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,c=e&255,a=r*s/255|0,u=n*o/255|0,f=i*c/255|0;return(a<<16)+(u<<8)+f}const wo=16777215;function So(t,e){return t===wo?e:e===wo?t:Cl(t,e)}function sn(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const Wf={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,r=this.parent;for(;r;)e*=r.alpha,r=r.parent;return e},getGlobalTransform(t,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const r=Vs(this,be.get().identity());return t.appendFrom(this.localTransform,r),be.return(r),t},getGlobalTint(t){if(t)return this.renderGroup?sn(this.renderGroup.worldColor):this.parentRenderGroup?sn(So(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,r=this.parent;for(;r;)e=So(e,r.localColor),r=r.parent;return sn(e)}};let An=0;const bo=500;function Qe(...t){An!==bo&&(An++,An===bo?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}function Al(t,e,r){return e.clear(),r||(r=ue.IDENTITY),Il(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function Il(t,e,r,n,i){let s;if(i)s=be.get(),s=r.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const a=t.localTransform;s=be.get(),s.appendFrom(a,r)}const o=e,c=!!t.effects.length;if(c&&(e=mt.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,e.addBounds(t.bounds));const a=t.children;for(let u=0;u<a.length;u++)Il(a[u],e,s,n,!1)}if(c){for(let a=0;a<t.effects.length;a++)t.effects[a].addLocalBounds?.(e,n);o.addBounds(e,ue.IDENTITY),mt.return(e)}be.return(s)}function Tl(t,e){const r=t.children;for(let n=0;n<r.length;n++){const i=r[n],s=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,c=e.index;(e.data[c]!==s||e.data[c+1]!==o)&&(e.data[e.index]=s,e.data[e.index+1]=o,e.didChange=!0),e.index=c+2,i.children.length&&Tl(i,e)}return e.didChange}const Yf=new ue,Kf={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new et});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),Tl(this,t),t.didChange&&Al(this,t.localBounds,Yf),t.localBounds},getBounds(t,e){return xl(this,t,e||new et)}},Zf={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},Jf={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Qf))}};function Qf(t,e){return t._zIndex-e._zIndex}const eh={getGlobalPosition(t=new Fe,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){const n=this.getGlobalTransform(be.get(),r);return e=n.apply(t,e),be.return(n),e},toLocal(t,e,r,n){e&&(t=e.toGlobal(t,r,n));const i=this.getGlobalTransform(be.get(),n);return r=i.applyInverse(t,r),be.return(i),r}};class Pl{constructor(){this.uid=Ke("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let th=0;class rh{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,r,n){const i=new Ge({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!0});return new he({source:i,label:`texturePool_${th++}`})}getOptimalTexture(e,r,n=1,i){let s=Math.ceil(e*n-1e-6),o=Math.ceil(r*n-1e-6);s=Fs(s),o=Fs(o);const c=(s<<17)+(o<<1)+(i?1:0);this._texturePool[c]||(this._texturePool[c]=[]);let a=this._texturePool[c].pop();return a||(a=this.createTexture(s,o,i)),a.source._resolution=n,a.source.width=s/n,a.source.height=o/n,a.source.pixelWidth=s,a.source.pixelHeight=o,a.frame.x=0,a.frame.y=0,a.frame.width=e,a.frame.height=r,a.updateUvs(),this._poolKeyHash[a.uid]=c,a}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e){const r=this._poolKeyHash[e.uid];this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this._texturePool={}}}const Ol=new rh;class nh{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new ue,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Pl,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++){const i=r[n];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Ol.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new ue),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new ue),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new ue),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function ih(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const In=new Pe(null),Tn=new Pe(null),Pn=new Pe(null,1,1),$o=1,sh=2,On=4;class $e extends Gt{constructor(e={}){super(),this.uid=Ke("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new ue,this.relativeGroupTransform=new ue,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Pe(this,0,0),this._scale=Pn,this._pivot=Tn,this._skew=In,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],ih(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(r=>this.addChild(r)),e.parent?.addChild(this)}static mixin(e){Object.defineProperties($e.prototype,Object.getOwnPropertyDescriptors(e))}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Ze(dt,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const r=e[0],n=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),n&&(n.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=qt.get(nh,this),this.groupTransform=ue.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),qt.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new ue),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*bf}set angle(e){this.rotation=e*$f}get pivot(){return this._pivot===Tn&&(this._pivot=new Pe(this,0,0)),this._pivot}set pivot(e){this._pivot===Tn&&(this._pivot=new Pe(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===In&&(this._skew=new Pe(this,0,0)),this._skew}set skew(e){this._skew===In&&(this._skew=new Pe(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Pn&&(this._scale=new Pe(this,1,1)),this._scale}set scale(e){this._scale===Pn&&(this._scale=new Pe(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,n.width),r!==void 0&&this._setHeight(r,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,n=this._scale,i=this._pivot,s=this._position,o=n._x,c=n._y,a=i._x,u=i._y;r.a=this._cx*o,r.b=this._sx*o,r.c=this._cy*c,r.d=this._sy*c,r.tx=s._x-(a*r.a+u*r.c),r.ty=s._y-(a*r.b+u*r.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=$o,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=bl.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=$o,this._onUpdate())}get tint(){return sn(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=sh,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=On,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=On,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=On,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&r)for(let i=0;i<r.length;++i)r[i].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}$e.mixin(zf);$e.mixin(eh);$e.mixin(Zf);$e.mixin(Kf);$e.mixin(Hf);$e.mixin(Xf);$e.mixin(Jf);$e.mixin(Uf);$e.mixin(Gf);$e.mixin(Wf);class Nl extends $e{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new et(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:n,y:i}=e;return n>=r.minX&&n<=r.maxX&&i>=r.minY&&i<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null}}class jt extends Nl{constructor(e=he.EMPTY){e instanceof he&&(e={texture:e});const{texture:r=he.EMPTY,anchor:n,roundPixels:i,width:s,height:o,...c}=e;super({label:"Sprite",...c}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Pe({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=i??!1,s!==void 0&&(this.width=s),o!==void 0&&(this.height=o)}static from(e,r=!1){return e instanceof he?new jt(e):new jt(he.from(e,r))}set texture(e){e||(e=he.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return vl(this._visualBounds,this._anchor,this._texture,0),this._visualBounds}get sourceBounds(){return Ze("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,r=this._texture,n=this._bounds,{width:i,height:s}=r.orig;n.minX=-e._x*i,n.maxX=n.minX+i,n.minY=-e._y*s,n.maxY=n.minY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(n)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const oh=new et;function Ml(t,e,r){const n=oh;t.measurable=!0,xl(t,r,n),e.addBoundsMask(n),t.measurable=!1}function Dl(t,e,r){const n=mt.get();t.measurable=!0;const i=be.get().identity(),s=Ll(t,r,i);Al(t,n,s),t.measurable=!1,e.addBoundsMask(n),be.return(i),mt.return(n)}function Ll(t,e,r){return t?(t!==e&&(Ll(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(Qe("Mask bounds, renderable is not inside the root container"),r)}class Fl{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof jt),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,r){this.inverse||Ml(this.mask,e,r)}addLocalBounds(e,r){Dl(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof jt}}Fl.extension=Ee.MaskEffect;class kl{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}kl.extension=Ee.MaskEffect;class ql{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,r){Ml(this.mask,e,r)}addLocalBounds(e,r){Dl(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof $e}}ql.extension=Ee.MaskEffect;const ah={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let xo=ah;const un={get(){return xo},set(t){xo=t}};class jl extends Ge{constructor(e){e.resource||(e.resource=un.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const i=super.resize(e,r,n);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}jl.extension=Ee.TextureSource;class Hs extends Ge{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const r=un.get().createCanvas(e.resource.width,e.resource.height);r.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=r,Qe("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Hs.extension=Ee.TextureSource;var on=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(on||{});class Nn{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=i}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Ul=class Te{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Nn(null,null,1/0),this.deltaMS=1/Te.targetFPMS,this.elapsedMS=1/Te.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=on.NORMAL){return this._addListener(new Nn(e,r,n))}addOnce(e,r,n=on.NORMAL){return this._addListener(new Nn(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Te.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Te.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Te._shared){const e=Te._shared=new Te;e.autoStart=!0,e._protected=!0}return Te._shared}static get system(){if(!Te._system){const e=Te._system=new Te;e.autoStart=!0,e._protected=!0}return Te._system}};Ul.targetFPMS=.06;let Nt=Ul,Mn;async function ch(){return Mn??(Mn=(async()=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(o=>{const c=document.createElement("video");c.onloadeddata=()=>o(c),c.onerror=()=>o(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(n),e.getExtension("WEBGL_lose_context")?.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Mn}const ln=class Bl extends Ge{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...Bl.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Nt.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await ch(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Nt.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Nt.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Nt.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};ln.extension=Ee.TextureSource;ln.defaultOptions={...Ge.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};ln.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let uh=ln;const _t=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class lh{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||Qe(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=_t(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}const s=new Map(Object.entries(i||{}));i||n.forEach(a=>{s.set(a,r)});const o=[...s.keys()],c={cacheKeys:o,keys:n};n.forEach(a=>{this._cacheMap.set(a,c)}),o.forEach(a=>{const u=i?i[a]:r;this._cache.has(a)&&this._cache.get(a)!==u&&Qe("[Cache] already has key:",a),this._cache.set(a,s.get(a))})}remove(e){if(!this._cacheMap.has(e)){Qe(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ht=new lh,Us=[];wt.handleByList(Ee.TextureSource,Us);function Gl(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let i=0;i<Us.length;i++){const s=Us[i];if(s.test(r))return new s(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function fh(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,i=r?t:{resource:t};if(!e&&ht.has(n))return ht.get(n);const s=new he({source:Gl(i)});return s.on("destroy",()=>{ht.has(n)&&ht.remove(n)}),e||ht.set(n,s),s}function hh(t,e=!1){return typeof t=="string"?ht.get(t):t instanceof Ge?new he({source:t}):fh(t,e)}he.from=hh;Ge.from=Gl;wt.add(Fl,kl,ql,uh,Hs,jl,Gs);var zl=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(zl||{});function Ne(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function xt(t){return t.split("?")[0].split("#")[0]}function dh(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mh(t,e,r){return t.replace(new RegExp(dh(e),"g"),r)}function ph(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let c=0;c<=t.length;++c){if(c<t.length)o=t.charCodeAt(c);else{if(o===47)break;o=47}if(o===47){if(!(i===c-1||s===1))if(i!==c-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const a=r.lastIndexOf("/");if(a!==r.length-1){a===-1?(r="",n=0):(r=r.slice(0,a),n=r.length-1-r.lastIndexOf("/")),i=c,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=c,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,c)}`:r=t.slice(i+1,c),n=c-i-1;i=c,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ut={toPosix(t){return mh(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Ne(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Ne(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=xt(this.toPosix(e??un.get().getBaseUrl())),i=xt(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ut.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Ne(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=ph(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Ne(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Ne(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ne(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let c=t.length-1;c>=1;--c)if(e=t.charCodeAt(c),e===47){if(!i){n=c;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Ne(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ne(t),e&&Ne(e),t=xt(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,c=-1;for(s=t.length-1;s>=0;--s){const a=t.charCodeAt(s);if(a===47){if(!i){r=s+1;break}}else c===-1&&(i=!1,c=s+1),o>=0&&(a===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=c))}return r===n?n=c:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Ne(t),t=xt(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const c=t.charCodeAt(o);if(c===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),c===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Ne(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=xt(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,c=-1,a=!0,u=t.length-1,f=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!a){o=u+1;break}continue}c===-1&&(a=!1,c=u+1),r===46?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||c===-1||f===0||f===1&&s===c-1&&s===o+1?c!==-1&&(o===0&&n?e.base=e.name=t.slice(1,c):e.base=e.name=t.slice(o,c)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,c)):(e.name=t.slice(o,s),e.base=t.slice(o,c)),e.ext=t.slice(s,c)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Vl(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const c=s[o];r<e.length-1?Vl(t.replace(n[r],c),e,r+1,n,i):i.push(t.replace(n[r],c))}}function yh(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),Vl(t,i,0,r,n)}else n.push(t);return n}const Ro=t=>!Array.isArray(t);class Hl{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return _t(r||n,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>o?.src??o):s?.src?s.src:s,!0)}addManifest(e){this._manifest&&Qe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let i=r;Array.isArray(r)||(i=Object.entries(r).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,c=s.alias;let a;if(typeof c=="string"){const u=this._createBundleAssetId(e,c);n.push(u),a=[c,u]}else{const u=c.map(f=>this._createBundleAssetId(e,f));n.push(...u),a=[...c,...u]}this.add({...s,alias:a,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=s=>{this.hasKey(s)&&Qe(`[Resolver] already has key: ${s} overwriting`)},_t(r).forEach(s=>{const{src:o}=s;let{data:c,format:a,loadParser:u}=s;const f=_t(o).map(m=>typeof m=="string"?yh(m):Array.isArray(m)?m:[m]),p=this.getAlias(s);Array.isArray(p)?p.forEach(n):n(p);const g=[];f.forEach(m=>{m.forEach(_=>{let $={};if(typeof _!="object"){$.src=_;for(let l=0;l<this._parsers.length;l++){const d=this._parsers[l];if(d.test(_)){$=d.parse(_);break}}}else c=_.data??c,a=_.format??a,u=_.loadParser??u,$={...$,..._};if(!p)throw new Error(`[Resolver] alias is undefined for this asset: ${$.src}`);$=this._buildResolvedAsset($,{aliases:p,data:c,format:a,loadParser:u}),g.push($)})}),p.forEach(m=>{this._assetMap[m]=g})})}resolveBundle(e){const r=Ro(e);e=_t(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),c={};for(const a in o){const u=o[a];c[this._extractAssetIdFromBundle(i,a)]=u}n[i]=c}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Ro(e);e=_t(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o?.priority.forEach(c=>{o.params[c].forEach(a=>{const u=s.filter(f=>f[c]?f[c]===a:!1);u.length&&(s=u)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ut.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??gh(e.src),e}}Hl.RETINA_PREFIX=/@([0-9\.]+)x/;function gh(t){return t.split(".").pop().split("?").shift().split("#").shift()}const Co=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},Xl=class Mt{constructor(e,r){this.linkedSheets=[],this._texture=e instanceof he?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=r;const n=parseFloat(r.meta.scale);n?(this.resolution=n,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Mt.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Mt.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let c=null,a=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,f=new ke(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?c=new ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):c=new ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(a=new ke(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new he({source:this.textureSource,frame:c,orig:f,trim:a,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Mt.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Mt.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Xl.BATCH_SIZE=1e3;let Ao=Xl;const _h=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Wl(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Ut.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const c=Wl([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,c)})}return n}const vh={extension:Ee.Asset,cache:{test:t=>t instanceof Ao,getCacheableAssets:(t,e)=>Wl(t,e,!1)},resolver:{extension:{type:Ee.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&_h.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(Hl.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Ee.LoadParser,priority:zl.Normal,name:"spritesheetLoader"},async testParse(t,e){return Ut.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){const{texture:n,imageFilename:i}=e?.data??{};let s=Ut.dirname(e.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");let o;if(n instanceof he)o=n;else{const u=Co(s+(i??t.meta.image),e.src);o=(await r.load([u]))[u]}const c=new Ao(o.source,t);await c.parse();const a=t?.meta?.related_multi_packs;if(Array.isArray(a)){const u=[];for(const p of a){if(typeof p!="string")continue;let g=s+p;e.data?.ignoreMultiPack||(g=Co(g,e.src),u.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(u);c.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[c].concat(c.linkedSheets.filter(g=>g!==p))})}return c},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};wt.add(vh);var Jt={exports:{}},Io;function Eh(){if(Io)return Jt.exports;Io=1,Jt.exports=t,Jt.exports.default=t;function t(O,N,R){R=R||2;var M=N&&N.length,T=M?N[0]*R:O.length,P=e(O,0,T,R,!0),L=[];if(!P||P.next===P.prev)return L;var D,x,A,C,W,X,Q;if(M&&(P=a(O,N,P,R)),O.length>80*R){D=A=O[0],x=C=O[1];for(var Z=R;Z<T;Z+=R)W=O[Z],X=O[Z+1],W<D&&(D=W),X<x&&(x=X),W>A&&(A=W),X>C&&(C=X);Q=Math.max(A-D,C-x),Q=Q!==0?32767/Q:0}return n(P,L,R,D,x,Q,0),L}function e(O,N,R,M,T){var P,L;if(T===H(O,N,R,M)>0)for(P=N;P<R;P+=M)L=Y(P,O[P],O[P+1],L);else for(P=R-M;P>=N;P-=M)L=Y(P,O[P],O[P+1],L);return L&&v(L,L.next)&&(G(L),L=L.next),L}function r(O,N){if(!O)return O;N||(N=O);var R=O,M;do if(M=!1,!R.steiner&&(v(R,R.next)||y(R.prev,R,R.next)===0)){if(G(R),R=N=R.prev,R===R.next)break;M=!0}else R=R.next;while(M||R!==N);return N}function n(O,N,R,M,T,P,L){if(O){!L&&P&&m(O,M,T,P);for(var D=O,x,A;O.prev!==O.next;){if(x=O.prev,A=O.next,P?s(O,M,T,P):i(O)){N.push(x.i/R|0),N.push(O.i/R|0),N.push(A.i/R|0),G(O),O=A.next,D=A.next;continue}if(O=A,O===D){L?L===1?(O=o(r(O),N,R),n(O,N,R,M,T,P,2)):L===2&&c(O,N,R,M,T,P):n(r(O),N,R,M,T,P,1);break}}}}function i(O){var N=O.prev,R=O,M=O.next;if(y(N,R,M)>=0)return!1;for(var T=N.x,P=R.x,L=M.x,D=N.y,x=R.y,A=M.y,C=T<P?T<L?T:L:P<L?P:L,W=D<x?D<A?D:A:x<A?x:A,X=T>P?T>L?T:L:P>L?P:L,Q=D>x?D>A?D:A:x>A?x:A,Z=M.next;Z!==N;){if(Z.x>=C&&Z.x<=X&&Z.y>=W&&Z.y<=Q&&d(T,D,P,x,L,A,Z.x,Z.y)&&y(Z.prev,Z,Z.next)>=0)return!1;Z=Z.next}return!0}function s(O,N,R,M){var T=O.prev,P=O,L=O.next;if(y(T,P,L)>=0)return!1;for(var D=T.x,x=P.x,A=L.x,C=T.y,W=P.y,X=L.y,Q=D<x?D<A?D:A:x<A?x:A,Z=C<W?C<X?C:X:W<X?W:X,F=D>x?D>A?D:A:x>A?x:A,j=C>W?C>X?C:X:W>X?W:X,B=$(Q,Z,N,R,M),q=$(F,j,N,R,M),V=O.prevZ,J=O.nextZ;V&&V.z>=B&&J&&J.z<=q;){if(V.x>=Q&&V.x<=F&&V.y>=Z&&V.y<=j&&V!==T&&V!==L&&d(D,C,x,W,A,X,V.x,V.y)&&y(V.prev,V,V.next)>=0||(V=V.prevZ,J.x>=Q&&J.x<=F&&J.y>=Z&&J.y<=j&&J!==T&&J!==L&&d(D,C,x,W,A,X,J.x,J.y)&&y(J.prev,J,J.next)>=0))return!1;J=J.nextZ}for(;V&&V.z>=B;){if(V.x>=Q&&V.x<=F&&V.y>=Z&&V.y<=j&&V!==T&&V!==L&&d(D,C,x,W,A,X,V.x,V.y)&&y(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;J&&J.z<=q;){if(J.x>=Q&&J.x<=F&&J.y>=Z&&J.y<=j&&J!==T&&J!==L&&d(D,C,x,W,A,X,J.x,J.y)&&y(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function o(O,N,R){var M=O;do{var T=M.prev,P=M.next.next;!v(T,P)&&E(T,M,M.next,P)&&I(T,P)&&I(P,T)&&(N.push(T.i/R|0),N.push(M.i/R|0),N.push(P.i/R|0),G(M),G(M.next),M=O=P),M=M.next}while(M!==O);return r(M)}function c(O,N,R,M,T,P){var L=O;do{for(var D=L.next.next;D!==L.prev;){if(L.i!==D.i&&h(L,D)){var x=U(L,D);L=r(L,L.next),x=r(x,x.next),n(L,N,R,M,T,P,0),n(x,N,R,M,T,P,0);return}D=D.next}L=L.next}while(L!==O)}function a(O,N,R,M){var T=[],P,L,D,x,A;for(P=0,L=N.length;P<L;P++)D=N[P]*M,x=P<L-1?N[P+1]*M:O.length,A=e(O,D,x,M,!1),A===A.next&&(A.steiner=!0),T.push(l(A));for(T.sort(u),P=0;P<T.length;P++)R=f(T[P],R);return R}function u(O,N){return O.x-N.x}function f(O,N){var R=p(O,N);if(!R)return N;var M=U(R,O);return r(M,M.next),r(R,R.next)}function p(O,N){var R=N,M=O.x,T=O.y,P=-1/0,L;do{if(T<=R.y&&T>=R.next.y&&R.next.y!==R.y){var D=R.x+(T-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(D<=M&&D>P&&(P=D,L=R.x<R.next.x?R:R.next,D===M))return L}R=R.next}while(R!==N);if(!L)return null;var x=L,A=L.x,C=L.y,W=1/0,X;R=L;do M>=R.x&&R.x>=A&&M!==R.x&&d(T<C?M:P,T,A,C,T<C?P:M,T,R.x,R.y)&&(X=Math.abs(T-R.y)/(M-R.x),I(R,O)&&(X<W||X===W&&(R.x>L.x||R.x===L.x&&g(L,R)))&&(L=R,W=X)),R=R.next;while(R!==x);return L}function g(O,N){return y(O.prev,O,N.prev)<0&&y(N.next,O,O.next)<0}function m(O,N,R,M){var T=O;do T.z===0&&(T.z=$(T.x,T.y,N,R,M)),T.prevZ=T.prev,T.nextZ=T.next,T=T.next;while(T!==O);T.prevZ.nextZ=null,T.prevZ=null,_(T)}function _(O){var N,R,M,T,P,L,D,x,A=1;do{for(R=O,O=null,P=null,L=0;R;){for(L++,M=R,D=0,N=0;N<A&&(D++,M=M.nextZ,!!M);N++);for(x=A;D>0||x>0&&M;)D!==0&&(x===0||!M||R.z<=M.z)?(T=R,R=R.nextZ,D--):(T=M,M=M.nextZ,x--),P?P.nextZ=T:O=T,T.prevZ=P,P=T;R=M}P.nextZ=null,A*=2}while(L>1);return O}function $(O,N,R,M,T){return O=(O-R)*T|0,N=(N-M)*T|0,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,O|N<<1}function l(O){var N=O,R=O;do(N.x<R.x||N.x===R.x&&N.y<R.y)&&(R=N),N=N.next;while(N!==O);return R}function d(O,N,R,M,T,P,L,D){return(T-L)*(N-D)>=(O-L)*(P-D)&&(O-L)*(M-D)>=(R-L)*(N-D)&&(R-L)*(P-D)>=(T-L)*(M-D)}function h(O,N){return O.next.i!==N.i&&O.prev.i!==N.i&&!b(O,N)&&(I(O,N)&&I(N,O)&&k(O,N)&&(y(O.prev,O,N.prev)||y(O,N.prev,N))||v(O,N)&&y(O.prev,O,O.next)>0&&y(N.prev,N,N.next)>0)}function y(O,N,R){return(N.y-O.y)*(R.x-N.x)-(N.x-O.x)*(R.y-N.y)}function v(O,N){return O.x===N.x&&O.y===N.y}function E(O,N,R,M){var T=S(y(O,N,R)),P=S(y(O,N,M)),L=S(y(R,M,O)),D=S(y(R,M,N));return!!(T!==P&&L!==D||T===0&&w(O,R,N)||P===0&&w(O,M,N)||L===0&&w(R,O,M)||D===0&&w(R,N,M))}function w(O,N,R){return N.x<=Math.max(O.x,R.x)&&N.x>=Math.min(O.x,R.x)&&N.y<=Math.max(O.y,R.y)&&N.y>=Math.min(O.y,R.y)}function S(O){return O>0?1:O<0?-1:0}function b(O,N){var R=O;do{if(R.i!==O.i&&R.next.i!==O.i&&R.i!==N.i&&R.next.i!==N.i&&E(R,R.next,O,N))return!0;R=R.next}while(R!==O);return!1}function I(O,N){return y(O.prev,O,O.next)<0?y(O,N,O.next)>=0&&y(O,O.prev,N)>=0:y(O,N,O.prev)<0||y(O,O.next,N)<0}function k(O,N){var R=O,M=!1,T=(O.x+N.x)/2,P=(O.y+N.y)/2;do R.y>P!=R.next.y>P&&R.next.y!==R.y&&T<(R.next.x-R.x)*(P-R.y)/(R.next.y-R.y)+R.x&&(M=!M),R=R.next;while(R!==O);return M}function U(O,N){var R=new z(O.i,O.x,O.y),M=new z(N.i,N.x,N.y),T=O.next,P=N.prev;return O.next=N,N.prev=O,R.next=T,T.prev=R,M.next=R,R.prev=M,P.next=M,M.prev=P,M}function Y(O,N,R,M){var T=new z(O,N,R);return M?(T.next=M.next,T.prev=M,M.next.prev=T,M.next=T):(T.prev=T,T.next=T),T}function G(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function z(O,N,R){this.i=O,this.x=N,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}t.deviation=function(O,N,R,M){var T=N&&N.length,P=T?N[0]*R:O.length,L=Math.abs(H(O,0,P,R));if(T)for(var D=0,x=N.length;D<x;D++){var A=N[D]*R,C=D<x-1?N[D+1]*R:O.length;L-=Math.abs(H(O,A,C,R))}var W=0;for(D=0;D<M.length;D+=3){var X=M[D]*R,Q=M[D+1]*R,Z=M[D+2]*R;W+=Math.abs((O[X]-O[Z])*(O[Q+1]-O[X+1])-(O[X]-O[Q])*(O[Z+1]-O[X+1]))}return L===0&&W===0?0:Math.abs((W-L)/L)};function H(O,N,R,M){for(var T=0,P=N,L=R-M;P<R;P+=M)T+=(O[L]-O[P])*(O[P+1]+O[L+1]),L=P;return T}return t.flatten=function(O){for(var N=O[0][0].length,R={vertices:[],holes:[],dimensions:N},M=0,T=0;T<O.length;T++){for(var P=0;P<O[T].length;P++)for(var L=0;L<N;L++)R.vertices.push(O[T][P][L]);T>0&&(M+=O[T-1].length,R.holes.push(M))}return R},Jt.exports}var wh=Eh();const Sh=Bt(wh);wt.add(_f,vf);var Dt={exports:{}};/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */var bh=Dt.exports,To;function $h(){return To||(To=1,function(t,e){(function(){var r={function:!0,object:!0},n=r[typeof window]&&window||this,i=e,s=t&&!t.nodeType&&t,o=i&&s&&typeof Ft=="object"&&Ft;o&&(o.global===o||o.window===o||o.self===o)&&(n=o);var c=Math.pow(2,53)-1,a=/\bOpera/,u=Object.prototype,f=u.hasOwnProperty,p=u.toString;function g(b){return b=String(b),b.charAt(0).toUpperCase()+b.slice(1)}function m(b,I,k){var U={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return I&&k&&/^Win/i.test(b)&&!/^Windows Phone /i.test(b)&&(U=U[/[\d.]+$/.exec(b)])&&(b="Windows "+U),b=String(b),I&&k&&(b=b.replace(RegExp(I,"i"),k)),b=$(b.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),b}function _(b,I){var k=-1,U=b?b.length:0;if(typeof U=="number"&&U>-1&&U<=c)for(;++k<U;)I(b[k],k,b);else l(b,I)}function $(b){return b=E(b),/^(?:webOS|i(?:OS|P))/.test(b)?b:g(b)}function l(b,I){for(var k in b)f.call(b,k)&&I(b[k],k,b)}function d(b){return b==null?g(b):p.call(b).slice(8,-1)}function h(b,I){var k=b!=null?typeof b[I]:"number";return!/^(?:boolean|number|string|undefined)$/.test(k)&&(k=="object"?!!b[I]:!0)}function y(b){return String(b).replace(/([ -])(?!$)/g,"$1?")}function v(b,I){var k=null;return _(b,function(U,Y){k=I(k,U,Y,b)}),k}function E(b){return String(b).replace(/^ +| +$/g,"")}function w(b){var I=n,k=b&&typeof b=="object"&&d(b)!="String";k&&(I=b,b=null);var U=I.navigator||{},Y=U.userAgent||"";b||(b=Y);var G=k?!!U.likeChrome:/\bChrome\b/.test(b)&&!/internal|\n/i.test(p.toString()),z="Object",H=k?z:"ScriptBridgingProxyObject",O=k?z:"Environment",N=k&&I.java?"JavaPackage":d(I.java),R=k?z:"RuntimeObject",M=/\bJava/.test(N)&&I.java,T=M&&d(I.environment)==O,P=M?"a":"",L=M?"b":"",D=I.document||{},x=I.operamini||I.opera,A=a.test(A=k&&x?x["[[Class]]"]:d(x))?A:x=null,C,W=b,X=[],Q=null,Z=b==Y,F=Z&&x&&typeof x.version=="function"&&x.version(),j,B=Ae([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),q=ve(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),V=Ve([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=_e({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),K=de(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function Ae(le){return v(le,function(oe,ne){return oe||RegExp("\\b"+(ne.pattern||y(ne))+"\\b","i").exec(b)&&(ne.label||ne)})}function _e(le){return v(le,function(oe,ne,Re){return oe||(ne[V]||ne[/^[a-z]+(?: +[a-z]+\b)*/i.exec(V)]||RegExp("\\b"+y(Re)+"(?:\\b|\\w*\\d)","i").exec(b))&&Re})}function ve(le){return v(le,function(oe,ne){return oe||RegExp("\\b"+(ne.pattern||y(ne))+"\\b","i").exec(b)&&(ne.label||ne)})}function de(le){return v(le,function(oe,ne){var Re=ne.pattern||y(ne);return!oe&&(oe=RegExp("\\b"+Re+"(?:/[\\d.]+|[ \\w.]*)","i").exec(b))&&(oe=m(oe,Re,ne.label||ne)),oe})}function Ve(le){return v(le,function(oe,ne){var Re=ne.pattern||y(ne);return!oe&&(oe=RegExp("\\b"+Re+" *\\d+[.\\w_]*","i").exec(b)||RegExp("\\b"+Re+" *\\w+-[\\w]*","i").exec(b)||RegExp("\\b"+Re+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(b))&&((oe=String(ne.label&&!RegExp(Re,"i").test(ne.label)?ne.label:oe).split("/"))[1]&&!/[\d.]+/.test(oe[0])&&(oe[0]+=" "+oe[1]),ne=ne.label||ne,oe=$(oe[0].replace(RegExp(Re,"i"),ne).replace(RegExp("; *(?:"+ne+"[_-])?","i")," ").replace(RegExp("("+ne+")[-_.]?(\\w)","i"),"$1 $2"))),oe})}function we(le){return v(le,function(oe,ne){return oe||(RegExp(ne+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(b)||0)[1]||null})}function $t(){return this.description||""}if(B&&(B=[B]),/\bAndroid\b/.test(K)&&!V&&(C=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(b))&&(V=E(C[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),J&&!V?V=Ve([J]):J&&V&&(V=V.replace(RegExp("^("+y(J)+")[-_.\\s]","i"),J+" ").replace(RegExp("^("+y(J)+")[-_.]?(\\w)","i"),J+" $2")),(C=/\bGoogle TV\b/.exec(V))&&(V=C[0]),/\bSimulator\b/i.test(b)&&(V=(V?V+" ":"")+"Simulator"),q=="Opera Mini"&&/\bOPiOS\b/.test(b)&&X.push("running in Turbo/Uncompressed mode"),q=="IE"&&/\blike iPhone OS\b/.test(b)?(C=w(b.replace(/like iPhone OS/,"")),J=C.manufacturer,V=C.product):/^iP/.test(V)?(q||(q="Safari"),K="iOS"+((C=/ OS ([\d_]+)/i.exec(b))?" "+C[1].replace(/_/g,"."):"")):q=="Konqueror"&&/^Linux\b/i.test(K)?K="Kubuntu":J&&J!="Google"&&(/Chrome/.test(q)&&!/\bMobile Safari\b/i.test(b)||/\bVita\b/.test(V))||/\bAndroid\b/.test(K)&&/^Chrome/.test(q)&&/\bVersion\//i.test(b)?(q="Android Browser",K=/\bAndroid\b/.test(K)?K:"Android"):q=="Silk"?(/\bMobi/i.test(b)||(K="Android",X.unshift("desktop mode")),/Accelerated *= *true/i.test(b)&&X.unshift("accelerated")):q=="UC Browser"&&/\bUCWEB\b/.test(b)?X.push("speed mode"):q=="PaleMoon"&&(C=/\bFirefox\/([\d.]+)\b/.exec(b))?X.push("identifying as Firefox "+C[1]):q=="Firefox"&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(b))?(K||(K="Firefox OS"),V||(V=C[1])):!q||(C=!/\bMinefield\b/i.test(b)&&/\b(?:Firefox|Safari)\b/.exec(q))?(q&&!V&&/[\/,]|^[^(]+?\)/.test(b.slice(b.indexOf(C+"/")+8))&&(q=null),(C=V||J||K)&&(V||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(K))&&(q=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(K)?K:C)+" Browser")):q=="Electron"&&(C=(/\bChrome\/([\d.]+)\b/.exec(b)||0)[1])&&X.push("Chromium "+C),F||(F=we(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(q),"(?:Firefox|Minefield|NetFront)"])),(C=B=="iCab"&&parseFloat(F)>3&&"WebKit"||/\bOpera\b/.test(q)&&(/\bOPR\b/.test(b)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(b)&&!/^(?:Trident|EdgeHTML)$/.test(B)&&"WebKit"||!B&&/\bMSIE\b/i.test(b)&&(K=="Mac OS"?"Tasman":"Trident")||B=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(q)&&"NetFront")&&(B=[C]),q=="IE"&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(b)||0)[1])?(q+=" Mobile",K="Windows Phone "+(/\+$/.test(C)?C:C+".x"),X.unshift("desktop mode")):/\bWPDesktop\b/i.test(b)?(q="IE Mobile",K="Windows Phone 8.x",X.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(b)||0)[1])):q!="IE"&&B=="Trident"&&(C=/\brv:([\d.]+)/.exec(b))&&(q&&X.push("identifying as "+q+(F?" "+F:"")),q="IE",F=C[1]),Z){if(h(I,"global"))if(M&&(C=M.lang.System,W=C.getProperty("os.arch"),K=K||C.getProperty("os.name")+" "+C.getProperty("os.version")),T){try{F=I.require("ringo/engine").version.join("."),q="RingoJS"}catch{(C=I.system)&&C.global.system==I.system&&(q="Narwhal",K||(K=C[0].os||null))}q||(q="Rhino")}else typeof I.process=="object"&&!I.process.browser&&(C=I.process)&&(typeof C.versions=="object"&&(typeof C.versions.electron=="string"?(X.push("Node "+C.versions.node),q="Electron",F=C.versions.electron):typeof C.versions.nw=="string"&&(X.push("Chromium "+F,"Node "+C.versions.node),q="NW.js",F=C.versions.nw)),q||(q="Node.js",W=C.arch,K=C.platform,F=/[\d.]+/.exec(C.version),F=F?F[0]:null));else d(C=I.runtime)==H?(q="Adobe AIR",K=C.flash.system.Capabilities.os):d(C=I.phantom)==R?(q="PhantomJS",F=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):typeof D.documentMode=="number"&&(C=/\bTrident\/(\d+)/i.exec(b))?(F=[F,D.documentMode],(C=+C[1]+4)!=F[1]&&(X.push("IE "+F[1]+" mode"),B&&(B[1]=""),F[1]=C),F=q=="IE"?String(F[1].toFixed(1)):F[0]):typeof D.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(q)&&(X.push("masking as "+q+" "+F),q="IE",F="11.0",B=["Trident"],K="Windows");K=K&&$(K)}if(F&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(b+";"+(Z&&U.appMinorVersion))||/\bMinefield\b/i.test(b)&&"a")&&(Q=/b/i.test(C)?"beta":"alpha",F=F.replace(RegExp(C+"\\+?$"),"")+(Q=="beta"?L:P)+(/\d+\+?/.exec(C)||"")),q=="Fennec"||q=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(K))q="Firefox Mobile";else if(q=="Maxthon"&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(V))V=="Xbox 360"&&(K=null),V=="Xbox 360"&&/\bIEMobile\b/.test(b)&&X.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(q)||q&&!V&&!/Browser|Mobi/.test(q))&&(K=="Windows CE"||/Mobi/i.test(b)))q+=" Mobile";else if(q=="IE"&&Z)try{I.external===null&&X.unshift("platform preview")}catch{X.unshift("embedded")}else(/\bBlackBerry\b/.test(V)||/\bBB10\b/.test(b))&&(C=(RegExp(V.replace(/ +/g," *")+"/([.\\d]+)","i").exec(b)||0)[1]||F)?(C=[C,/BB10/.test(b)],K=(C[1]?(V=null,J="BlackBerry"):"Device Software")+" "+C[0],F=null):this!=l&&V!="Wii"&&(Z&&x||/Opera/.test(q)&&/\b(?:MSIE|Firefox)\b/i.test(b)||q=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(K)||q=="IE"&&(K&&!/^Win/.test(K)&&F>5.5||/\bWindows XP\b/.test(K)&&F>8||F==8&&!/\bTrident\b/.test(b)))&&!a.test(C=w.call(l,b.replace(a,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),a.test(q)?(/\bIE\b/.test(C)&&K=="Mac OS"&&(K=null),C="identify"+C):(C="mask"+C,A?q=$(A.replace(/([a-z])([A-Z])/g,"$1 $2")):q="Opera",/\bIE\b/.test(C)&&(K=null),Z||(F=null)),B=["Presto"],X.push(C));(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(b)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],q=="Safari"&&C[1].slice(-1)=="+"?(q="WebKit Nightly",Q="alpha",F=C[1].slice(0,-1)):(F==C[1]||F==(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(b)||0)[1]))&&(F=null),C[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(b)||0)[1],C[0]==537.36&&C[2]==537.36&&parseFloat(C[1])>=28&&B=="WebKit"&&(B=["Blink"]),!Z||!G&&!C[1]?(B&&(B[1]="like Safari"),C=(C=C[0],C<400?1:C<500?2:C<526?3:C<533?4:C<534?"4+":C<535?5:C<537?6:C<538?7:C<601?8:C<602?9:C<604?10:C<606?11:C<608?12:"12")):(B&&(B[1]="like Chrome"),C=C[1]||(C=C[0],C<530?1:C<532?2:C<532.05?3:C<533?4:C<534.03?5:C<534.07?6:C<534.1?7:C<534.13?8:C<534.16?9:C<534.24?10:C<534.3?11:C<535.01?12:C<535.02?"13+":C<535.07?15:C<535.11?16:C<535.19?17:C<536.05?18:C<536.1?19:C<537.01?20:C<537.11?"21+":C<537.13?23:C<537.18?24:C<537.24?25:C<537.36?26:B!="Blink"?"27":"28")),B&&(B[1]+=" "+(C+=typeof C=="number"?".x":/[.+]/.test(C)?"":"+")),q=="Safari"&&(!F||parseInt(F)>45)?F=C:q=="Chrome"&&/\bHeadlessChrome/i.test(b)&&X.unshift("headless")),q=="Opera"&&(C=/\bzbov|zvav$/.exec(K))?(q+=" ",X.unshift("desktop mode"),C=="zvav"?(q+="Mini",F=null):q+="Mobile",K=K.replace(RegExp(" *"+C+"$"),"")):q=="Safari"&&/\bChrome\b/.exec(B&&B[1])?(X.unshift("desktop mode"),q="Chrome Mobile",F=null,/\bOS X\b/.test(K)?(J="Apple",K="iOS 4.3+"):K=null):/\bSRWare Iron\b/.test(q)&&!F&&(F=we("Chrome")),F&&F.indexOf(C=/[\d.]+$/.exec(K))==0&&b.indexOf("/"+C+"-")>-1&&(K=E(K.replace(C,""))),K&&K.indexOf(q)!=-1&&!RegExp(q+" OS").test(K)&&(K=K.replace(RegExp(" *"+y(q)+" *"),"")),B&&!/\b(?:Avant|Nook)\b/.test(q)&&(/Browser|Lunascape|Maxthon/.test(q)||q!="Safari"&&/^iOS/.test(K)&&/\bSafari\b/.test(B[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(q)&&B[1])&&(C=B[B.length-1])&&X.push(C),X.length&&(X=["("+X.join("; ")+")"]),J&&V&&V.indexOf(J)<0&&X.push("on "+J),V&&X.push((/^on /.test(X[X.length-1])?"":"on ")+V),K&&(C=/ ([\d.+]+)$/.exec(K),j=C&&K.charAt(K.length-C[0].length-1)=="/",K={architecture:32,family:C&&!j?K.replace(C[0],""):K,version:C?C[1]:null,toString:function(){var le=this.version;return this.family+(le&&!j?" "+le:"")+(this.architecture==64?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(W))&&!/\bi686\b/i.test(W)?(K&&(K.architecture=64,K.family=K.family.replace(RegExp(" *"+C),"")),q&&(/\bWOW64\b/i.test(b)||Z&&/\w(?:86|32)$/.test(U.cpuClass||U.platform)&&!/\bWin64; x64\b/i.test(b))&&X.unshift("32-bit")):K&&/^OS X/.test(K.family)&&q=="Chrome"&&parseFloat(F)>=39&&(K.architecture=64),b||(b=null);var me={};return me.description=b,me.layout=B&&B[0],me.manufacturer=J,me.name=q,me.prerelease=Q,me.product=V,me.ua=b,me.version=q&&F,me.os=K||{architecture:null,family:null,version:null,toString:function(){return"null"}},me.parse=w,me.toString=$t,me.version&&X.unshift(F),me.name&&X.unshift(q),K&&q&&!(K==String(K).split(" ")[0]&&(K==q.split(" ")[0]||V))&&X.push(V?"("+K+")":"on "+K),X.length&&(me.description=X.join(" ")),me}var S=w();i&&s?l(S,function(b,I){i[I]=b}):n.platform=S}).call(bh)}(Dt,Dt.exports)),Dt.exports}var Rt=$h();function Yl(t){return parseInt(String(t),10)}"toInt"in String.prototype||(String.prototype.toInt=function(){return Yl(this)});"toUint"in String.prototype||(String.prototype.toUint=function(){const t=Yl(this);return t<0?-t:t});class Dn{static stageW=0;static stageH=0;static debugLog=!1;static isSafari=Rt.name==="Safari";static isFirefox=Rt.name==="Firefox";static isMac=/OS X/.test(Rt.os?.family??"");static isWin=/Windows/.test(Rt.os?.family??"");static isMobile=!/(Windows|OS X)/.test(Rt.os?.family??"");static hDip={};static isDbg=!1;static isPackaged=!1;static isDarkMode=!1;static cc4ColorName}var Ln={},Qt={},Po;function ge(){return Po||(Po=1,Qt.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")t.apply(this,e);else return new Promise((r,n)=>{e.push((i,s)=>i!=null?n(i):r(s)),t.apply(this,e)})},"name",{value:t.name})},Qt.fromPromise=function(t){return Object.defineProperty(function(...e){const r=e[e.length-1];if(typeof r!="function")return t.apply(this,e);e.pop(),t.apply(this,e).then(n=>r(null,n),r)},"name",{value:t.name})}),Qt}var Fn,Oo;function xh(){if(Oo)return Fn;Oo=1;var t=mf,e=process.cwd,r=null,n=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return r||(r=e.call(process)),r};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var i=process.chdir;process.chdir=function(o){r=null,i.call(process,o)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}Fn=s;function s(o){t.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&c(o),o.lutimes||a(o),o.chown=p(o.chown),o.fchown=p(o.fchown),o.lchown=p(o.lchown),o.chmod=u(o.chmod),o.fchmod=u(o.fchmod),o.lchmod=u(o.lchmod),o.chownSync=g(o.chownSync),o.fchownSync=g(o.fchownSync),o.lchownSync=g(o.lchownSync),o.chmodSync=f(o.chmodSync),o.fchmodSync=f(o.fchmodSync),o.lchmodSync=f(o.lchmodSync),o.stat=m(o.stat),o.fstat=m(o.fstat),o.lstat=m(o.lstat),o.statSync=_(o.statSync),o.fstatSync=_(o.fstatSync),o.lstatSync=_(o.lstatSync),o.chmod&&!o.lchmod&&(o.lchmod=function(l,d,h){h&&process.nextTick(h)},o.lchmodSync=function(){}),o.chown&&!o.lchown&&(o.lchown=function(l,d,h,y){y&&process.nextTick(y)},o.lchownSync=function(){}),n==="win32"&&(o.rename=typeof o.rename!="function"?o.rename:function(l){function d(h,y,v){var E=Date.now(),w=0;l(h,y,function S(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-E<6e4){setTimeout(function(){o.stat(y,function(I,k){I&&I.code==="ENOENT"?l(h,y,S):v(b)})},w),w<100&&(w+=10);return}v&&v(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(o.rename)),o.read=typeof o.read!="function"?o.read:function(l){function d(h,y,v,E,w,S){var b;if(S&&typeof S=="function"){var I=0;b=function(k,U,Y){if(k&&k.code==="EAGAIN"&&I<10)return I++,l.call(o,h,y,v,E,w,b);S.apply(this,arguments)}}return l.call(o,h,y,v,E,w,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(o.read),o.readSync=typeof o.readSync!="function"?o.readSync:function(l){return function(d,h,y,v,E){for(var w=0;;)try{return l.call(o,d,h,y,v,E)}catch(S){if(S.code==="EAGAIN"&&w<10){w++;continue}throw S}}}(o.readSync);function c(l){l.lchmod=function(d,h,y){l.open(d,t.O_WRONLY|t.O_SYMLINK,h,function(v,E){if(v){y&&y(v);return}l.fchmod(E,h,function(w){l.close(E,function(S){y&&y(w||S)})})})},l.lchmodSync=function(d,h){var y=l.openSync(d,t.O_WRONLY|t.O_SYMLINK,h),v=!0,E;try{E=l.fchmodSync(y,h),v=!1}finally{if(v)try{l.closeSync(y)}catch{}else l.closeSync(y)}return E}}function a(l){t.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,h,y,v){l.open(d,t.O_SYMLINK,function(E,w){if(E){v&&v(E);return}l.futimes(w,h,y,function(S){l.close(w,function(b){v&&v(S||b)})})})},l.lutimesSync=function(d,h,y){var v=l.openSync(d,t.O_SYMLINK),E,w=!0;try{E=l.futimesSync(v,h,y),w=!1}finally{if(w)try{l.closeSync(v)}catch{}else l.closeSync(v)}return E}):l.futimes&&(l.lutimes=function(d,h,y,v){v&&process.nextTick(v)},l.lutimesSync=function(){})}function u(l){return l&&function(d,h,y){return l.call(o,d,h,function(v){$(v)&&(v=null),y&&y.apply(this,arguments)})}}function f(l){return l&&function(d,h){try{return l.call(o,d,h)}catch(y){if(!$(y))throw y}}}function p(l){return l&&function(d,h,y,v){return l.call(o,d,h,y,function(E){$(E)&&(E=null),v&&v.apply(this,arguments)})}}function g(l){return l&&function(d,h,y){try{return l.call(o,d,h,y)}catch(v){if(!$(v))throw v}}}function m(l){return l&&function(d,h,y){typeof h=="function"&&(y=h,h=null);function v(E,w){w&&(w.uid<0&&(w.uid+=4294967296),w.gid<0&&(w.gid+=4294967296)),y&&y.apply(this,arguments)}return h?l.call(o,d,h,v):l.call(o,d,v)}}function _(l){return l&&function(d,h){var y=h?l.call(o,d,h):l.call(o,d);return y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),y}}function $(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}return Fn}var kn,No;function Rh(){if(No)return kn;No=1;var t=pf.Stream;kn=e;function e(r){return{ReadStream:n,WriteStream:i};function n(s,o){if(!(this instanceof n))return new n(s,o);t.call(this);var c=this;this.path=s,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,o=o||{};for(var a=Object.keys(o),u=0,f=a.length;u<f;u++){var p=a[u];this[p]=o[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){c._read()});return}r.open(this.path,this.flags,this.mode,function(g,m){if(g){c.emit("error",g),c.readable=!1;return}c.fd=m,c.emit("open",m),c._read()})}function i(s,o){if(!(this instanceof i))return new i(s,o);t.call(this),this.path=s,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var c=Object.keys(o),a=0,u=c.length;a<u;a++){var f=c[a];this[f]=o[f]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return kn}var qn,Mo;function Ch(){if(Mo)return qn;Mo=1,qn=e;var t=Object.getPrototypeOf||function(r){return r.__proto__};function e(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var n={__proto__:t(r)};else var n=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))}),n}return qn}var er,Do;function zt(){if(Do)return er;Do=1;var t=Et,e=xh(),r=Rh(),n=Ch(),i=Bs,s,o;typeof Symbol=="function"&&typeof Symbol.for=="function"?(s=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(s="___graceful-fs.queue",o="___graceful-fs.previous");function c(){}function a(l,d){Object.defineProperty(l,s,{get:function(){return d}})}var u=c;if(i.debuglog?u=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var l=i.format.apply(i,arguments);l="GFS4: "+l.split(/\n/).join(`
GFS4: `),console.error(l)}),!t[s]){var f=Ft[s]||[];a(t,f),t.close=function(l){function d(h,y){return l.call(t,h,function(v){v||_(),typeof y=="function"&&y.apply(this,arguments)})}return Object.defineProperty(d,o,{value:l}),d}(t.close),t.closeSync=function(l){function d(h){l.apply(t,arguments),_()}return Object.defineProperty(d,o,{value:l}),d}(t.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){u(t[s]),ul.equal(t[s].length,0)})}Ft[s]||a(Ft,t[s]),er=p(n(t)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!t.__patched&&(er=p(t),t.__patched=!0);function p(l){e(l),l.gracefulify=p,l.createReadStream=P,l.createWriteStream=L;var d=l.readFile;l.readFile=h;function h(A,C,W){return typeof C=="function"&&(W=C,C=null),X(A,C,W);function X(Q,Z,F,j){return d(Q,Z,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?g([X,[Q,Z,F],B,j||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}var y=l.writeFile;l.writeFile=v;function v(A,C,W,X){return typeof W=="function"&&(X=W,W=null),Q(A,C,W,X);function Q(Z,F,j,B,q){return y(Z,F,j,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?g([Q,[Z,F,j,B],V,q||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var E=l.appendFile;E&&(l.appendFile=w);function w(A,C,W,X){return typeof W=="function"&&(X=W,W=null),Q(A,C,W,X);function Q(Z,F,j,B,q){return E(Z,F,j,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?g([Q,[Z,F,j,B],V,q||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var S=l.copyFile;S&&(l.copyFile=b);function b(A,C,W,X){return typeof W=="function"&&(X=W,W=0),Q(A,C,W,X);function Q(Z,F,j,B,q){return S(Z,F,j,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?g([Q,[Z,F,j,B],V,q||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var I=l.readdir;l.readdir=U;var k=/^v[0-5]\./;function U(A,C,W){typeof C=="function"&&(W=C,C=null);var X=k.test(process.version)?function(F,j,B,q){return I(F,Q(F,j,B,q))}:function(F,j,B,q){return I(F,j,Q(F,j,B,q))};return X(A,C,W);function Q(Z,F,j,B){return function(q,V){q&&(q.code==="EMFILE"||q.code==="ENFILE")?g([X,[Z,F,j],q,B||Date.now(),Date.now()]):(V&&V.sort&&V.sort(),typeof j=="function"&&j.call(this,q,V))}}}if(process.version.substr(0,4)==="v0.8"){var Y=r(l);N=Y.ReadStream,M=Y.WriteStream}var G=l.ReadStream;G&&(N.prototype=Object.create(G.prototype),N.prototype.open=R);var z=l.WriteStream;z&&(M.prototype=Object.create(z.prototype),M.prototype.open=T),Object.defineProperty(l,"ReadStream",{get:function(){return N},set:function(A){N=A},enumerable:!0,configurable:!0}),Object.defineProperty(l,"WriteStream",{get:function(){return M},set:function(A){M=A},enumerable:!0,configurable:!0});var H=N;Object.defineProperty(l,"FileReadStream",{get:function(){return H},set:function(A){H=A},enumerable:!0,configurable:!0});var O=M;Object.defineProperty(l,"FileWriteStream",{get:function(){return O},set:function(A){O=A},enumerable:!0,configurable:!0});function N(A,C){return this instanceof N?(G.apply(this,arguments),this):N.apply(Object.create(N.prototype),arguments)}function R(){var A=this;x(A.path,A.flags,A.mode,function(C,W){C?(A.autoClose&&A.destroy(),A.emit("error",C)):(A.fd=W,A.emit("open",W),A.read())})}function M(A,C){return this instanceof M?(z.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function T(){var A=this;x(A.path,A.flags,A.mode,function(C,W){C?(A.destroy(),A.emit("error",C)):(A.fd=W,A.emit("open",W))})}function P(A,C){return new l.ReadStream(A,C)}function L(A,C){return new l.WriteStream(A,C)}var D=l.open;l.open=x;function x(A,C,W,X){return typeof W=="function"&&(X=W,W=null),Q(A,C,W,X);function Q(Z,F,j,B,q){return D(Z,F,j,function(V,J){V&&(V.code==="EMFILE"||V.code==="ENFILE")?g([Q,[Z,F,j,B],V,q||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}return l}function g(l){u("ENQUEUE",l[0].name,l[1]),t[s].push(l),$()}var m;function _(){for(var l=Date.now(),d=0;d<t[s].length;++d)t[s][d].length>2&&(t[s][d][3]=l,t[s][d][4]=l);$()}function $(){if(clearTimeout(m),m=void 0,t[s].length!==0){var l=t[s].shift(),d=l[0],h=l[1],y=l[2],v=l[3],E=l[4];if(v===void 0)u("RETRY",d.name,h),d.apply(null,h);else if(Date.now()-v>=6e4){u("TIMEOUT",d.name,h);var w=h.pop();typeof w=="function"&&w.call(null,y)}else{var S=Date.now()-E,b=Math.max(E-v,1),I=Math.min(b*1.2,100);S>=I?(u("RETRY",d.name,h),d.apply(null,h.concat([v]))):t[s].push(l)}m===void 0&&(m=setTimeout($,0))}}return er}var Lo;function Ce(){return Lo||(Lo=1,function(t){const e=ge().fromCallback,r=zt(),n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(t,r),n.forEach(i=>{t[i]=e(r[i])}),t.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},t.read=function(i,s,o,c,a,u){return typeof u=="function"?r.read(i,s,o,c,a,u):new Promise((f,p)=>{r.read(i,s,o,c,a,(g,m,_)=>{if(g)return p(g);f({bytesRead:m,buffer:_})})})},t.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((c,a)=>{r.write(i,s,...o,(u,f,p)=>{if(u)return a(u);c({bytesWritten:f,buffer:p})})})},t.readv=function(i,s,...o){return typeof o[o.length-1]=="function"?r.readv(i,s,...o):new Promise((c,a)=>{r.readv(i,s,...o,(u,f,p)=>{if(u)return a(u);c({bytesRead:f,buffers:p})})})},t.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((c,a)=>{r.writev(i,s,...o,(u,f,p)=>{if(u)return a(u);c({bytesWritten:f,buffers:p})})})},typeof r.realpath.native=="function"?t.realpath.native=e(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Ln)),Ln}var tr={},jn={},Fo;function Ah(){if(Fo)return jn;Fo=1;const t=fe;return jn.checkPath=function(r){if(process.platform==="win32"&&/[<>:"|?*]/.test(r.replace(t.parse(r).root,""))){const i=new Error(`Path contains invalid characters: ${r}`);throw i.code="EINVAL",i}},jn}var ko;function Ih(){if(ko)return tr;ko=1;const t=Ce(),{checkPath:e}=Ah(),r=n=>{const i={mode:511};return typeof n=="number"?n:{...i,...n}.mode};return tr.makeDir=async(n,i)=>(e(n),t.mkdir(n,{mode:r(i),recursive:!0})),tr.makeDirSync=(n,i)=>(e(n),t.mkdirSync(n,{mode:r(i),recursive:!0})),tr}var Un,qo;function ze(){if(qo)return Un;qo=1;const t=ge().fromPromise,{makeDir:e,makeDirSync:r}=Ih(),n=t(e);return Un={mkdirs:n,mkdirsSync:r,mkdirp:n,mkdirpSync:r,ensureDir:n,ensureDirSync:r},Un}var Bn,jo;function pt(){if(jo)return Bn;jo=1;const t=ge().fromPromise,e=Ce();function r(n){return e.access(n).then(()=>!0).catch(()=>!1)}return Bn={pathExists:t(r),pathExistsSync:e.existsSync},Bn}var Gn,Uo;function Kl(){if(Uo)return Gn;Uo=1;const t=Ce(),e=ge().fromPromise;async function r(i,s,o){const c=await t.open(i,"r+");let a=null;try{await t.futimes(c,s,o)}finally{try{await t.close(c)}catch(u){a=u}}if(a)throw a}function n(i,s,o){const c=t.openSync(i,"r+");return t.futimesSync(c,s,o),t.closeSync(c)}return Gn={utimesMillis:e(r),utimesMillisSync:n},Gn}var zn,Bo;function St(){if(Bo)return zn;Bo=1;const t=Ce(),e=fe,r=ge().fromPromise;function n(g,m,_){const $=_.dereference?l=>t.stat(l,{bigint:!0}):l=>t.lstat(l,{bigint:!0});return Promise.all([$(g),$(m).catch(l=>{if(l.code==="ENOENT")return null;throw l})]).then(([l,d])=>({srcStat:l,destStat:d}))}function i(g,m,_){let $;const l=_.dereference?h=>t.statSync(h,{bigint:!0}):h=>t.lstatSync(h,{bigint:!0}),d=l(g);try{$=l(m)}catch(h){if(h.code==="ENOENT")return{srcStat:d,destStat:null};throw h}return{srcStat:d,destStat:$}}async function s(g,m,_,$){const{srcStat:l,destStat:d}=await n(g,m,$);if(d){if(u(l,d)){const h=e.basename(g),y=e.basename(m);if(_==="move"&&h!==y&&h.toLowerCase()===y.toLowerCase())return{srcStat:l,destStat:d,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!d.isDirectory())throw new Error(`Cannot overwrite non-directory '${m}' with directory '${g}'.`);if(!l.isDirectory()&&d.isDirectory())throw new Error(`Cannot overwrite directory '${m}' with non-directory '${g}'.`)}if(l.isDirectory()&&f(g,m))throw new Error(p(g,m,_));return{srcStat:l,destStat:d}}function o(g,m,_,$){const{srcStat:l,destStat:d}=i(g,m,$);if(d){if(u(l,d)){const h=e.basename(g),y=e.basename(m);if(_==="move"&&h!==y&&h.toLowerCase()===y.toLowerCase())return{srcStat:l,destStat:d,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!d.isDirectory())throw new Error(`Cannot overwrite non-directory '${m}' with directory '${g}'.`);if(!l.isDirectory()&&d.isDirectory())throw new Error(`Cannot overwrite directory '${m}' with non-directory '${g}'.`)}if(l.isDirectory()&&f(g,m))throw new Error(p(g,m,_));return{srcStat:l,destStat:d}}async function c(g,m,_,$){const l=e.resolve(e.dirname(g)),d=e.resolve(e.dirname(_));if(d===l||d===e.parse(d).root)return;let h;try{h=await t.stat(d,{bigint:!0})}catch(y){if(y.code==="ENOENT")return;throw y}if(u(m,h))throw new Error(p(g,_,$));return c(g,m,d,$)}function a(g,m,_,$){const l=e.resolve(e.dirname(g)),d=e.resolve(e.dirname(_));if(d===l||d===e.parse(d).root)return;let h;try{h=t.statSync(d,{bigint:!0})}catch(y){if(y.code==="ENOENT")return;throw y}if(u(m,h))throw new Error(p(g,_,$));return a(g,m,d,$)}function u(g,m){return m.ino&&m.dev&&m.ino===g.ino&&m.dev===g.dev}function f(g,m){const _=e.resolve(g).split(e.sep).filter(l=>l),$=e.resolve(m).split(e.sep).filter(l=>l);return _.every((l,d)=>$[d]===l)}function p(g,m,_){return`Cannot ${_} '${g}' to a subdirectory of itself, '${m}'.`}return zn={checkPaths:r(s),checkPathsSync:o,checkParentPaths:r(c),checkParentPathsSync:a,isSrcSubdir:f,areIdentical:u},zn}var Vn,Go;function Th(){if(Go)return Vn;Go=1;const t=Ce(),e=fe,{mkdirs:r}=ze(),{pathExists:n}=pt(),{utimesMillis:i}=Kl(),s=St();async function o($,l,d={}){typeof d=="function"&&(d={filter:d}),d.clobber="clobber"in d?!!d.clobber:!0,d.overwrite="overwrite"in d?!!d.overwrite:d.clobber,d.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:h,destStat:y}=await s.checkPaths($,l,"copy",d);if(await s.checkParentPaths($,h,l,"copy"),!await c($,l,d))return;const E=e.dirname(l);await n(E)||await r(E),await a(y,$,l,d)}async function c($,l,d){return d.filter?d.filter($,l):!0}async function a($,l,d,h){const v=await(h.dereference?t.stat:t.lstat)(l);if(v.isDirectory())return m(v,$,l,d,h);if(v.isFile()||v.isCharacterDevice()||v.isBlockDevice())return u(v,$,l,d,h);if(v.isSymbolicLink())return _($,l,d,h);throw v.isSocket()?new Error(`Cannot copy a socket file: ${l}`):v.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${l}`):new Error(`Unknown file: ${l}`)}async function u($,l,d,h,y){if(!l)return f($,d,h,y);if(y.overwrite)return await t.unlink(h),f($,d,h,y);if(y.errorOnExist)throw new Error(`'${h}' already exists`)}async function f($,l,d,h){if(await t.copyFile(l,d),h.preserveTimestamps){p($.mode)&&await g(d,$.mode);const y=await t.stat(l);await i(d,y.atime,y.mtime)}return t.chmod(d,$.mode)}function p($){return($&128)===0}function g($,l){return t.chmod($,l|128)}async function m($,l,d,h,y){l||await t.mkdir(h);const v=await t.readdir(d);await Promise.all(v.map(async E=>{const w=e.join(d,E),S=e.join(h,E);if(!await c(w,S,y))return;const{destStat:I}=await s.checkPaths(w,S,"copy",y);return a(I,w,S,y)})),l||await t.chmod(h,$.mode)}async function _($,l,d,h){let y=await t.readlink(l);if(h.dereference&&(y=e.resolve(process.cwd(),y)),!$)return t.symlink(y,d);let v=null;try{v=await t.readlink(d)}catch(E){if(E.code==="EINVAL"||E.code==="UNKNOWN")return t.symlink(y,d);throw E}if(h.dereference&&(v=e.resolve(process.cwd(),v)),s.isSrcSubdir(y,v))throw new Error(`Cannot copy '${y}' to a subdirectory of itself, '${v}'.`);if(s.isSrcSubdir(v,y))throw new Error(`Cannot overwrite '${v}' with '${y}'.`);return await t.unlink(d),t.symlink(y,d)}return Vn=o,Vn}var Hn,zo;function Ph(){if(zo)return Hn;zo=1;const t=zt(),e=fe,r=ze().mkdirsSync,n=Kl().utimesMillisSync,i=St();function s(E,w,S){typeof S=="function"&&(S={filter:S}),S=S||{},S.clobber="clobber"in S?!!S.clobber:!0,S.overwrite="overwrite"in S?!!S.overwrite:S.clobber,S.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:b,destStat:I}=i.checkPathsSync(E,w,"copy",S);if(i.checkParentPathsSync(E,b,w,"copy"),S.filter&&!S.filter(E,w))return;const k=e.dirname(w);return t.existsSync(k)||r(k),o(I,E,w,S)}function o(E,w,S,b){const k=(b.dereference?t.statSync:t.lstatSync)(w);if(k.isDirectory())return $(k,E,w,S,b);if(k.isFile()||k.isCharacterDevice()||k.isBlockDevice())return c(k,E,w,S,b);if(k.isSymbolicLink())return y(E,w,S,b);throw k.isSocket()?new Error(`Cannot copy a socket file: ${w}`):k.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${w}`):new Error(`Unknown file: ${w}`)}function c(E,w,S,b,I){return w?a(E,S,b,I):u(E,S,b,I)}function a(E,w,S,b){if(b.overwrite)return t.unlinkSync(S),u(E,w,S,b);if(b.errorOnExist)throw new Error(`'${S}' already exists`)}function u(E,w,S,b){return t.copyFileSync(w,S),b.preserveTimestamps&&f(E.mode,w,S),m(S,E.mode)}function f(E,w,S){return p(E)&&g(S,E),_(w,S)}function p(E){return(E&128)===0}function g(E,w){return m(E,w|128)}function m(E,w){return t.chmodSync(E,w)}function _(E,w){const S=t.statSync(E);return n(w,S.atime,S.mtime)}function $(E,w,S,b,I){return w?d(S,b,I):l(E.mode,S,b,I)}function l(E,w,S,b){return t.mkdirSync(S),d(w,S,b),m(S,E)}function d(E,w,S){t.readdirSync(E).forEach(b=>h(b,E,w,S))}function h(E,w,S,b){const I=e.join(w,E),k=e.join(S,E);if(b.filter&&!b.filter(I,k))return;const{destStat:U}=i.checkPathsSync(I,k,"copy",b);return o(U,I,k,b)}function y(E,w,S,b){let I=t.readlinkSync(w);if(b.dereference&&(I=e.resolve(process.cwd(),I)),E){let k;try{k=t.readlinkSync(S)}catch(U){if(U.code==="EINVAL"||U.code==="UNKNOWN")return t.symlinkSync(I,S);throw U}if(b.dereference&&(k=e.resolve(process.cwd(),k)),i.isSrcSubdir(I,k))throw new Error(`Cannot copy '${I}' to a subdirectory of itself, '${k}'.`);if(i.isSrcSubdir(k,I))throw new Error(`Cannot overwrite '${k}' with '${I}'.`);return v(I,S)}else return t.symlinkSync(I,S)}function v(E,w){return t.unlinkSync(w),t.symlinkSync(E,w)}return Hn=s,Hn}var Xn,Vo;function Xs(){if(Vo)return Xn;Vo=1;const t=ge().fromPromise;return Xn={copy:t(Th()),copySync:Ph()},Xn}var Wn,Ho;function fn(){if(Ho)return Wn;Ho=1;const t=zt(),e=ge().fromCallback;function r(i,s){t.rm(i,{recursive:!0,force:!0},s)}function n(i){t.rmSync(i,{recursive:!0,force:!0})}return Wn={remove:e(r),removeSync:n},Wn}var Yn,Xo;function Oh(){if(Xo)return Yn;Xo=1;const t=ge().fromPromise,e=Ce(),r=fe,n=ze(),i=fn(),s=t(async function(a){let u;try{u=await e.readdir(a)}catch{return n.mkdirs(a)}return Promise.all(u.map(f=>i.remove(r.join(a,f))))});function o(c){let a;try{a=e.readdirSync(c)}catch{return n.mkdirsSync(c)}a.forEach(u=>{u=r.join(c,u),i.removeSync(u)})}return Yn={emptyDirSync:o,emptydirSync:o,emptyDir:s,emptydir:s},Yn}var Kn,Wo;function Nh(){if(Wo)return Kn;Wo=1;const t=ge().fromPromise,e=fe,r=Ce(),n=ze();async function i(o){let c;try{c=await r.stat(o)}catch{}if(c&&c.isFile())return;const a=e.dirname(o);let u=null;try{u=await r.stat(a)}catch(f){if(f.code==="ENOENT"){await n.mkdirs(a),await r.writeFile(o,"");return}else throw f}u.isDirectory()?await r.writeFile(o,""):await r.readdir(a)}function s(o){let c;try{c=r.statSync(o)}catch{}if(c&&c.isFile())return;const a=e.dirname(o);try{r.statSync(a).isDirectory()||r.readdirSync(a)}catch(u){if(u&&u.code==="ENOENT")n.mkdirsSync(a);else throw u}r.writeFileSync(o,"")}return Kn={createFile:t(i),createFileSync:s},Kn}var Zn,Yo;function Mh(){if(Yo)return Zn;Yo=1;const t=ge().fromPromise,e=fe,r=Ce(),n=ze(),{pathExists:i}=pt(),{areIdentical:s}=St();async function o(a,u){let f;try{f=await r.lstat(u)}catch{}let p;try{p=await r.lstat(a)}catch(_){throw _.message=_.message.replace("lstat","ensureLink"),_}if(f&&s(p,f))return;const g=e.dirname(u);await i(g)||await n.mkdirs(g),await r.link(a,u)}function c(a,u){let f;try{f=r.lstatSync(u)}catch{}try{const m=r.lstatSync(a);if(f&&s(m,f))return}catch(m){throw m.message=m.message.replace("lstat","ensureLink"),m}const p=e.dirname(u);return r.existsSync(p)||n.mkdirsSync(p),r.linkSync(a,u)}return Zn={createLink:t(o),createLinkSync:c},Zn}var Jn,Ko;function Dh(){if(Ko)return Jn;Ko=1;const t=fe,e=Ce(),{pathExists:r}=pt(),n=ge().fromPromise;async function i(o,c){if(t.isAbsolute(o)){try{await e.lstat(o)}catch(p){throw p.message=p.message.replace("lstat","ensureSymlink"),p}return{toCwd:o,toDst:o}}const a=t.dirname(c),u=t.join(a,o);if(await r(u))return{toCwd:u,toDst:o};try{await e.lstat(o)}catch(p){throw p.message=p.message.replace("lstat","ensureSymlink"),p}return{toCwd:o,toDst:t.relative(a,o)}}function s(o,c){if(t.isAbsolute(o)){if(!e.existsSync(o))throw new Error("absolute srcpath does not exist");return{toCwd:o,toDst:o}}const a=t.dirname(c),u=t.join(a,o);if(e.existsSync(u))return{toCwd:u,toDst:o};if(!e.existsSync(o))throw new Error("relative srcpath does not exist");return{toCwd:o,toDst:t.relative(a,o)}}return Jn={symlinkPaths:n(i),symlinkPathsSync:s},Jn}var Qn,Zo;function Lh(){if(Zo)return Qn;Zo=1;const t=Ce(),e=ge().fromPromise;async function r(i,s){if(s)return s;let o;try{o=await t.lstat(i)}catch{return"file"}return o&&o.isDirectory()?"dir":"file"}function n(i,s){if(s)return s;let o;try{o=t.lstatSync(i)}catch{return"file"}return o&&o.isDirectory()?"dir":"file"}return Qn={symlinkType:e(r),symlinkTypeSync:n},Qn}var ei,Jo;function Fh(){if(Jo)return ei;Jo=1;const t=ge().fromPromise,e=fe,r=Ce(),{mkdirs:n,mkdirsSync:i}=ze(),{symlinkPaths:s,symlinkPathsSync:o}=Dh(),{symlinkType:c,symlinkTypeSync:a}=Lh(),{pathExists:u}=pt(),{areIdentical:f}=St();async function p(m,_,$){let l;try{l=await r.lstat(_)}catch{}if(l&&l.isSymbolicLink()){const[v,E]=await Promise.all([r.stat(m),r.stat(_)]);if(f(v,E))return}const d=await s(m,_);m=d.toDst;const h=await c(d.toCwd,$),y=e.dirname(_);return await u(y)||await n(y),r.symlink(m,_,h)}function g(m,_,$){let l;try{l=r.lstatSync(_)}catch{}if(l&&l.isSymbolicLink()){const v=r.statSync(m),E=r.statSync(_);if(f(v,E))return}const d=o(m,_);m=d.toDst,$=a(d.toCwd,$);const h=e.dirname(_);return r.existsSync(h)||i(h),r.symlinkSync(m,_,$)}return ei={createSymlink:t(p),createSymlinkSync:g},ei}var ti,Qo;function kh(){if(Qo)return ti;Qo=1;const{createFile:t,createFileSync:e}=Nh(),{createLink:r,createLinkSync:n}=Mh(),{createSymlink:i,createSymlinkSync:s}=Fh();return ti={createFile:t,createFileSync:e,ensureFile:t,ensureFileSync:e,createLink:r,createLinkSync:n,ensureLink:r,ensureLinkSync:n,createSymlink:i,createSymlinkSync:s,ensureSymlink:i,ensureSymlinkSync:s},ti}var ri,ea;function Ws(){if(ea)return ri;ea=1;function t(r,{EOL:n=`
`,finalEOL:i=!0,replacer:s=null,spaces:o}={}){const c=i?n:"";return JSON.stringify(r,s,o).replace(/\n/g,n)+c}function e(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}return ri={stringify:t,stripBom:e},ri}var ni,ta;function qh(){if(ta)return ni;ta=1;let t;try{t=zt()}catch{t=Et}const e=ge(),{stringify:r,stripBom:n}=Ws();async function i(p,g={}){typeof g=="string"&&(g={encoding:g});const m=g.fs||t,_="throws"in g?g.throws:!0;let $=await e.fromCallback(m.readFile)(p,g);$=n($);let l;try{l=JSON.parse($,g?g.reviver:null)}catch(d){if(_)throw d.message=`${p}: ${d.message}`,d;return null}return l}const s=e.fromPromise(i);function o(p,g={}){typeof g=="string"&&(g={encoding:g});const m=g.fs||t,_="throws"in g?g.throws:!0;try{let $=m.readFileSync(p,g);return $=n($),JSON.parse($,g.reviver)}catch($){if(_)throw $.message=`${p}: ${$.message}`,$;return null}}async function c(p,g,m={}){const _=m.fs||t,$=r(g,m);await e.fromCallback(_.writeFile)(p,$,m)}const a=e.fromPromise(c);function u(p,g,m={}){const _=m.fs||t,$=r(g,m);return _.writeFileSync(p,$,m)}return ni={readFile:s,readFileSync:o,writeFile:a,writeFileSync:u},ni}var ii,ra;function jh(){if(ra)return ii;ra=1;const t=qh();return ii={readJson:t.readFile,readJsonSync:t.readFileSync,writeJson:t.writeFile,writeJsonSync:t.writeFileSync},ii}var si,na;function Ys(){if(na)return si;na=1;const t=ge().fromPromise,e=Ce(),r=fe,n=ze(),i=pt().pathExists;async function s(c,a,u="utf-8"){const f=r.dirname(c);return await i(f)||await n.mkdirs(f),e.writeFile(c,a,u)}function o(c,...a){const u=r.dirname(c);e.existsSync(u)||n.mkdirsSync(u),e.writeFileSync(c,...a)}return si={outputFile:t(s),outputFileSync:o},si}var oi,ia;function Uh(){if(ia)return oi;ia=1;const{stringify:t}=Ws(),{outputFile:e}=Ys();async function r(n,i,s={}){const o=t(i,s);await e(n,o,s)}return oi=r,oi}var ai,sa;function Bh(){if(sa)return ai;sa=1;const{stringify:t}=Ws(),{outputFileSync:e}=Ys();function r(n,i,s){const o=t(i,s);e(n,o,s)}return ai=r,ai}var ci,oa;function Gh(){if(oa)return ci;oa=1;const t=ge().fromPromise,e=jh();return e.outputJson=t(Uh()),e.outputJsonSync=Bh(),e.outputJSON=e.outputJson,e.outputJSONSync=e.outputJsonSync,e.writeJSON=e.writeJson,e.writeJSONSync=e.writeJsonSync,e.readJSON=e.readJson,e.readJSONSync=e.readJsonSync,ci=e,ci}var ui,aa;function zh(){if(aa)return ui;aa=1;const t=Ce(),e=fe,{copy:r}=Xs(),{remove:n}=fn(),{mkdirp:i}=ze(),{pathExists:s}=pt(),o=St();async function c(f,p,g={}){const m=g.overwrite||g.clobber||!1,{srcStat:_,isChangingCase:$=!1}=await o.checkPaths(f,p,"move",g);await o.checkParentPaths(f,_,p,"move");const l=e.dirname(p);return e.parse(l).root!==l&&await i(l),a(f,p,m,$)}async function a(f,p,g,m){if(!m){if(g)await n(p);else if(await s(p))throw new Error("dest already exists.")}try{await t.rename(f,p)}catch(_){if(_.code!=="EXDEV")throw _;await u(f,p,g)}}async function u(f,p,g){return await r(f,p,{overwrite:g,errorOnExist:!0,preserveTimestamps:!0}),n(f)}return ui=c,ui}var li,ca;function Vh(){if(ca)return li;ca=1;const t=zt(),e=fe,r=Xs().copySync,n=fn().removeSync,i=ze().mkdirpSync,s=St();function o(p,g,m){m=m||{};const _=m.overwrite||m.clobber||!1,{srcStat:$,isChangingCase:l=!1}=s.checkPathsSync(p,g,"move",m);return s.checkParentPathsSync(p,$,g,"move"),c(g)||i(e.dirname(g)),a(p,g,_,l)}function c(p){const g=e.dirname(p);return e.parse(g).root===g}function a(p,g,m,_){if(_)return u(p,g,m);if(m)return n(g),u(p,g,m);if(t.existsSync(g))throw new Error("dest already exists.");return u(p,g,m)}function u(p,g,m){try{t.renameSync(p,g)}catch(_){if(_.code!=="EXDEV")throw _;return f(p,g,m)}}function f(p,g,m){return r(p,g,{overwrite:m,errorOnExist:!0,preserveTimestamps:!0}),n(p)}return li=o,li}var fi,ua;function Hh(){if(ua)return fi;ua=1;const t=ge().fromPromise;return fi={move:t(zh()),moveSync:Vh()},fi}var hi,la;function Xh(){return la||(la=1,hi={...Ce(),...Xs(),...Oh(),...kh(),...Gh(),...ze(),...Hh(),...Ys(),...pt(),...fn()}),hi}var Me=Xh(),Lt={exports:{}},di,fa;function Wh(){return fa||(fa=1,di=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")}),di}var mi,ha;function Yh(){if(ha)return mi;ha=1;const t=Wh(),e=new Set(["__proto__","prototype","constructor"]),r=i=>!i.some(s=>e.has(s));function n(i){const s=i.split("."),o=[];for(let c=0;c<s.length;c++){let a=s[c];for(;a[a.length-1]==="\\"&&s[c+1]!==void 0;)a=a.slice(0,-1)+".",a+=s[++c];o.push(a)}return r(o)?o:[]}return mi={get(i,s,o){if(!t(i)||typeof s!="string")return o===void 0?i:o;const c=n(s);if(c.length!==0){for(let a=0;a<c.length;a++)if(i=i[c[a]],i==null){if(a!==c.length-1)return o;break}return i===void 0?o:i}},set(i,s,o){if(!t(i)||typeof s!="string")return i;const c=i,a=n(s);for(let u=0;u<a.length;u++){const f=a[u];t(i[f])||(i[f]={}),u===a.length-1&&(i[f]=o),i=i[f]}return c},delete(i,s){if(!t(i)||typeof s!="string")return!1;const o=n(s);for(let c=0;c<o.length;c++){const a=o[c];if(c===o.length-1)return delete i[a],!0;if(i=i[a],!t(i))return!1}},has(i,s){if(!t(i)||typeof s!="string")return!1;const o=n(s);if(o.length===0)return!1;for(let c=0;c<o.length;c++)if(t(i)){if(!(o[c]in i))return!1;i=i[o[c]]}else return!1;return!0}},mi}var rr={exports:{}},nr={exports:{}},ir={exports:{}},sr={exports:{}},da;function Kh(){if(da)return sr.exports;da=1;const t=Et;return sr.exports=e=>new Promise(r=>{t.access(e,n=>{r(!n)})}),sr.exports.sync=e=>{try{return t.accessSync(e),!0}catch{return!1}},sr.exports}var or={exports:{}},ar={exports:{}},ma;function Zh(){if(ma)return ar.exports;ma=1;const t=(e,...r)=>new Promise(n=>{n(e(...r))});return ar.exports=t,ar.exports.default=t,ar.exports}var pa;function Jh(){if(pa)return or.exports;pa=1;const t=Zh(),e=r=>{if(!((Number.isInteger(r)||r===1/0)&&r>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const n=[];let i=0;const s=()=>{i--,n.length>0&&n.shift()()},o=(u,f,...p)=>{i++;const g=t(u,...p);f(g),g.then(s,s)},c=(u,f,...p)=>{i<r?o(u,f,...p):n.push(o.bind(null,u,f,...p))},a=(u,...f)=>new Promise(p=>c(u,p,...f));return Object.defineProperties(a,{activeCount:{get:()=>i},pendingCount:{get:()=>n.length},clearQueue:{value:()=>{n.length=0}}}),a};return or.exports=e,or.exports.default=e,or.exports}var pi,ya;function Qh(){if(ya)return pi;ya=1;const t=Jh();class e extends Error{constructor(s){super(),this.value=s}}const r=(i,s)=>Promise.resolve(i).then(s),n=i=>Promise.all(i).then(s=>s[1]===!0&&Promise.reject(new e(s[0])));return pi=(i,s,o)=>{o=Object.assign({concurrency:1/0,preserveOrder:!0},o);const c=t(o.concurrency),a=[...i].map(f=>[f,c(r,f,s)]),u=t(o.preserveOrder?1:1/0);return Promise.all(a.map(f=>u(n,f))).then(()=>{}).catch(f=>f instanceof e?f.value:Promise.reject(f))},pi}var ga;function ed(){if(ga)return ir.exports;ga=1;const t=fe,e=Kh(),r=Qh();return ir.exports=(n,i)=>(i=Object.assign({cwd:process.cwd()},i),r(n,s=>e(t.resolve(i.cwd,s)),i)),ir.exports.sync=(n,i)=>{i=Object.assign({cwd:process.cwd()},i);for(const s of n)if(e.sync(t.resolve(i.cwd,s)))return s},ir.exports}var _a;function td(){if(_a)return nr.exports;_a=1;const t=fe,e=ed();return nr.exports=(r,n={})=>{const i=t.resolve(n.cwd||""),{root:s}=t.parse(i),o=[].concat(r);return new Promise(c=>{(function a(u){e(o,{cwd:u}).then(f=>{f?c(t.join(u,f)):u===s?c(null):a(t.dirname(u))})})(i)})},nr.exports.sync=(r,n={})=>{let i=t.resolve(n.cwd||"");const{root:s}=t.parse(i),o=[].concat(r);for(;;){const c=e.sync(o,{cwd:i});if(c)return t.join(i,c);if(i===s)return null;i=t.dirname(i)}},nr.exports}var va;function rd(){if(va)return rr.exports;va=1;const t=td();return rr.exports=async({cwd:e}={})=>t("package.json",{cwd:e}),rr.exports.sync=({cwd:e}={})=>t.sync("package.json",{cwd:e}),rr.exports}var cr={exports:{}},Ea;function nd(){if(Ea)return cr.exports;Ea=1;const t=fe,e=gf,r=e.homedir(),n=e.tmpdir(),{env:i}=process,s=u=>{const f=t.join(r,"Library");return{data:t.join(f,"Application Support",u),config:t.join(f,"Preferences",u),cache:t.join(f,"Caches",u),log:t.join(f,"Logs",u),temp:t.join(n,u)}},o=u=>{const f=i.APPDATA||t.join(r,"AppData","Roaming"),p=i.LOCALAPPDATA||t.join(r,"AppData","Local");return{data:t.join(p,u,"Data"),config:t.join(f,u,"Config"),cache:t.join(p,u,"Cache"),log:t.join(p,u,"Log"),temp:t.join(n,u)}},c=u=>{const f=t.basename(r);return{data:t.join(i.XDG_DATA_HOME||t.join(r,".local","share"),u),config:t.join(i.XDG_CONFIG_HOME||t.join(r,".config"),u),cache:t.join(i.XDG_CACHE_HOME||t.join(r,".cache"),u),log:t.join(i.XDG_STATE_HOME||t.join(r,".local","state"),u),temp:t.join(n,f,u)}},a=(u,f)=>{if(typeof u!="string")throw new TypeError(`Expected string, got ${typeof u}`);return f=Object.assign({suffix:"nodejs"},f),f.suffix&&(u+=`-${f.suffix}`),process.platform==="darwin"?s(u):process.platform==="win32"?o(u):c(u)};return cr.exports=a,cr.exports.default=a,cr.exports}var De={},ae={},wa;function Vt(){if(wa)return ae;wa=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.NOOP=ae.LIMIT_FILES_DESCRIPTORS=ae.LIMIT_BASENAME_LENGTH=ae.IS_USER_ROOT=ae.IS_POSIX=ae.DEFAULT_TIMEOUT_SYNC=ae.DEFAULT_TIMEOUT_ASYNC=ae.DEFAULT_WRITE_OPTIONS=ae.DEFAULT_READ_OPTIONS=ae.DEFAULT_FOLDER_MODE=ae.DEFAULT_FILE_MODE=ae.DEFAULT_ENCODING=void 0;const t="utf8";ae.DEFAULT_ENCODING=t;const e=438;ae.DEFAULT_FILE_MODE=e;const r=511;ae.DEFAULT_FOLDER_MODE=r;const n={};ae.DEFAULT_READ_OPTIONS=n;const i={};ae.DEFAULT_WRITE_OPTIONS=i;const s=5e3;ae.DEFAULT_TIMEOUT_ASYNC=s;const o=100;ae.DEFAULT_TIMEOUT_SYNC=o;const c=!!process.getuid;ae.IS_POSIX=c;const a=process.getuid?!process.getuid():!1;ae.IS_USER_ROOT=a;const u=128;ae.LIMIT_BASENAME_LENGTH=u;const f=1e4;ae.LIMIT_FILES_DESCRIPTORS=f;const p=()=>{};return ae.NOOP=p,ae}var ur={},rt={},Sa;function id(){if(Sa)return rt;Sa=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.attemptifySync=rt.attemptifyAsync=void 0;const t=Vt(),e=(n,i=t.NOOP)=>function(){return n.apply(void 0,arguments).catch(i)};rt.attemptifyAsync=e;const r=(n,i=t.NOOP)=>function(){try{return n.apply(void 0,arguments)}catch(s){return i(s)}};return rt.attemptifySync=r,rt}var lr={},ba;function sd(){if(ba)return lr;ba=1,Object.defineProperty(lr,"__esModule",{value:!0});const t=Vt(),e={isChangeErrorOk:r=>{const{code:n}=r;return n==="ENOSYS"||!t.IS_USER_ROOT&&(n==="EINVAL"||n==="EPERM")},isRetriableError:r=>{const{code:n}=r;return n==="EMFILE"||n==="ENFILE"||n==="EAGAIN"||n==="EBUSY"||n==="EACCESS"||n==="EACCS"||n==="EPERM"},onChangeError:r=>{if(!e.isChangeErrorOk(r))throw r}};return lr.default=e,lr}var nt={},fr={},$a;function od(){if($a)return fr;$a=1,Object.defineProperty(fr,"__esModule",{value:!0});const e={interval:25,intervalId:void 0,limit:Vt().LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{e.intervalId||(e.intervalId=setInterval(e.tick,e.interval))},reset:()=>{e.intervalId&&(clearInterval(e.intervalId),delete e.intervalId)},add:r=>{e.queueWaiting.add(r),e.queueActive.size<e.limit/2?e.tick():e.init()},remove:r=>{e.queueWaiting.delete(r),e.queueActive.delete(r)},schedule:()=>new Promise(r=>{const n=()=>e.remove(i),i=()=>r(n);e.add(i)}),tick:()=>{if(!(e.queueActive.size>=e.limit)){if(!e.queueWaiting.size)return e.reset();for(const r of e.queueWaiting){if(e.queueActive.size>=e.limit)break;e.queueWaiting.delete(r),e.queueActive.add(r),r()}}}};return fr.default=e,fr}var xa;function ad(){if(xa)return nt;xa=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.retryifySync=nt.retryifyAsync=void 0;const t=od(),e=(n,i)=>function(s){return function o(){return t.default.schedule().then(c=>n.apply(void 0,arguments).then(a=>(c(),a),a=>{if(c(),Date.now()>=s)throw a;if(i(a)){const u=Math.round(100+400*Math.random());return new Promise(p=>setTimeout(p,u)).then(()=>o.apply(void 0,arguments))}throw a}))}};nt.retryifyAsync=e;const r=(n,i)=>function(s){return function o(){try{return n.apply(void 0,arguments)}catch(c){if(Date.now()>s)throw c;if(i(c))return o.apply(void 0,arguments);throw c}}};return nt.retryifySync=r,nt}var Ra;function Zl(){if(Ra)return ur;Ra=1,Object.defineProperty(ur,"__esModule",{value:!0});const t=Et,e=Bs,r=id(),n=sd(),i=ad(),s={chmodAttempt:r.attemptifyAsync(e.promisify(t.chmod),n.default.onChangeError),chownAttempt:r.attemptifyAsync(e.promisify(t.chown),n.default.onChangeError),closeAttempt:r.attemptifyAsync(e.promisify(t.close)),fsyncAttempt:r.attemptifyAsync(e.promisify(t.fsync)),mkdirAttempt:r.attemptifyAsync(e.promisify(t.mkdir)),realpathAttempt:r.attemptifyAsync(e.promisify(t.realpath)),statAttempt:r.attemptifyAsync(e.promisify(t.stat)),unlinkAttempt:r.attemptifyAsync(e.promisify(t.unlink)),closeRetry:i.retryifyAsync(e.promisify(t.close),n.default.isRetriableError),fsyncRetry:i.retryifyAsync(e.promisify(t.fsync),n.default.isRetriableError),openRetry:i.retryifyAsync(e.promisify(t.open),n.default.isRetriableError),readFileRetry:i.retryifyAsync(e.promisify(t.readFile),n.default.isRetriableError),renameRetry:i.retryifyAsync(e.promisify(t.rename),n.default.isRetriableError),statRetry:i.retryifyAsync(e.promisify(t.stat),n.default.isRetriableError),writeRetry:i.retryifyAsync(e.promisify(t.write),n.default.isRetriableError),chmodSyncAttempt:r.attemptifySync(t.chmodSync,n.default.onChangeError),chownSyncAttempt:r.attemptifySync(t.chownSync,n.default.onChangeError),closeSyncAttempt:r.attemptifySync(t.closeSync),mkdirSyncAttempt:r.attemptifySync(t.mkdirSync),realpathSyncAttempt:r.attemptifySync(t.realpathSync),statSyncAttempt:r.attemptifySync(t.statSync),unlinkSyncAttempt:r.attemptifySync(t.unlinkSync),closeSyncRetry:i.retryifySync(t.closeSync,n.default.isRetriableError),fsyncSyncRetry:i.retryifySync(t.fsyncSync,n.default.isRetriableError),openSyncRetry:i.retryifySync(t.openSync,n.default.isRetriableError),readFileSyncRetry:i.retryifySync(t.readFileSync,n.default.isRetriableError),renameSyncRetry:i.retryifySync(t.renameSync,n.default.isRetriableError),statSyncRetry:i.retryifySync(t.statSync,n.default.isRetriableError),writeSyncRetry:i.retryifySync(t.writeSync,n.default.isRetriableError)};return ur.default=s,ur}var hr={},Ca;function cd(){if(Ca)return hr;Ca=1,Object.defineProperty(hr,"__esModule",{value:!0});const t={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};return hr.default=t,hr}var dr={},Aa;function ud(){if(Aa)return dr;Aa=1,Object.defineProperty(dr,"__esModule",{value:!0});const t={},e={next:r=>{const n=t[r];if(!n)return;n.shift();const i=n[0];i?i(()=>e.next(r)):delete t[r]},schedule:r=>new Promise(n=>{let i=t[r];i||(i=t[r]=[]),i.push(n),!(i.length>1)&&n(()=>e.next(r))})};return dr.default=e,dr}var mr={},Ia;function ld(){if(Ia)return mr;Ia=1,Object.defineProperty(mr,"__esModule",{value:!0});const t=fe,e=Vt(),r=Zl(),n={store:{},create:i=>{const s=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),o=Date.now().toString().slice(-10),c="tmp-",a=`.${c}${o}${s}`;return`${i}${a}`},get:(i,s,o=!0)=>{const c=n.truncate(s(i));return c in n.store?n.get(i,s,o):(n.store[c]=o,[c,()=>delete n.store[c]])},purge:i=>{n.store[i]&&(delete n.store[i],r.default.unlinkAttempt(i))},purgeSync:i=>{n.store[i]&&(delete n.store[i],r.default.unlinkSyncAttempt(i))},purgeSyncAll:()=>{for(const i in n.store)n.purgeSync(i)},truncate:i=>{const s=t.basename(i);if(s.length<=e.LIMIT_BASENAME_LENGTH)return i;const o=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(s);if(!o)return i;const c=s.length-e.LIMIT_BASENAME_LENGTH;return`${i.slice(0,-s.length)}${o[1]}${o[2].slice(0,-c)}${o[3]}`}};return process.on("exit",n.purgeSyncAll),mr.default=n,mr}var Ta;function fd(){if(Ta)return De;Ta=1,Object.defineProperty(De,"__esModule",{value:!0}),De.writeFileSync=De.writeFile=De.readFileSync=De.readFile=void 0;const t=fe,e=Vt(),r=Zl(),n=cd(),i=ud(),s=ld();function o(p,g=e.DEFAULT_READ_OPTIONS){var m;if(n.default.isString(g))return o(p,{encoding:g});const _=Date.now()+((m=g.timeout)!==null&&m!==void 0?m:e.DEFAULT_TIMEOUT_ASYNC);return r.default.readFileRetry(_)(p,g)}De.readFile=o;function c(p,g=e.DEFAULT_READ_OPTIONS){var m;if(n.default.isString(g))return c(p,{encoding:g});const _=Date.now()+((m=g.timeout)!==null&&m!==void 0?m:e.DEFAULT_TIMEOUT_SYNC);return r.default.readFileSyncRetry(_)(p,g)}De.readFileSync=c;const a=(p,g,m,_)=>{if(n.default.isFunction(m))return a(p,g,e.DEFAULT_WRITE_OPTIONS,m);const $=u(p,g,m);return _&&$.then(_,_),$};De.writeFile=a;const u=async(p,g,m=e.DEFAULT_WRITE_OPTIONS)=>{var _;if(n.default.isString(m))return u(p,g,{encoding:m});const $=Date.now()+((_=m.timeout)!==null&&_!==void 0?_:e.DEFAULT_TIMEOUT_ASYNC);let l=null,d=null,h=null,y=null,v=null;try{m.schedule&&(l=await m.schedule(p)),d=await i.default.schedule(p),p=await r.default.realpathAttempt(p)||p,[y,h]=s.default.get(p,m.tmpCreate||s.default.create,m.tmpPurge!==!1);const E=e.IS_POSIX&&n.default.isUndefined(m.chown),w=n.default.isUndefined(m.mode);if(E||w){const b=await r.default.statAttempt(p);b&&(m={...m},E&&(m.chown={uid:b.uid,gid:b.gid}),w&&(m.mode=b.mode))}const S=t.dirname(p);await r.default.mkdirAttempt(S,{mode:e.DEFAULT_FOLDER_MODE,recursive:!0}),v=await r.default.openRetry($)(y,"w",m.mode||e.DEFAULT_FILE_MODE),m.tmpCreated&&m.tmpCreated(y),n.default.isString(g)?await r.default.writeRetry($)(v,g,0,m.encoding||e.DEFAULT_ENCODING):n.default.isUndefined(g)||await r.default.writeRetry($)(v,g,0,g.length,0),m.fsync!==!1&&(m.fsyncWait!==!1?await r.default.fsyncRetry($)(v):r.default.fsyncAttempt(v)),await r.default.closeRetry($)(v),v=null,m.chown&&await r.default.chownAttempt(y,m.chown.uid,m.chown.gid),m.mode&&await r.default.chmodAttempt(y,m.mode);try{await r.default.renameRetry($)(y,p)}catch(b){if(b.code!=="ENAMETOOLONG")throw b;await r.default.renameRetry($)(y,s.default.truncate(p))}h(),y=null}finally{v&&await r.default.closeAttempt(v),y&&s.default.purge(y),l&&l(),d&&d()}},f=(p,g,m=e.DEFAULT_WRITE_OPTIONS)=>{var _;if(n.default.isString(m))return f(p,g,{encoding:m});const $=Date.now()+((_=m.timeout)!==null&&_!==void 0?_:e.DEFAULT_TIMEOUT_SYNC);let l=null,d=null,h=null;try{p=r.default.realpathSyncAttempt(p)||p,[d,l]=s.default.get(p,m.tmpCreate||s.default.create,m.tmpPurge!==!1);const y=e.IS_POSIX&&n.default.isUndefined(m.chown),v=n.default.isUndefined(m.mode);if(y||v){const w=r.default.statSyncAttempt(p);w&&(m={...m},y&&(m.chown={uid:w.uid,gid:w.gid}),v&&(m.mode=w.mode))}const E=t.dirname(p);r.default.mkdirSyncAttempt(E,{mode:e.DEFAULT_FOLDER_MODE,recursive:!0}),h=r.default.openSyncRetry($)(d,"w",m.mode||e.DEFAULT_FILE_MODE),m.tmpCreated&&m.tmpCreated(d),n.default.isString(g)?r.default.writeSyncRetry($)(h,g,0,m.encoding||e.DEFAULT_ENCODING):n.default.isUndefined(g)||r.default.writeSyncRetry($)(h,g,0,g.length,0),m.fsync!==!1&&(m.fsyncWait!==!1?r.default.fsyncSyncRetry($)(h):r.default.fsyncAttempt(h)),r.default.closeSyncRetry($)(h),h=null,m.chown&&r.default.chownSyncAttempt(d,m.chown.uid,m.chown.gid),m.mode&&r.default.chmodSyncAttempt(d,m.mode);try{r.default.renameSyncRetry($)(d,p)}catch(w){if(w.code!=="ENAMETOOLONG")throw w;r.default.renameSyncRetry($)(d,s.default.truncate(p))}l(),d=null}finally{h&&r.default.closeSyncAttempt(h),d&&s.default.purge(d)}};return De.writeFileSync=f,De}var pr={exports:{}},yi={},Xe={},it={},gi={},_i={},vi={},Pa;function an(){return Pa||(Pa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(h){if(super(),!t.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((y,v)=>`${y}${v}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((y,v)=>(v instanceof r&&(y[v.str]=(y[v.str]||0)+1),y),{})}}t._Code=n,t.nil=new n("");function i(d,...h){const y=[d[0]];let v=0;for(;v<h.length;)c(y,h[v]),y.push(d[++v]);return new n(y)}t._=i;const s=new n("+");function o(d,...h){const y=[m(d[0])];let v=0;for(;v<h.length;)y.push(s),c(y,h[v]),y.push(s,m(d[++v]));return a(y),new n(y)}t.str=o;function c(d,h){h instanceof n?d.push(...h._items):h instanceof r?d.push(h):d.push(p(h))}t.addCodeArg=c;function a(d){let h=1;for(;h<d.length-1;){if(d[h]===s){const y=u(d[h-1],d[h+1]);if(y!==void 0){d.splice(h-1,3,y);continue}d[h++]="+"}h++}}function u(d,h){if(h==='""')return d;if(d==='""')return h;if(typeof d=="string")return h instanceof r||d[d.length-1]!=='"'?void 0:typeof h!="string"?`${d.slice(0,-1)}${h}"`:h[0]==='"'?d.slice(0,-1)+h.slice(1):void 0;if(typeof h=="string"&&h[0]==='"'&&!(d instanceof r))return`"${d}${h.slice(1)}`}function f(d,h){return h.emptyStr()?d:d.emptyStr()?h:o`${d}${h}`}t.strConcat=f;function p(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:m(Array.isArray(d)?d.join(","):d)}function g(d){return new n(m(d))}t.stringify=g;function m(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=m;function _(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new n(`.${d}`):i`[${d}]`}t.getProperty=_;function $(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=$;function l(d){return new n(d.toString())}t.regexpCode=l}(vi)),vi}var Ei={},Oa;function Na(){return Oa||(Oa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=an();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,p;if(!((p=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||p===void 0)&&p.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=i;class s extends e.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:p}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(f)}[${p}]`}}t.ValueScopeName=s;const o=(0,e._)`\n`;class c extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:e.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,f){var p;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(u),{prefix:m}=g,_=(p=f.key)!==null&&p!==void 0?p:f.ref;let $=this._values[m];if($){const h=$.get(_);if(h)return h}else $=this._values[m]=new Map;$.set(_,g);const l=this._scope[m]||(this._scope[m]=[]),d=l.length;return l[d]=f.ref,g.setValue(f,{property:m,itemIndex:d}),g}getValue(u,f){const p=this._values[u];if(p)return p.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${u}${p.scopePath}`})}scopeCode(u=this._values,f,p){return this._reduceValues(u,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},f,p)}_reduceValues(u,f,p={},g){let m=e.nil;for(const _ in u){const $=u[_];if(!$)continue;const l=p[_]=p[_]||new Map;$.forEach(d=>{if(l.has(d))return;l.set(d,n.Started);let h=f(d);if(h){const y=this.opts.es5?t.varKinds.var:t.varKinds.const;m=(0,e._)`${m}${y} ${d} = ${h};${this.opts._n}`}else if(h=g?.(d))m=(0,e._)`${m}${h}${this.opts._n}`;else throw new r(d);l.set(d,n.Completed)})}return m}}t.ValueScope=c}(Ei)),Ei}var Ma;function te(){return Ma||(Ma=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=an(),r=Na();var n=an();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Na();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(x,A){return this}}class o extends s{constructor(x,A,C){super(),this.varKind=x,this.name=A,this.rhs=C}render({es5:x,_n:A}){const C=x?r.varKinds.var:this.varKind,W=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${W};`+A}optimizeNames(x,A){if(x[this.name.str])return this.rhs&&(this.rhs=z(this.rhs,x,A)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(x,A,C){super(),this.lhs=x,this.rhs=A,this.sideEffects=C}render({_n:x}){return`${this.lhs} = ${this.rhs};`+x}optimizeNames(x,A){if(!(this.lhs instanceof e.Name&&!x[this.lhs.str]&&!this.sideEffects))return this.rhs=z(this.rhs,x,A),this}get names(){const x=this.lhs instanceof e.Name?{}:{...this.lhs.names};return G(x,this.rhs)}}class a extends c{constructor(x,A,C,W){super(x,C,W),this.op=A}render({_n:x}){return`${this.lhs} ${this.op}= ${this.rhs};`+x}}class u extends s{constructor(x){super(),this.label=x,this.names={}}render({_n:x}){return`${this.label}:`+x}}class f extends s{constructor(x){super(),this.label=x,this.names={}}render({_n:x}){return`break${this.label?` ${this.label}`:""};`+x}}class p extends s{constructor(x){super(),this.error=x}render({_n:x}){return`throw ${this.error};`+x}get names(){return this.error.names}}class g extends s{constructor(x){super(),this.code=x}render({_n:x}){return`${this.code};`+x}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(x,A){return this.code=z(this.code,x,A),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class m extends s{constructor(x=[]){super(),this.nodes=x}render(x){return this.nodes.reduce((A,C)=>A+C.render(x),"")}optimizeNodes(){const{nodes:x}=this;let A=x.length;for(;A--;){const C=x[A].optimizeNodes();Array.isArray(C)?x.splice(A,1,...C):C?x[A]=C:x.splice(A,1)}return x.length>0?this:void 0}optimizeNames(x,A){const{nodes:C}=this;let W=C.length;for(;W--;){const X=C[W];X.optimizeNames(x,A)||(H(x,X.names),C.splice(W,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((x,A)=>Y(x,A.names),{})}}class _ extends m{render(x){return"{"+x._n+super.render(x)+"}"+x._n}}class $ extends m{}class l extends _{}l.kind="else";class d extends _{constructor(x,A){super(A),this.condition=x}render(x){let A=`if(${this.condition})`+super.render(x);return this.else&&(A+="else "+this.else.render(x)),A}optimizeNodes(){super.optimizeNodes();const x=this.condition;if(x===!0)return this.nodes;let A=this.else;if(A){const C=A.optimizeNodes();A=this.else=Array.isArray(C)?new l(C):C}if(A)return x===!1?A instanceof d?A:A.nodes:this.nodes.length?this:new d(O(x),A instanceof d?[A]:A.nodes);if(!(x===!1||!this.nodes.length))return this}optimizeNames(x,A){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(x,A),!!(super.optimizeNames(x,A)||this.else))return this.condition=z(this.condition,x,A),this}get names(){const x=super.names;return G(x,this.condition),this.else&&Y(x,this.else.names),x}}d.kind="if";class h extends _{}h.kind="for";class y extends h{constructor(x){super(),this.iteration=x}render(x){return`for(${this.iteration})`+super.render(x)}optimizeNames(x,A){if(super.optimizeNames(x,A))return this.iteration=z(this.iteration,x,A),this}get names(){return Y(super.names,this.iteration.names)}}class v extends h{constructor(x,A,C,W){super(),this.varKind=x,this.name=A,this.from=C,this.to=W}render(x){const A=x.es5?r.varKinds.var:this.varKind,{name:C,from:W,to:X}=this;return`for(${A} ${C}=${W}; ${C}<${X}; ${C}++)`+super.render(x)}get names(){const x=G(super.names,this.from);return G(x,this.to)}}class E extends h{constructor(x,A,C,W){super(),this.loop=x,this.varKind=A,this.name=C,this.iterable=W}render(x){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(x)}optimizeNames(x,A){if(super.optimizeNames(x,A))return this.iterable=z(this.iterable,x,A),this}get names(){return Y(super.names,this.iterable.names)}}class w extends _{constructor(x,A,C){super(),this.name=x,this.args=A,this.async=C}render(x){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(x)}}w.kind="func";class S extends m{render(x){return"return "+super.render(x)}}S.kind="return";class b extends _{render(x){let A="try"+super.render(x);return this.catch&&(A+=this.catch.render(x)),this.finally&&(A+=this.finally.render(x)),A}optimizeNodes(){var x,A;return super.optimizeNodes(),(x=this.catch)===null||x===void 0||x.optimizeNodes(),(A=this.finally)===null||A===void 0||A.optimizeNodes(),this}optimizeNames(x,A){var C,W;return super.optimizeNames(x,A),(C=this.catch)===null||C===void 0||C.optimizeNames(x,A),(W=this.finally)===null||W===void 0||W.optimizeNames(x,A),this}get names(){const x=super.names;return this.catch&&Y(x,this.catch.names),this.finally&&Y(x,this.finally.names),x}}class I extends _{constructor(x){super(),this.error=x}render(x){return`catch(${this.error})`+super.render(x)}}I.kind="catch";class k extends _{render(x){return"finally"+super.render(x)}}k.kind="finally";class U{constructor(x,A={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...A,_n:A.lines?`
`:""},this._extScope=x,this._scope=new r.Scope({parent:x}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(x){return this._scope.name(x)}scopeName(x){return this._extScope.name(x)}scopeValue(x,A){const C=this._extScope.value(x,A);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(x,A){return this._extScope.getValue(x,A)}scopeRefs(x){return this._extScope.scopeRefs(x,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(x,A,C,W){const X=this._scope.toName(A);return C!==void 0&&W&&(this._constants[X.str]=C),this._leafNode(new o(x,X,C)),X}const(x,A,C){return this._def(r.varKinds.const,x,A,C)}let(x,A,C){return this._def(r.varKinds.let,x,A,C)}var(x,A,C){return this._def(r.varKinds.var,x,A,C)}assign(x,A,C){return this._leafNode(new c(x,A,C))}add(x,A){return this._leafNode(new a(x,t.operators.ADD,A))}code(x){return typeof x=="function"?x():x!==e.nil&&this._leafNode(new g(x)),this}object(...x){const A=["{"];for(const[C,W]of x)A.length>1&&A.push(","),A.push(C),(C!==W||this.opts.es5)&&(A.push(":"),(0,e.addCodeArg)(A,W));return A.push("}"),new e._Code(A)}if(x,A,C){if(this._blockNode(new d(x)),A&&C)this.code(A).else().code(C).endIf();else if(A)this.code(A).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(x){return this._elseNode(new d(x))}else(){return this._elseNode(new l)}endIf(){return this._endBlockNode(d,l)}_for(x,A){return this._blockNode(x),A&&this.code(A).endFor(),this}for(x,A){return this._for(new y(x),A)}forRange(x,A,C,W,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const Q=this._scope.toName(x);return this._for(new v(X,Q,A,C),()=>W(Q))}forOf(x,A,C,W=r.varKinds.const){const X=this._scope.toName(x);if(this.opts.es5){const Q=A instanceof e.Name?A:this.var("_arr",A);return this.forRange("_i",0,(0,e._)`${Q}.length`,Z=>{this.var(X,(0,e._)`${Q}[${Z}]`),C(X)})}return this._for(new E("of",W,X,A),()=>C(X))}forIn(x,A,C,W=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(x,(0,e._)`Object.keys(${A})`,C);const X=this._scope.toName(x);return this._for(new E("in",W,X,A),()=>C(X))}endFor(){return this._endBlockNode(h)}label(x){return this._leafNode(new u(x))}break(x){return this._leafNode(new f(x))}return(x){const A=new S;if(this._blockNode(A),this.code(x),A.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(x,A,C){if(!A&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const W=new b;if(this._blockNode(W),this.code(x),A){const X=this.name("e");this._currNode=W.catch=new I(X),A(X)}return C&&(this._currNode=W.finally=new k,this.code(C)),this._endBlockNode(I,k)}throw(x){return this._leafNode(new p(x))}block(x,A){return this._blockStarts.push(this._nodes.length),x&&this.code(x).endBlock(A),this}endBlock(x){const A=this._blockStarts.pop();if(A===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-A;if(C<0||x!==void 0&&C!==x)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${x} expected`);return this._nodes.length=A,this}func(x,A=e.nil,C,W){return this._blockNode(new w(x,A,C)),W&&this.code(W).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(x=1){for(;x-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(x){return this._currNode.nodes.push(x),this}_blockNode(x){this._currNode.nodes.push(x),this._nodes.push(x)}_endBlockNode(x,A){const C=this._currNode;if(C instanceof x||A&&C instanceof A)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${A?`${x.kind}/${A.kind}`:x.kind}"`)}_elseNode(x){const A=this._currNode;if(!(A instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=A.else=x,this}get _root(){return this._nodes[0]}get _currNode(){const x=this._nodes;return x[x.length-1]}set _currNode(x){const A=this._nodes;A[A.length-1]=x}}t.CodeGen=U;function Y(D,x){for(const A in x)D[A]=(D[A]||0)+(x[A]||0);return D}function G(D,x){return x instanceof e._CodeOrName?Y(D,x.names):D}function z(D,x,A){if(D instanceof e.Name)return C(D);if(!W(D))return D;return new e._Code(D._items.reduce((X,Q)=>(Q instanceof e.Name&&(Q=C(Q)),Q instanceof e._Code?X.push(...Q._items):X.push(Q),X),[]));function C(X){const Q=A[X.str];return Q===void 0||x[X.str]!==1?X:(delete x[X.str],Q)}function W(X){return X instanceof e._Code&&X._items.some(Q=>Q instanceof e.Name&&x[Q.str]===1&&A[Q.str]!==void 0)}}function H(D,x){for(const A in x)D[A]=(D[A]||0)-(x[A]||0)}function O(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,e._)`!${L(D)}`}t.not=O;const N=P(t.operators.AND);function R(...D){return D.reduce(N)}t.and=R;const M=P(t.operators.OR);function T(...D){return D.reduce(M)}t.or=T;function P(D){return(x,A)=>x===e.nil?A:A===e.nil?x:(0,e._)`${L(x)} ${D} ${L(A)}`}function L(D){return D instanceof e.Name?D:(0,e._)`(${D})`}}(_i)),_i}var ee={},Da;function ie(){if(Da)return ee;Da=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.checkStrictMode=ee.getErrorPath=ee.Type=ee.useFunc=ee.setEvaluated=ee.evaluatedPropsToName=ee.mergeEvaluated=ee.eachItem=ee.unescapeJsonPointer=ee.escapeJsonPointer=ee.escapeFragment=ee.unescapeFragment=ee.schemaRefOrVal=ee.schemaHasRulesButRef=ee.schemaHasRules=ee.checkUnknownRules=ee.alwaysValidSchema=ee.toHash=void 0;const t=te(),e=an();function r(E){const w={};for(const S of E)w[S]=!0;return w}ee.toHash=r;function n(E,w){return typeof w=="boolean"?w:Object.keys(w).length===0?!0:(i(E,w),!s(w,E.self.RULES.all))}ee.alwaysValidSchema=n;function i(E,w=E.schema){const{opts:S,self:b}=E;if(!S.strictSchema||typeof w=="boolean")return;const I=b.RULES.keywords;for(const k in w)I[k]||v(E,`unknown keyword: "${k}"`)}ee.checkUnknownRules=i;function s(E,w){if(typeof E=="boolean")return!E;for(const S in E)if(w[S])return!0;return!1}ee.schemaHasRules=s;function o(E,w){if(typeof E=="boolean")return!E;for(const S in E)if(S!=="$ref"&&w.all[S])return!0;return!1}ee.schemaHasRulesButRef=o;function c({topSchemaRef:E,schemaPath:w},S,b,I){if(!I){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,t._)`${S}`}return(0,t._)`${E}${w}${(0,t.getProperty)(b)}`}ee.schemaRefOrVal=c;function a(E){return p(decodeURIComponent(E))}ee.unescapeFragment=a;function u(E){return encodeURIComponent(f(E))}ee.escapeFragment=u;function f(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}ee.escapeJsonPointer=f;function p(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}ee.unescapeJsonPointer=p;function g(E,w){if(Array.isArray(E))for(const S of E)w(S);else w(E)}ee.eachItem=g;function m({mergeNames:E,mergeToName:w,mergeValues:S,resultToName:b}){return(I,k,U,Y)=>{const G=U===void 0?k:U instanceof t.Name?(k instanceof t.Name?E(I,k,U):w(I,k,U),U):k instanceof t.Name?(w(I,U,k),k):S(k,U);return Y===t.Name&&!(G instanceof t.Name)?b(I,G):G}}ee.mergeEvaluated={props:m({mergeNames:(E,w,S)=>E.if((0,t._)`${S} !== true && ${w} !== undefined`,()=>{E.if((0,t._)`${w} === true`,()=>E.assign(S,!0),()=>E.assign(S,(0,t._)`${S} || {}`).code((0,t._)`Object.assign(${S}, ${w})`))}),mergeToName:(E,w,S)=>E.if((0,t._)`${S} !== true`,()=>{w===!0?E.assign(S,!0):(E.assign(S,(0,t._)`${S} || {}`),$(E,S,w))}),mergeValues:(E,w)=>E===!0?!0:{...E,...w},resultToName:_}),items:m({mergeNames:(E,w,S)=>E.if((0,t._)`${S} !== true && ${w} !== undefined`,()=>E.assign(S,(0,t._)`${w} === true ? true : ${S} > ${w} ? ${S} : ${w}`)),mergeToName:(E,w,S)=>E.if((0,t._)`${S} !== true`,()=>E.assign(S,w===!0?!0:(0,t._)`${S} > ${w} ? ${S} : ${w}`)),mergeValues:(E,w)=>E===!0?!0:Math.max(E,w),resultToName:(E,w)=>E.var("items",w)})};function _(E,w){if(w===!0)return E.var("props",!0);const S=E.var("props",(0,t._)`{}`);return w!==void 0&&$(E,S,w),S}ee.evaluatedPropsToName=_;function $(E,w,S){Object.keys(S).forEach(b=>E.assign((0,t._)`${w}${(0,t.getProperty)(b)}`,!0))}ee.setEvaluated=$;const l={};function d(E,w){return E.scopeValue("func",{ref:w,code:l[w.code]||(l[w.code]=new e._Code(w.code))})}ee.useFunc=d;var h;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(h||(ee.Type=h={}));function y(E,w,S){if(E instanceof t.Name){const b=w===h.Num;return S?b?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:b?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,t.getProperty)(E).toString():"/"+f(E)}ee.getErrorPath=y;function v(E,w,S=E.opts.strictSchema){if(S){if(w=`strict mode: ${w}`,S===!0)throw new Error(w);E.self.logger.warn(w)}}return ee.checkStrictMode=v,ee}var yr={},La;function tt(){if(La)return yr;La=1,Object.defineProperty(yr,"__esModule",{value:!0});const t=te(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return yr.default=e,yr}var Fa;function hn(){return Fa||(Fa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=te(),r=ie(),n=tt();t.keywordError={message:({keyword:l})=>(0,e.str)`must pass "${l}" keyword validation`},t.keyword$DataError={message:({keyword:l,schemaType:d})=>d?(0,e.str)`"${l}" keyword must be ${d} ($data)`:(0,e.str)`"${l}" keyword is invalid ($data)`};function i(l,d=t.keywordError,h,y){const{it:v}=l,{gen:E,compositeRule:w,allErrors:S}=v,b=p(l,d,h);y??(w||S)?a(E,b):u(v,(0,e._)`[${b}]`)}t.reportError=i;function s(l,d=t.keywordError,h){const{it:y}=l,{gen:v,compositeRule:E,allErrors:w}=y,S=p(l,d,h);a(v,S),E||w||u(y,n.default.vErrors)}t.reportExtraError=s;function o(l,d){l.assign(n.default.errors,d),l.if((0,e._)`${n.default.vErrors} !== null`,()=>l.if(d,()=>l.assign((0,e._)`${n.default.vErrors}.length`,d),()=>l.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function c({gen:l,keyword:d,schemaValue:h,data:y,errsCount:v,it:E}){if(v===void 0)throw new Error("ajv implementation error");const w=l.name("err");l.forRange("i",v,n.default.errors,S=>{l.const(w,(0,e._)`${n.default.vErrors}[${S}]`),l.if((0,e._)`${w}.instancePath === undefined`,()=>l.assign((0,e._)`${w}.instancePath`,(0,e.strConcat)(n.default.instancePath,E.errorPath))),l.assign((0,e._)`${w}.schemaPath`,(0,e.str)`${E.errSchemaPath}/${d}`),E.opts.verbose&&(l.assign((0,e._)`${w}.schema`,h),l.assign((0,e._)`${w}.data`,y))})}t.extendErrors=c;function a(l,d){const h=l.const("err",d);l.if((0,e._)`${n.default.vErrors} === null`,()=>l.assign(n.default.vErrors,(0,e._)`[${h}]`),(0,e._)`${n.default.vErrors}.push(${h})`),l.code((0,e._)`${n.default.errors}++`)}function u(l,d){const{gen:h,validateName:y,schemaEnv:v}=l;v.$async?h.throw((0,e._)`new ${l.ValidationError}(${d})`):(h.assign((0,e._)`${y}.errors`,d),h.return(!1))}const f={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(l,d,h){const{createErrors:y}=l.it;return y===!1?(0,e._)`{}`:g(l,d,h)}function g(l,d,h={}){const{gen:y,it:v}=l,E=[m(v,h),_(l,h)];return $(l,d,E),y.object(...E)}function m({errorPath:l},{instancePath:d}){const h=d?(0,e.str)`${l}${(0,r.getErrorPath)(d,r.Type.Str)}`:l;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,h)]}function _({keyword:l,it:{errSchemaPath:d}},{schemaPath:h,parentSchema:y}){let v=y?d:(0,e.str)`${d}/${l}`;return h&&(v=(0,e.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`),[f.schemaPath,v]}function $(l,{params:d,message:h},y){const{keyword:v,data:E,schemaValue:w,it:S}=l,{opts:b,propertyName:I,topSchemaRef:k,schemaPath:U}=S;y.push([f.keyword,v],[f.params,typeof d=="function"?d(l):d||(0,e._)`{}`]),b.messages&&y.push([f.message,typeof h=="function"?h(l):h]),b.verbose&&y.push([f.schema,w],[f.parentSchema,(0,e._)`${k}${U}`],[n.default.data,E]),I&&y.push([f.propertyName,I])}}(gi)),gi}var ka;function hd(){if(ka)return it;ka=1,Object.defineProperty(it,"__esModule",{value:!0}),it.boolOrEmptySchema=it.topBoolOrEmptySchema=void 0;const t=hn(),e=te(),r=tt(),n={message:"boolean schema is false"};function i(c){const{gen:a,schema:u,validateName:f}=c;u===!1?o(c,!1):typeof u=="object"&&u.$async===!0?a.return(r.default.data):(a.assign((0,e._)`${f}.errors`,null),a.return(!0))}it.topBoolOrEmptySchema=i;function s(c,a){const{gen:u,schema:f}=c;f===!1?(u.var(a,!1),o(c)):u.var(a,!0)}it.boolOrEmptySchema=s;function o(c,a){const{gen:u,data:f}=c,p={gen:u,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,t.reportError)(p,n,void 0,a)}return it}var ye={},st={},qa;function Jl(){if(qa)return st;qa=1,Object.defineProperty(st,"__esModule",{value:!0}),st.getRules=st.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(i){return typeof i=="string"&&e.has(i)}st.isJSONType=r;function n(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return st.getRules=n,st}var We={},ja;function Ql(){if(ja)return We;ja=1,Object.defineProperty(We,"__esModule",{value:!0}),We.shouldUseRule=We.shouldUseGroup=We.schemaHasRulesForType=void 0;function t({schema:n,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&e(n,o)}We.schemaHasRulesForType=t;function e(n,i){return i.rules.some(s=>r(n,s))}We.shouldUseGroup=e;function r(n,i){var s;return n[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>n[o]!==void 0))}return We.shouldUseRule=r,We}var Ua;function cn(){if(Ua)return ye;Ua=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.reportTypeError=ye.checkDataTypes=ye.checkDataType=ye.coerceAndCheckDataType=ye.getJSONTypes=ye.getSchemaTypes=ye.DataType=void 0;const t=Jl(),e=Ql(),r=hn(),n=te(),i=ie();var s;(function(h){h[h.Correct=0]="Correct",h[h.Wrong=1]="Wrong"})(s||(ye.DataType=s={}));function o(h){const y=c(h.type);if(y.includes("null")){if(h.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&h.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');h.nullable===!0&&y.push("null")}return y}ye.getSchemaTypes=o;function c(h){const y=Array.isArray(h)?h:h?[h]:[];if(y.every(t.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}ye.getJSONTypes=c;function a(h,y){const{gen:v,data:E,opts:w}=h,S=f(y,w.coerceTypes),b=y.length>0&&!(S.length===0&&y.length===1&&(0,e.schemaHasRulesForType)(h,y[0]));if(b){const I=_(y,E,w.strictNumbers,s.Wrong);v.if(I,()=>{S.length?p(h,y,S):l(h)})}return b}ye.coerceAndCheckDataType=a;const u=new Set(["string","number","integer","boolean","null"]);function f(h,y){return y?h.filter(v=>u.has(v)||y==="array"&&v==="array"):[]}function p(h,y,v){const{gen:E,data:w,opts:S}=h,b=E.let("dataType",(0,n._)`typeof ${w}`),I=E.let("coerced",(0,n._)`undefined`);S.coerceTypes==="array"&&E.if((0,n._)`${b} == 'object' && Array.isArray(${w}) && ${w}.length == 1`,()=>E.assign(w,(0,n._)`${w}[0]`).assign(b,(0,n._)`typeof ${w}`).if(_(y,w,S.strictNumbers),()=>E.assign(I,w))),E.if((0,n._)`${I} !== undefined`);for(const U of v)(u.has(U)||U==="array"&&S.coerceTypes==="array")&&k(U);E.else(),l(h),E.endIf(),E.if((0,n._)`${I} !== undefined`,()=>{E.assign(w,I),g(h,I)});function k(U){switch(U){case"string":E.elseIf((0,n._)`${b} == "number" || ${b} == "boolean"`).assign(I,(0,n._)`"" + ${w}`).elseIf((0,n._)`${w} === null`).assign(I,(0,n._)`""`);return;case"number":E.elseIf((0,n._)`${b} == "boolean" || ${w} === null
              || (${b} == "string" && ${w} && ${w} == +${w})`).assign(I,(0,n._)`+${w}`);return;case"integer":E.elseIf((0,n._)`${b} === "boolean" || ${w} === null
              || (${b} === "string" && ${w} && ${w} == +${w} && !(${w} % 1))`).assign(I,(0,n._)`+${w}`);return;case"boolean":E.elseIf((0,n._)`${w} === "false" || ${w} === 0 || ${w} === null`).assign(I,!1).elseIf((0,n._)`${w} === "true" || ${w} === 1`).assign(I,!0);return;case"null":E.elseIf((0,n._)`${w} === "" || ${w} === 0 || ${w} === false`),E.assign(I,null);return;case"array":E.elseIf((0,n._)`${b} === "string" || ${b} === "number"
              || ${b} === "boolean" || ${w} === null`).assign(I,(0,n._)`[${w}]`)}}}function g({gen:h,parentData:y,parentDataProperty:v},E){h.if((0,n._)`${y} !== undefined`,()=>h.assign((0,n._)`${y}[${v}]`,E))}function m(h,y,v,E=s.Correct){const w=E===s.Correct?n.operators.EQ:n.operators.NEQ;let S;switch(h){case"null":return(0,n._)`${y} ${w} null`;case"array":S=(0,n._)`Array.isArray(${y})`;break;case"object":S=(0,n._)`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":S=b((0,n._)`!(${y} % 1) && !isNaN(${y})`);break;case"number":S=b();break;default:return(0,n._)`typeof ${y} ${w} ${h}`}return E===s.Correct?S:(0,n.not)(S);function b(I=n.nil){return(0,n.and)((0,n._)`typeof ${y} == "number"`,I,v?(0,n._)`isFinite(${y})`:n.nil)}}ye.checkDataType=m;function _(h,y,v,E){if(h.length===1)return m(h[0],y,v,E);let w;const S=(0,i.toHash)(h);if(S.array&&S.object){const b=(0,n._)`typeof ${y} != "object"`;w=S.null?b:(0,n._)`!${y} || ${b}`,delete S.null,delete S.array,delete S.object}else w=n.nil;S.number&&delete S.integer;for(const b in S)w=(0,n.and)(w,m(b,y,v,E));return w}ye.checkDataTypes=_;const $={message:({schema:h})=>`must be ${h}`,params:({schema:h,schemaValue:y})=>typeof h=="string"?(0,n._)`{type: ${h}}`:(0,n._)`{type: ${y}}`};function l(h){const y=d(h);(0,r.reportError)(y,$)}ye.reportTypeError=l;function d(h){const{gen:y,data:v,schema:E}=h,w=(0,i.schemaRefOrVal)(h,E,"type");return{gen:y,keyword:"type",data:v,schema:E.type,schemaCode:w,schemaValue:w,parentSchema:E,params:{},it:h}}return ye}var Ct={},Ba;function dd(){if(Ba)return Ct;Ba=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.assignDefaults=void 0;const t=te(),e=ie();function r(i,s){const{properties:o,items:c}=i.schema;if(s==="object"&&o)for(const a in o)n(i,a,o[a].default);else s==="array"&&Array.isArray(c)&&c.forEach((a,u)=>n(i,u,a.default))}Ct.assignDefaults=r;function n(i,s,o){const{gen:c,compositeRule:a,data:u,opts:f}=i;if(o===void 0)return;const p=(0,t._)`${u}${(0,t.getProperty)(s)}`;if(a){(0,e.checkStrictMode)(i,`default is ignored for: ${p}`);return}let g=(0,t._)`${p} === undefined`;f.useDefaults==="empty"&&(g=(0,t._)`${g} || ${p} === null || ${p} === ""`),c.if(g,(0,t._)`${p} = ${(0,t.stringify)(o)}`)}return Ct}var Le={},se={},Ga;function qe(){if(Ga)return se;Ga=1,Object.defineProperty(se,"__esModule",{value:!0}),se.validateUnion=se.validateArray=se.usePattern=se.callValidateCode=se.schemaProperties=se.allSchemaProperties=se.noPropertyInData=se.propertyInData=se.isOwnProperty=se.hasPropFunc=se.reportMissingProp=se.checkMissingProp=se.checkReportMissingProp=void 0;const t=te(),e=ie(),r=tt(),n=ie();function i(h,y){const{gen:v,data:E,it:w}=h;v.if(f(v,E,y,w.opts.ownProperties),()=>{h.setParams({missingProperty:(0,t._)`${y}`},!0),h.error()})}se.checkReportMissingProp=i;function s({gen:h,data:y,it:{opts:v}},E,w){return(0,t.or)(...E.map(S=>(0,t.and)(f(h,y,S,v.ownProperties),(0,t._)`${w} = ${S}`)))}se.checkMissingProp=s;function o(h,y){h.setParams({missingProperty:y},!0),h.error()}se.reportMissingProp=o;function c(h){return h.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}se.hasPropFunc=c;function a(h,y,v){return(0,t._)`${c(h)}.call(${y}, ${v})`}se.isOwnProperty=a;function u(h,y,v,E){const w=(0,t._)`${y}${(0,t.getProperty)(v)} !== undefined`;return E?(0,t._)`${w} && ${a(h,y,v)}`:w}se.propertyInData=u;function f(h,y,v,E){const w=(0,t._)`${y}${(0,t.getProperty)(v)} === undefined`;return E?(0,t.or)(w,(0,t.not)(a(h,y,v))):w}se.noPropertyInData=f;function p(h){return h?Object.keys(h).filter(y=>y!=="__proto__"):[]}se.allSchemaProperties=p;function g(h,y){return p(y).filter(v=>!(0,e.alwaysValidSchema)(h,y[v]))}se.schemaProperties=g;function m({schemaCode:h,data:y,it:{gen:v,topSchemaRef:E,schemaPath:w,errorPath:S},it:b},I,k,U){const Y=U?(0,t._)`${h}, ${y}, ${E}${w}`:y,G=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,S)],[r.default.parentData,b.parentData],[r.default.parentDataProperty,b.parentDataProperty],[r.default.rootData,r.default.rootData]];b.opts.dynamicRef&&G.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const z=(0,t._)`${Y}, ${v.object(...G)}`;return k!==t.nil?(0,t._)`${I}.call(${k}, ${z})`:(0,t._)`${I}(${z})`}se.callValidateCode=m;const _=(0,t._)`new RegExp`;function $({gen:h,it:{opts:y}},v){const E=y.unicodeRegExp?"u":"",{regExp:w}=y.code,S=w(v,E);return h.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,t._)`${w.code==="new RegExp"?_:(0,n.useFunc)(h,w)}(${v}, ${E})`})}se.usePattern=$;function l(h){const{gen:y,data:v,keyword:E,it:w}=h,S=y.name("valid");if(w.allErrors){const I=y.let("valid",!0);return b(()=>y.assign(I,!1)),I}return y.var(S,!0),b(()=>y.break()),S;function b(I){const k=y.const("len",(0,t._)`${v}.length`);y.forRange("i",0,k,U=>{h.subschema({keyword:E,dataProp:U,dataPropType:e.Type.Num},S),y.if((0,t.not)(S),I)})}}se.validateArray=l;function d(h){const{gen:y,schema:v,keyword:E,it:w}=h;if(!Array.isArray(v))throw new Error("ajv implementation error");if(v.some(k=>(0,e.alwaysValidSchema)(w,k))&&!w.opts.unevaluated)return;const b=y.let("valid",!1),I=y.name("_valid");y.block(()=>v.forEach((k,U)=>{const Y=h.subschema({keyword:E,schemaProp:U,compositeRule:!0},I);y.assign(b,(0,t._)`${b} || ${I}`),h.mergeValidEvaluated(Y,I)||y.if((0,t.not)(b))})),h.result(b,()=>h.reset(),()=>h.error(!0))}return se.validateUnion=d,se}var za;function md(){if(za)return Le;za=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.validateKeywordUsage=Le.validSchemaType=Le.funcKeywordCode=Le.macroKeywordCode=void 0;const t=te(),e=tt(),r=qe(),n=hn();function i(g,m){const{gen:_,keyword:$,schema:l,parentSchema:d,it:h}=g,y=m.macro.call(h.self,l,d,h),v=u(_,$,y);h.opts.validateSchema!==!1&&h.self.validateSchema(y,!0);const E=_.name("valid");g.subschema({schema:y,schemaPath:t.nil,errSchemaPath:`${h.errSchemaPath}/${$}`,topSchemaRef:v,compositeRule:!0},E),g.pass(E,()=>g.error(!0))}Le.macroKeywordCode=i;function s(g,m){var _;const{gen:$,keyword:l,schema:d,parentSchema:h,$data:y,it:v}=g;a(v,m);const E=!y&&m.compile?m.compile.call(v.self,d,h,v):m.validate,w=u($,l,E),S=$.let("valid");g.block$data(S,b),g.ok((_=m.valid)!==null&&_!==void 0?_:S);function b(){if(m.errors===!1)U(),m.modifying&&o(g),Y(()=>g.error());else{const G=m.async?I():k();m.modifying&&o(g),Y(()=>c(g,G))}}function I(){const G=$.let("ruleErrs",null);return $.try(()=>U((0,t._)`await `),z=>$.assign(S,!1).if((0,t._)`${z} instanceof ${v.ValidationError}`,()=>$.assign(G,(0,t._)`${z}.errors`),()=>$.throw(z))),G}function k(){const G=(0,t._)`${w}.errors`;return $.assign(G,null),U(t.nil),G}function U(G=m.async?(0,t._)`await `:t.nil){const z=v.opts.passContext?e.default.this:e.default.self,H=!("compile"in m&&!y||m.schema===!1);$.assign(S,(0,t._)`${G}${(0,r.callValidateCode)(g,w,z,H)}`,m.modifying)}function Y(G){var z;$.if((0,t.not)((z=m.valid)!==null&&z!==void 0?z:S),G)}}Le.funcKeywordCode=s;function o(g){const{gen:m,data:_,it:$}=g;m.if($.parentData,()=>m.assign(_,(0,t._)`${$.parentData}[${$.parentDataProperty}]`))}function c(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${m} : ${e.default.vErrors}.concat(${m})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(g)},()=>g.error())}function a({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function u(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function f(g,m,_=!1){return!m.length||m.some($=>$==="array"?Array.isArray(g):$==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==$||_&&typeof g>"u")}Le.validSchemaType=f;function p({schema:g,opts:m,self:_,errSchemaPath:$},l,d){if(Array.isArray(l.keyword)?!l.keyword.includes(d):l.keyword!==d)throw new Error("ajv implementation error");const h=l.dependencies;if(h?.some(y=>!Object.prototype.hasOwnProperty.call(g,y)))throw new Error(`parent schema must have dependencies of ${d}: ${h.join(",")}`);if(l.validateSchema&&!l.validateSchema(g[d])){const v=`keyword "${d}" value is invalid at path "${$}": `+_.errorsText(l.validateSchema.errors);if(m.validateSchema==="log")_.logger.error(v);else throw new Error(v)}}return Le.validateKeywordUsage=p,Le}var Ye={},Va;function pd(){if(Va)return Ye;Va=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.extendSubschemaMode=Ye.extendSubschemaData=Ye.getSubschema=void 0;const t=te(),e=ie();function r(s,{keyword:o,schemaProp:c,schema:a,schemaPath:u,errSchemaPath:f,topSchemaRef:p}){if(o!==void 0&&a!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const g=s.schema[o];return c===void 0?{schema:g,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:g[c],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(c)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,e.escapeFragment)(c)}`}}if(a!==void 0){if(u===void 0||f===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:u,topSchemaRef:p,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}Ye.getSubschema=r;function n(s,o,{dataProp:c,dataPropType:a,data:u,dataTypes:f,propertyName:p}){if(u!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=o;if(c!==void 0){const{errorPath:_,dataPathArr:$,opts:l}=o,d=g.let("data",(0,t._)`${o.data}${(0,t.getProperty)(c)}`,!0);m(d),s.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(c,a,l.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${c}`,s.dataPathArr=[...$,s.parentDataProperty]}if(u!==void 0){const _=u instanceof t.Name?u:g.let("data",u,!0);m(_),p!==void 0&&(s.propertyName=p)}f&&(s.dataTypes=f);function m(_){s.data=_,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,_]}}Ye.extendSubschemaData=n;function i(s,{jtdDiscriminator:o,jtdMetadata:c,compositeRule:a,createErrors:u,allErrors:f}){a!==void 0&&(s.compositeRule=a),u!==void 0&&(s.createErrors=u),f!==void 0&&(s.allErrors=f),s.jtdDiscriminator=o,s.jtdMetadata=c}return Ye.extendSubschemaMode=i,Ye}var Se={},wi,Ha;function ef(){return Ha||(Ha=1,wi=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),wi}var Si={exports:{}},Xa;function yd(){if(Xa)return Si.exports;Xa=1;var t=Si.exports=function(n,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},c=s.post||function(){};e(i,o,c,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,i,s,o,c,a,u,f,p,g){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,c,a,u,f,p,g);for(var m in o){var _=o[m];if(Array.isArray(_)){if(m in t.arrayKeywords)for(var $=0;$<_.length;$++)e(n,i,s,_[$],c+"/"+m+"/"+$,a,c,m,o,$)}else if(m in t.propsKeywords){if(_&&typeof _=="object")for(var l in _)e(n,i,s,_[l],c+"/"+m+"/"+r(l),a,c,m,o,l)}else(m in t.keywords||n.allKeys&&!(m in t.skipKeywords))&&e(n,i,s,_,c+"/"+m,a,c,m,o)}s(o,c,a,u,f,p,g)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Si.exports}var Wa;function dn(){if(Wa)return Se;Wa=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;const t=ie(),e=ef(),r=yd(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i($,l=!0){return typeof $=="boolean"?!0:l===!0?!o($):l?c($)<=l:!1}Se.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o($){for(const l in $){if(s.has(l))return!0;const d=$[l];if(Array.isArray(d)&&d.some(o)||typeof d=="object"&&o(d))return!0}return!1}function c($){let l=0;for(const d in $){if(d==="$ref")return 1/0;if(l++,!n.has(d)&&(typeof $[d]=="object"&&(0,t.eachItem)($[d],h=>l+=c(h)),l===1/0))return 1/0}return l}function a($,l="",d){d!==!1&&(l=p(l));const h=$.parse(l);return u($,h)}Se.getFullPath=a;function u($,l){return $.serialize(l).split("#")[0]+"#"}Se._getFullPath=u;const f=/#\/?$/;function p($){return $?$.replace(f,""):""}Se.normalizeId=p;function g($,l,d){return d=p(d),$.resolve(l,d)}Se.resolveUrl=g;const m=/^[a-z_][-a-z0-9._]*$/i;function _($,l){if(typeof $=="boolean")return{};const{schemaId:d,uriResolver:h}=this.opts,y=p($[d]||l),v={"":y},E=a(h,y,!1),w={},S=new Set;return r($,{allKeys:!0},(k,U,Y,G)=>{if(G===void 0)return;const z=E+U;let H=v[G];typeof k[d]=="string"&&(H=O.call(this,k[d])),N.call(this,k.$anchor),N.call(this,k.$dynamicAnchor),v[U]=H;function O(R){const M=this.opts.uriResolver.resolve;if(R=p(H?M(H,R):R),S.has(R))throw I(R);S.add(R);let T=this.refs[R];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?b(k,T.schema,R):R!==p(z)&&(R[0]==="#"?(b(k,w[R],R),w[R]=k):this.refs[R]=z),R}function N(R){if(typeof R=="string"){if(!m.test(R))throw new Error(`invalid anchor "${R}"`);O.call(this,`#${R}`)}}}),w;function b(k,U,Y){if(U!==void 0&&!e(k,U))throw I(Y)}function I(k){return new Error(`reference "${k}" resolves to more than one schema`)}}return Se.getSchemaRefs=_,Se}var Ya;function mn(){if(Ya)return Xe;Ya=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.getData=Xe.KeywordCxt=Xe.validateFunctionCode=void 0;const t=hd(),e=cn(),r=Ql(),n=cn(),i=dd(),s=md(),o=pd(),c=te(),a=tt(),u=dn(),f=ie(),p=hn();function g(F){if(E(F)&&(S(F),v(F))){l(F);return}m(F,()=>(0,t.topBoolOrEmptySchema)(F))}Xe.validateFunctionCode=g;function m({gen:F,validateName:j,schema:B,schemaEnv:q,opts:V},J){V.code.es5?F.func(j,(0,c._)`${a.default.data}, ${a.default.valCxt}`,q.$async,()=>{F.code((0,c._)`"use strict"; ${h(B,V)}`),$(F,V),F.code(J)}):F.func(j,(0,c._)`${a.default.data}, ${_(V)}`,q.$async,()=>F.code(h(B,V)).code(J))}function _(F){return(0,c._)`{${a.default.instancePath}="", ${a.default.parentData}, ${a.default.parentDataProperty}, ${a.default.rootData}=${a.default.data}${F.dynamicRef?(0,c._)`, ${a.default.dynamicAnchors}={}`:c.nil}}={}`}function $(F,j){F.if(a.default.valCxt,()=>{F.var(a.default.instancePath,(0,c._)`${a.default.valCxt}.${a.default.instancePath}`),F.var(a.default.parentData,(0,c._)`${a.default.valCxt}.${a.default.parentData}`),F.var(a.default.parentDataProperty,(0,c._)`${a.default.valCxt}.${a.default.parentDataProperty}`),F.var(a.default.rootData,(0,c._)`${a.default.valCxt}.${a.default.rootData}`),j.dynamicRef&&F.var(a.default.dynamicAnchors,(0,c._)`${a.default.valCxt}.${a.default.dynamicAnchors}`)},()=>{F.var(a.default.instancePath,(0,c._)`""`),F.var(a.default.parentData,(0,c._)`undefined`),F.var(a.default.parentDataProperty,(0,c._)`undefined`),F.var(a.default.rootData,a.default.data),j.dynamicRef&&F.var(a.default.dynamicAnchors,(0,c._)`{}`)})}function l(F){const{schema:j,opts:B,gen:q}=F;m(F,()=>{B.$comment&&j.$comment&&G(F),k(F),q.let(a.default.vErrors,null),q.let(a.default.errors,0),B.unevaluated&&d(F),b(F),z(F)})}function d(F){const{gen:j,validateName:B}=F;F.evaluated=j.const("evaluated",(0,c._)`${B}.evaluated`),j.if((0,c._)`${F.evaluated}.dynamicProps`,()=>j.assign((0,c._)`${F.evaluated}.props`,(0,c._)`undefined`)),j.if((0,c._)`${F.evaluated}.dynamicItems`,()=>j.assign((0,c._)`${F.evaluated}.items`,(0,c._)`undefined`))}function h(F,j){const B=typeof F=="object"&&F[j.schemaId];return B&&(j.code.source||j.code.process)?(0,c._)`/*# sourceURL=${B} */`:c.nil}function y(F,j){if(E(F)&&(S(F),v(F))){w(F,j);return}(0,t.boolOrEmptySchema)(F,j)}function v({schema:F,self:j}){if(typeof F=="boolean")return!F;for(const B in F)if(j.RULES.all[B])return!0;return!1}function E(F){return typeof F.schema!="boolean"}function w(F,j){const{schema:B,gen:q,opts:V}=F;V.$comment&&B.$comment&&G(F),U(F),Y(F);const J=q.const("_errs",a.default.errors);b(F,J),q.var(j,(0,c._)`${J} === ${a.default.errors}`)}function S(F){(0,f.checkUnknownRules)(F),I(F)}function b(F,j){if(F.opts.jtd)return O(F,[],!1,j);const B=(0,e.getSchemaTypes)(F.schema),q=(0,e.coerceAndCheckDataType)(F,B);O(F,B,!q,j)}function I(F){const{schema:j,errSchemaPath:B,opts:q,self:V}=F;j.$ref&&q.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(j,V.RULES)&&V.logger.warn(`$ref: keywords ignored in schema at path "${B}"`)}function k(F){const{schema:j,opts:B}=F;j.default!==void 0&&B.useDefaults&&B.strictSchema&&(0,f.checkStrictMode)(F,"default is ignored in the schema root")}function U(F){const j=F.schema[F.opts.schemaId];j&&(F.baseId=(0,u.resolveUrl)(F.opts.uriResolver,F.baseId,j))}function Y(F){if(F.schema.$async&&!F.schemaEnv.$async)throw new Error("async schema in sync schema")}function G({gen:F,schemaEnv:j,schema:B,errSchemaPath:q,opts:V}){const J=B.$comment;if(V.$comment===!0)F.code((0,c._)`${a.default.self}.logger.log(${J})`);else if(typeof V.$comment=="function"){const K=(0,c.str)`${q}/$comment`,Ae=F.scopeValue("root",{ref:j.root});F.code((0,c._)`${a.default.self}.opts.$comment(${J}, ${K}, ${Ae}.schema)`)}}function z(F){const{gen:j,schemaEnv:B,validateName:q,ValidationError:V,opts:J}=F;B.$async?j.if((0,c._)`${a.default.errors} === 0`,()=>j.return(a.default.data),()=>j.throw((0,c._)`new ${V}(${a.default.vErrors})`)):(j.assign((0,c._)`${q}.errors`,a.default.vErrors),J.unevaluated&&H(F),j.return((0,c._)`${a.default.errors} === 0`))}function H({gen:F,evaluated:j,props:B,items:q}){B instanceof c.Name&&F.assign((0,c._)`${j}.props`,B),q instanceof c.Name&&F.assign((0,c._)`${j}.items`,q)}function O(F,j,B,q){const{gen:V,schema:J,data:K,allErrors:Ae,opts:_e,self:ve}=F,{RULES:de}=ve;if(J.$ref&&(_e.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(J,de))){V.block(()=>W(F,"$ref",de.all.$ref.definition));return}_e.jtd||R(F,j),V.block(()=>{for(const we of de.rules)Ve(we);Ve(de.post)});function Ve(we){(0,r.shouldUseGroup)(J,we)&&(we.type?(V.if((0,n.checkDataType)(we.type,K,_e.strictNumbers)),N(F,we),j.length===1&&j[0]===we.type&&B&&(V.else(),(0,n.reportTypeError)(F)),V.endIf()):N(F,we),Ae||V.if((0,c._)`${a.default.errors} === ${q||0}`))}}function N(F,j){const{gen:B,schema:q,opts:{useDefaults:V}}=F;V&&(0,i.assignDefaults)(F,j.type),B.block(()=>{for(const J of j.rules)(0,r.shouldUseRule)(q,J)&&W(F,J.keyword,J.definition,j.type)})}function R(F,j){F.schemaEnv.meta||!F.opts.strictTypes||(M(F,j),F.opts.allowUnionTypes||T(F,j),P(F,F.dataTypes))}function M(F,j){if(j.length){if(!F.dataTypes.length){F.dataTypes=j;return}j.forEach(B=>{D(F.dataTypes,B)||A(F,`type "${B}" not allowed by context "${F.dataTypes.join(",")}"`)}),x(F,j)}}function T(F,j){j.length>1&&!(j.length===2&&j.includes("null"))&&A(F,"use allowUnionTypes to allow union type keyword")}function P(F,j){const B=F.self.RULES.all;for(const q in B){const V=B[q];if(typeof V=="object"&&(0,r.shouldUseRule)(F.schema,V)){const{type:J}=V.definition;J.length&&!J.some(K=>L(j,K))&&A(F,`missing type "${J.join(",")}" for keyword "${q}"`)}}}function L(F,j){return F.includes(j)||j==="number"&&F.includes("integer")}function D(F,j){return F.includes(j)||j==="integer"&&F.includes("number")}function x(F,j){const B=[];for(const q of F.dataTypes)D(j,q)?B.push(q):j.includes("integer")&&q==="number"&&B.push("integer");F.dataTypes=B}function A(F,j){const B=F.schemaEnv.baseId+F.errSchemaPath;j+=` at "${B}" (strictTypes)`,(0,f.checkStrictMode)(F,j,F.opts.strictTypes)}class C{constructor(j,B,q){if((0,s.validateKeywordUsage)(j,B,q),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=q,this.data=j.data,this.schema=j.schema[q],this.$data=B.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(j,this.schema,q,this.$data),this.schemaType=B.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=B,this.$data)this.schemaCode=j.gen.const("vSchema",Z(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,B.schemaType,B.allowUndefined))throw new Error(`${q} value must be ${JSON.stringify(B.schemaType)}`);("code"in B?B.trackErrors:B.errors!==!1)&&(this.errsCount=j.gen.const("_errs",a.default.errors))}result(j,B,q){this.failResult((0,c.not)(j),B,q)}failResult(j,B,q){this.gen.if(j),q?q():this.error(),B?(this.gen.else(),B(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,B){this.failResult((0,c.not)(j),void 0,B)}fail(j){if(j===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:B}=this;this.fail((0,c._)`${B} !== undefined && (${(0,c.or)(this.invalid$data(),j)})`)}error(j,B,q){if(B){this.setParams(B),this._error(j,q),this.setParams({});return}this._error(j,q)}_error(j,B){(j?p.reportExtraError:p.reportError)(this,this.def.error,B)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,B){B?Object.assign(this.params,j):this.params=j}block$data(j,B,q=c.nil){this.gen.block(()=>{this.check$data(j,q),B()})}check$data(j=c.nil,B=c.nil){if(!this.$data)return;const{gen:q,schemaCode:V,schemaType:J,def:K}=this;q.if((0,c.or)((0,c._)`${V} === undefined`,B)),j!==c.nil&&q.assign(j,!0),(J.length||K.validateSchema)&&(q.elseIf(this.invalid$data()),this.$dataError(),j!==c.nil&&q.assign(j,!1)),q.else()}invalid$data(){const{gen:j,schemaCode:B,schemaType:q,def:V,it:J}=this;return(0,c.or)(K(),Ae());function K(){if(q.length){if(!(B instanceof c.Name))throw new Error("ajv implementation error");const _e=Array.isArray(q)?q:[q];return(0,c._)`${(0,n.checkDataTypes)(_e,B,J.opts.strictNumbers,n.DataType.Wrong)}`}return c.nil}function Ae(){if(V.validateSchema){const _e=j.scopeValue("validate$data",{ref:V.validateSchema});return(0,c._)`!${_e}(${B})`}return c.nil}}subschema(j,B){const q=(0,o.getSubschema)(this.it,j);(0,o.extendSubschemaData)(q,this.it,j),(0,o.extendSubschemaMode)(q,j);const V={...this.it,...q,items:void 0,props:void 0};return y(V,B),V}mergeEvaluated(j,B){const{it:q,gen:V}=this;q.opts.unevaluated&&(q.props!==!0&&j.props!==void 0&&(q.props=f.mergeEvaluated.props(V,j.props,q.props,B)),q.items!==!0&&j.items!==void 0&&(q.items=f.mergeEvaluated.items(V,j.items,q.items,B)))}mergeValidEvaluated(j,B){const{it:q,gen:V}=this;if(q.opts.unevaluated&&(q.props!==!0||q.items!==!0))return V.if(B,()=>this.mergeEvaluated(j,c.Name)),!0}}Xe.KeywordCxt=C;function W(F,j,B,q){const V=new C(F,B,j);"code"in B?B.code(V,q):V.$data&&B.validate?(0,s.funcKeywordCode)(V,B):"macro"in B?(0,s.macroKeywordCode)(V,B):(B.compile||B.validate)&&(0,s.funcKeywordCode)(V,B)}const X=/^\/(?:[^~]|~0|~1)*$/,Q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Z(F,{dataLevel:j,dataNames:B,dataPathArr:q}){let V,J;if(F==="")return a.default.rootData;if(F[0]==="/"){if(!X.test(F))throw new Error(`Invalid JSON-pointer: ${F}`);V=F,J=a.default.rootData}else{const ve=Q.exec(F);if(!ve)throw new Error(`Invalid JSON-pointer: ${F}`);const de=+ve[1];if(V=ve[2],V==="#"){if(de>=j)throw new Error(_e("property/index",de));return q[j-de]}if(de>j)throw new Error(_e("data",de));if(J=B[j-de],!V)return J}let K=J;const Ae=V.split("/");for(const ve of Ae)ve&&(J=(0,c._)`${J}${(0,c.getProperty)((0,f.unescapeJsonPointer)(ve))}`,K=(0,c._)`${K} && ${J}`);return K;function _e(ve,de){return`Cannot access ${ve} ${de} levels up, current level is ${j}`}}return Xe.getData=Z,Xe}var gr={},Ka;function Ks(){if(Ka)return gr;Ka=1,Object.defineProperty(gr,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return gr.default=t,gr}var _r={},Za;function pn(){if(Za)return _r;Za=1,Object.defineProperty(_r,"__esModule",{value:!0});const t=dn();class e extends Error{constructor(n,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return _r.default=e,_r}var Ie={},Ja;function Zs(){if(Ja)return Ie;Ja=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.resolveSchema=Ie.getCompilingSchema=Ie.resolveRef=Ie.compileSchema=Ie.SchemaEnv=void 0;const t=te(),e=Ks(),r=tt(),n=dn(),i=ie(),s=mn();class o{constructor(d){var h;this.refs={},this.dynamicAnchors={};let y;typeof d.schema=="object"&&(y=d.schema),this.schema=d.schema,this.schemaId=d.schemaId,this.root=d.root||this,this.baseId=(h=d.baseId)!==null&&h!==void 0?h:(0,n.normalizeId)(y?.[d.schemaId||"$id"]),this.schemaPath=d.schemaPath,this.localRefs=d.localRefs,this.meta=d.meta,this.$async=y?.$async,this.refs={}}}Ie.SchemaEnv=o;function c(l){const d=f.call(this,l);if(d)return d;const h=(0,n.getFullPath)(this.opts.uriResolver,l.root.baseId),{es5:y,lines:v}=this.opts.code,{ownProperties:E}=this.opts,w=new t.CodeGen(this.scope,{es5:y,lines:v,ownProperties:E});let S;l.$async&&(S=w.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const b=w.scopeName("validate");l.validateName=b;const I={gen:w,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:w.scopeValue("schema",this.opts.code.source===!0?{ref:l.schema,code:(0,t.stringify)(l.schema)}:{ref:l.schema}),validateName:b,ValidationError:S,schema:l.schema,schemaEnv:l,rootId:h,baseId:l.baseId||h,schemaPath:t.nil,errSchemaPath:l.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let k;try{this._compilations.add(l),(0,s.validateFunctionCode)(I),w.optimize(this.opts.code.optimize);const U=w.toString();k=`${w.scopeRefs(r.default.scope)}return ${U}`,this.opts.code.process&&(k=this.opts.code.process(k,l));const G=new Function(`${r.default.self}`,`${r.default.scope}`,k)(this,this.scope.get());if(this.scope.value(b,{ref:G}),G.errors=null,G.schema=l.schema,G.schemaEnv=l,l.$async&&(G.$async=!0),this.opts.code.source===!0&&(G.source={validateName:b,validateCode:U,scopeValues:w._values}),this.opts.unevaluated){const{props:z,items:H}=I;G.evaluated={props:z instanceof t.Name?void 0:z,items:H instanceof t.Name?void 0:H,dynamicProps:z instanceof t.Name,dynamicItems:H instanceof t.Name},G.source&&(G.source.evaluated=(0,t.stringify)(G.evaluated))}return l.validate=G,l}catch(U){throw delete l.validate,delete l.validateName,k&&this.logger.error("Error compiling schema, function code:",k),U}finally{this._compilations.delete(l)}}Ie.compileSchema=c;function a(l,d,h){var y;h=(0,n.resolveUrl)(this.opts.uriResolver,d,h);const v=l.refs[h];if(v)return v;let E=g.call(this,l,h);if(E===void 0){const w=(y=l.localRefs)===null||y===void 0?void 0:y[h],{schemaId:S}=this.opts;w&&(E=new o({schema:w,schemaId:S,root:l,baseId:d}))}if(E!==void 0)return l.refs[h]=u.call(this,E)}Ie.resolveRef=a;function u(l){return(0,n.inlineRef)(l.schema,this.opts.inlineRefs)?l.schema:l.validate?l:c.call(this,l)}function f(l){for(const d of this._compilations)if(p(d,l))return d}Ie.getCompilingSchema=f;function p(l,d){return l.schema===d.schema&&l.root===d.root&&l.baseId===d.baseId}function g(l,d){let h;for(;typeof(h=this.refs[d])=="string";)d=h;return h||this.schemas[d]||m.call(this,l,d)}function m(l,d){const h=this.opts.uriResolver.parse(d),y=(0,n._getFullPath)(this.opts.uriResolver,h);let v=(0,n.getFullPath)(this.opts.uriResolver,l.baseId,void 0);if(Object.keys(l.schema).length>0&&y===v)return $.call(this,h,l);const E=(0,n.normalizeId)(y),w=this.refs[E]||this.schemas[E];if(typeof w=="string"){const S=m.call(this,l,w);return typeof S?.schema!="object"?void 0:$.call(this,h,S)}if(typeof w?.schema=="object"){if(w.validate||c.call(this,w),E===(0,n.normalizeId)(d)){const{schema:S}=w,{schemaId:b}=this.opts,I=S[b];return I&&(v=(0,n.resolveUrl)(this.opts.uriResolver,v,I)),new o({schema:S,schemaId:b,root:l,baseId:v})}return $.call(this,h,w)}}Ie.resolveSchema=m;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $(l,{baseId:d,schema:h,root:y}){var v;if(((v=l.fragment)===null||v===void 0?void 0:v[0])!=="/")return;for(const S of l.fragment.slice(1).split("/")){if(typeof h=="boolean")return;const b=h[(0,i.unescapeFragment)(S)];if(b===void 0)return;h=b;const I=typeof h=="object"&&h[this.opts.schemaId];!_.has(S)&&I&&(d=(0,n.resolveUrl)(this.opts.uriResolver,d,I))}let E;if(typeof h!="boolean"&&h.$ref&&!(0,i.schemaHasRulesButRef)(h,this.RULES)){const S=(0,n.resolveUrl)(this.opts.uriResolver,d,h.$ref);E=m.call(this,y,S)}const{schemaId:w}=this.opts;if(E=E||new o({schema:h,schemaId:w,root:y,baseId:d}),E.schema!==E.root.schema)return E}return Ie}const gd="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_d="Meta-schema for $data reference (JSON AnySchema extension proposal)",vd="object",Ed=["$data"],wd={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Sd=!1,bd={$id:gd,description:_d,type:vd,required:Ed,properties:wd,additionalProperties:Sd};var vr={},At={exports:{}},bi,Qa;function $d(){return Qa||(Qa=1,bi={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),bi}var $i,ec;function xd(){if(ec)return $i;ec=1;const{HEX:t}=$d();function e(_){if(o(_,".")<3)return{host:_,isIPV4:!1};const $=_.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[l]=$;return l?{host:s(l,"."),isIPV4:!0}:{host:_,isIPV4:!1}}function r(_,$=!1){let l="",d=!0;for(const h of _){if(t[h]===void 0)return;h!=="0"&&d===!0&&(d=!1),d||(l+=h)}return $&&l.length===0&&(l="0"),l}function n(_){let $=0;const l={error:!1,address:"",zone:""},d=[],h=[];let y=!1,v=!1,E=!1;function w(){if(h.length){if(y===!1){const S=r(h);if(S!==void 0)d.push(S);else return l.error=!0,!1}h.length=0}return!0}for(let S=0;S<_.length;S++){const b=_[S];if(!(b==="["||b==="]"))if(b===":"){if(v===!0&&(E=!0),!w())break;if($++,d.push(":"),$>7){l.error=!0;break}S-1>=0&&_[S-1]===":"&&(v=!0);continue}else if(b==="%"){if(!w())break;y=!0}else{h.push(b);continue}}return h.length&&(y?l.zone=h.join(""):E?d.push(h.join("")):d.push(r(h))),l.address=d.join(""),l}function i(_,$={}){if(o(_,":")<2)return{host:_,isIPV6:!1};const l=n(_);if(l.error)return{host:_,isIPV6:!1};{let d=l.address,h=l.address;return l.zone&&(d+="%"+l.zone,h+="%25"+l.zone),{host:d,escapedHost:h,isIPV6:!0}}}function s(_,$){let l="",d=!0;const h=_.length;for(let y=0;y<h;y++){const v=_[y];v==="0"&&d?(y+1<=h&&_[y+1]===$||y+1===h)&&(l+=v,d=!1):(v===$?d=!0:d=!1,l+=v)}return l}function o(_,$){let l=0;for(let d=0;d<_.length;d++)_[d]===$&&l++;return l}const c=/^\.\.?\//u,a=/^\/\.(?:\/|$)/u,u=/^\/\.\.(?:\/|$)/u,f=/^\/?(?:.|\n)*?(?=\/|$)/u;function p(_){const $=[];for(;_.length;)if(_.match(c))_=_.replace(c,"");else if(_.match(a))_=_.replace(a,"/");else if(_.match(u))_=_.replace(u,"/"),$.pop();else if(_==="."||_==="..")_="";else{const l=_.match(f);if(l){const d=l[0];_=_.slice(d.length),$.push(d)}else throw new Error("Unexpected dot segment condition")}return $.join("")}function g(_,$){const l=$!==!0?escape:unescape;return _.scheme!==void 0&&(_.scheme=l(_.scheme)),_.userinfo!==void 0&&(_.userinfo=l(_.userinfo)),_.host!==void 0&&(_.host=l(_.host)),_.path!==void 0&&(_.path=l(_.path)),_.query!==void 0&&(_.query=l(_.query)),_.fragment!==void 0&&(_.fragment=l(_.fragment)),_}function m(_,$){const l=[];if(_.userinfo!==void 0&&(l.push(_.userinfo),l.push("@")),_.host!==void 0){let d=unescape(_.host);const h=e(d);if(h.isIPV4)d=h.host;else{const y=i(h.host,{isIPV4:!1});y.isIPV6===!0?d=`[${y.escapedHost}]`:d=_.host}l.push(d)}return(typeof _.port=="number"||typeof _.port=="string")&&(l.push(":"),l.push(String(_.port))),l.length?l.join(""):void 0}return $i={recomposeAuthority:m,normalizeComponentEncoding:g,removeDotSegments:p,normalizeIPv4:e,normalizeIPv6:i,stringArrayToHexStripped:r},$i}var xi,tc;function Rd(){if(tc)return xi;tc=1;const t=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(h){return typeof h.secure=="boolean"?h.secure:String(h.scheme).toLowerCase()==="wss"}function n(h){return h.host||(h.error=h.error||"HTTP URIs must have a host."),h}function i(h){const y=String(h.scheme).toLowerCase()==="https";return(h.port===(y?443:80)||h.port==="")&&(h.port=void 0),h.path||(h.path="/"),h}function s(h){return h.secure=r(h),h.resourceName=(h.path||"/")+(h.query?"?"+h.query:""),h.path=void 0,h.query=void 0,h}function o(h){if((h.port===(r(h)?443:80)||h.port==="")&&(h.port=void 0),typeof h.secure=="boolean"&&(h.scheme=h.secure?"wss":"ws",h.secure=void 0),h.resourceName){const[y,v]=h.resourceName.split("?");h.path=y&&y!=="/"?y:void 0,h.query=v,h.resourceName=void 0}return h.fragment=void 0,h}function c(h,y){if(!h.path)return h.error="URN can not be parsed",h;const v=h.path.match(e);if(v){const E=y.scheme||h.scheme||"urn";h.nid=v[1].toLowerCase(),h.nss=v[2];const w=`${E}:${y.nid||h.nid}`,S=d[w];h.path=void 0,S&&(h=S.parse(h,y))}else h.error=h.error||"URN can not be parsed.";return h}function a(h,y){const v=y.scheme||h.scheme||"urn",E=h.nid.toLowerCase(),w=`${v}:${y.nid||E}`,S=d[w];S&&(h=S.serialize(h,y));const b=h,I=h.nss;return b.path=`${E||y.nid}:${I}`,y.skipEscape=!0,b}function u(h,y){const v=h;return v.uuid=v.nss,v.nss=void 0,!y.tolerant&&(!v.uuid||!t.test(v.uuid))&&(v.error=v.error||"UUID is not valid."),v}function f(h){const y=h;return y.nss=(h.uuid||"").toLowerCase(),y}const p={scheme:"http",domainHost:!0,parse:n,serialize:i},g={scheme:"https",domainHost:p.domainHost,parse:n,serialize:i},m={scheme:"ws",domainHost:!0,parse:s,serialize:o},_={scheme:"wss",domainHost:m.domainHost,parse:m.parse,serialize:m.serialize},d={http:p,https:g,ws:m,wss:_,urn:{scheme:"urn",parse:c,serialize:a,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:f,skipNormalize:!0}};return xi=d,xi}var rc;function Cd(){if(rc)return At.exports;rc=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:i}=xd(),s=Rd();function o(l,d){return typeof l=="string"?l=f(_(l,d),d):typeof l=="object"&&(l=_(f(l,d),d)),l}function c(l,d,h){const y=Object.assign({scheme:"null"},h),v=a(_(l,y),_(d,y),y,!0);return f(v,{...y,skipEscape:!0})}function a(l,d,h,y){const v={};return y||(l=_(f(l,h),h),d=_(f(d,h),h)),h=h||{},!h.tolerant&&d.scheme?(v.scheme=d.scheme,v.userinfo=d.userinfo,v.host=d.host,v.port=d.port,v.path=r(d.path||""),v.query=d.query):(d.userinfo!==void 0||d.host!==void 0||d.port!==void 0?(v.userinfo=d.userinfo,v.host=d.host,v.port=d.port,v.path=r(d.path||""),v.query=d.query):(d.path?(d.path.charAt(0)==="/"?v.path=r(d.path):((l.userinfo!==void 0||l.host!==void 0||l.port!==void 0)&&!l.path?v.path="/"+d.path:l.path?v.path=l.path.slice(0,l.path.lastIndexOf("/")+1)+d.path:v.path=d.path,v.path=r(v.path)),v.query=d.query):(v.path=l.path,d.query!==void 0?v.query=d.query:v.query=l.query),v.userinfo=l.userinfo,v.host=l.host,v.port=l.port),v.scheme=l.scheme),v.fragment=d.fragment,v}function u(l,d,h){return typeof l=="string"?(l=unescape(l),l=f(i(_(l,h),!0),{...h,skipEscape:!0})):typeof l=="object"&&(l=f(i(l,!0),{...h,skipEscape:!0})),typeof d=="string"?(d=unescape(d),d=f(i(_(d,h),!0),{...h,skipEscape:!0})):typeof d=="object"&&(d=f(i(d,!0),{...h,skipEscape:!0})),l.toLowerCase()===d.toLowerCase()}function f(l,d){const h={host:l.host,scheme:l.scheme,userinfo:l.userinfo,port:l.port,path:l.path,query:l.query,nid:l.nid,nss:l.nss,uuid:l.uuid,fragment:l.fragment,reference:l.reference,resourceName:l.resourceName,secure:l.secure,error:""},y=Object.assign({},d),v=[],E=s[(y.scheme||h.scheme||"").toLowerCase()];E&&E.serialize&&E.serialize(h,y),h.path!==void 0&&(y.skipEscape?h.path=unescape(h.path):(h.path=escape(h.path),h.scheme!==void 0&&(h.path=h.path.split("%3A").join(":")))),y.reference!=="suffix"&&h.scheme&&v.push(h.scheme,":");const w=n(h,y);if(w!==void 0&&(y.reference!=="suffix"&&v.push("//"),v.push(w),h.path&&h.path.charAt(0)!=="/"&&v.push("/")),h.path!==void 0){let S=h.path;!y.absolutePath&&(!E||!E.absolutePath)&&(S=r(S)),w===void 0&&(S=S.replace(/^\/\//u,"/%2F")),v.push(S)}return h.query!==void 0&&v.push("?",h.query),h.fragment!==void 0&&v.push("#",h.fragment),v.join("")}const p=Array.from({length:127},(l,d)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(d)));function g(l){let d=0;for(let h=0,y=l.length;h<y;++h)if(d=l.charCodeAt(h),d>126||p[d])return!0;return!1}const m=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function _(l,d){const h=Object.assign({},d),y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},v=l.indexOf("%")!==-1;let E=!1;h.reference==="suffix"&&(l=(h.scheme?h.scheme+":":"")+"//"+l);const w=l.match(m);if(w){if(y.scheme=w[1],y.userinfo=w[3],y.host=w[4],y.port=parseInt(w[5],10),y.path=w[6]||"",y.query=w[7],y.fragment=w[8],isNaN(y.port)&&(y.port=w[5]),y.host){const b=e(y.host);if(b.isIPV4===!1){const I=t(b.host,{isIPV4:!1});y.host=I.host.toLowerCase(),E=I.isIPV6}else y.host=b.host,E=!0}y.scheme===void 0&&y.userinfo===void 0&&y.host===void 0&&y.port===void 0&&!y.path&&y.query===void 0?y.reference="same-document":y.scheme===void 0?y.reference="relative":y.fragment===void 0?y.reference="absolute":y.reference="uri",h.reference&&h.reference!=="suffix"&&h.reference!==y.reference&&(y.error=y.error||"URI is not a "+h.reference+" reference.");const S=s[(h.scheme||y.scheme||"").toLowerCase()];if(!h.unicodeSupport&&(!S||!S.unicodeSupport)&&y.host&&(h.domainHost||S&&S.domainHost)&&E===!1&&g(y.host))try{y.host=URL.domainToASCII(y.host.toLowerCase())}catch(b){y.error=y.error||"Host's domain name can not be converted to ASCII: "+b}(!S||S&&!S.skipNormalize)&&(v&&y.scheme!==void 0&&(y.scheme=unescape(y.scheme)),v&&y.host!==void 0&&(y.host=unescape(y.host)),y.path!==void 0&&y.path.length&&(y.path=escape(unescape(y.path))),y.fragment!==void 0&&y.fragment.length&&(y.fragment=encodeURI(decodeURIComponent(y.fragment)))),S&&S.parse&&S.parse(y,h)}else y.error=y.error||"URI can not be parsed.";return y}const $={SCHEMES:s,normalize:o,resolve:c,resolveComponents:a,equal:u,serialize:f,parse:_};return At.exports=$,At.exports.default=$,At.exports.fastUri=$,At.exports}var nc;function Ad(){if(nc)return vr;nc=1,Object.defineProperty(vr,"__esModule",{value:!0});const t=Cd();return t.code='require("ajv/dist/runtime/uri").default',vr.default=t,vr}var ic;function Id(){return ic||(ic=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=mn();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=te();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ks(),i=pn(),s=Jl(),o=Zs(),c=te(),a=dn(),u=cn(),f=ie(),p=bd,g=Ad(),m=(T,P)=>new RegExp(T,P);m.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),l={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function y(T){var P,L,D,x,A,C,W,X,Q,Z,F,j,B,q,V,J,K,Ae,_e,ve,de,Ve,we,$t,me;const le=T.strict,oe=(P=T.code)===null||P===void 0?void 0:P.optimize,ne=oe===!0||oe===void 0?1:oe||0,Re=(D=(L=T.code)===null||L===void 0?void 0:L.regExp)!==null&&D!==void 0?D:m,df=(x=T.uriResolver)!==null&&x!==void 0?x:g.default;return{strictSchema:(C=(A=T.strictSchema)!==null&&A!==void 0?A:le)!==null&&C!==void 0?C:!0,strictNumbers:(X=(W=T.strictNumbers)!==null&&W!==void 0?W:le)!==null&&X!==void 0?X:!0,strictTypes:(Z=(Q=T.strictTypes)!==null&&Q!==void 0?Q:le)!==null&&Z!==void 0?Z:"log",strictTuples:(j=(F=T.strictTuples)!==null&&F!==void 0?F:le)!==null&&j!==void 0?j:"log",strictRequired:(q=(B=T.strictRequired)!==null&&B!==void 0?B:le)!==null&&q!==void 0?q:!1,code:T.code?{...T.code,optimize:ne,regExp:Re}:{optimize:ne,regExp:Re},loopRequired:(V=T.loopRequired)!==null&&V!==void 0?V:h,loopEnum:(J=T.loopEnum)!==null&&J!==void 0?J:h,meta:(K=T.meta)!==null&&K!==void 0?K:!0,messages:(Ae=T.messages)!==null&&Ae!==void 0?Ae:!0,inlineRefs:(_e=T.inlineRefs)!==null&&_e!==void 0?_e:!0,schemaId:(ve=T.schemaId)!==null&&ve!==void 0?ve:"$id",addUsedSchema:(de=T.addUsedSchema)!==null&&de!==void 0?de:!0,validateSchema:(Ve=T.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(we=T.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:($t=T.unicodeRegExp)!==null&&$t!==void 0?$t:!0,int32range:(me=T.int32range)!==null&&me!==void 0?me:!0,uriResolver:df}}class v{constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts={...P,...y(P)};const{es5:L,lines:D}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:$,es5:L,lines:D}),this.logger=Y(P.logger);const x=P.validateFormats;P.validateFormats=!1,this.RULES=(0,s.getRules)(),E.call(this,l,P,"NOT SUPPORTED"),E.call(this,d,P,"DEPRECATED","warn"),this._metaOpts=k.call(this),P.formats&&b.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&I.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),S.call(this),P.validateFormats=x}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:P,meta:L,schemaId:D}=this.opts;let x=p;D==="id"&&(x={...p},x.id=x.$id,delete x.$id),L&&P&&this.addMetaSchema(x,x[D],!1)}defaultMeta(){const{meta:P,schemaId:L}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[L]||P:void 0}validate(P,L){let D;if(typeof P=="string"){if(D=this.getSchema(P),!D)throw new Error(`no schema with key or ref "${P}"`)}else D=this.compile(P);const x=D(L);return"$async"in D||(this.errors=D.errors),x}compile(P,L){const D=this._addSchema(P,L);return D.validate||this._compileSchemaEnv(D)}compileAsync(P,L){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return x.call(this,P,L);async function x(Z,F){await A.call(this,Z.$schema);const j=this._addSchema(Z,F);return j.validate||C.call(this,j)}async function A(Z){Z&&!this.getSchema(Z)&&await x.call(this,{$ref:Z},!0)}async function C(Z){try{return this._compileSchemaEnv(Z)}catch(F){if(!(F instanceof i.default))throw F;return W.call(this,F),await X.call(this,F.missingSchema),C.call(this,Z)}}function W({missingSchema:Z,missingRef:F}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${F} cannot be resolved`)}async function X(Z){const F=await Q.call(this,Z);this.refs[Z]||await A.call(this,F.$schema),this.refs[Z]||this.addSchema(F,Z,L)}async function Q(Z){const F=this._loading[Z];if(F)return F;try{return await(this._loading[Z]=D(Z))}finally{delete this._loading[Z]}}}addSchema(P,L,D,x=this.opts.validateSchema){if(Array.isArray(P)){for(const C of P)this.addSchema(C,void 0,D,x);return this}let A;if(typeof P=="object"){const{schemaId:C}=this.opts;if(A=P[C],A!==void 0&&typeof A!="string")throw new Error(`schema ${C} must be string`)}return L=(0,a.normalizeId)(L||A),this._checkUnique(L),this.schemas[L]=this._addSchema(P,D,L,x,!0),this}addMetaSchema(P,L,D=this.opts.validateSchema){return this.addSchema(P,L,!0,D),this}validateSchema(P,L){if(typeof P=="boolean")return!0;let D;if(D=P.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const x=this.validate(D,P);if(!x&&L){const A="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(A);else throw new Error(A)}return x}getSchema(P){let L;for(;typeof(L=w.call(this,P))=="string";)P=L;if(L===void 0){const{schemaId:D}=this.opts,x=new o.SchemaEnv({schema:{},schemaId:D});if(L=o.resolveSchema.call(this,x,P),!L)return;this.refs[P]=L}return L.validate||this._compileSchemaEnv(L)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const L=w.call(this,P);return typeof L=="object"&&this._cache.delete(L.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{const L=P;this._cache.delete(L);let D=P[this.opts.schemaId];return D&&(D=(0,a.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(const L of P)this.addKeyword(L);return this}addKeyword(P,L){let D;if(typeof P=="string")D=P,typeof L=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),L.keyword=D);else if(typeof P=="object"&&L===void 0){if(L=P,D=L.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(z.call(this,D,L),!L)return(0,f.eachItem)(D,A=>H.call(this,A)),this;N.call(this,L);const x={...L,type:(0,u.getJSONTypes)(L.type),schemaType:(0,u.getJSONTypes)(L.schemaType)};return(0,f.eachItem)(D,x.type.length===0?A=>H.call(this,A,x):A=>x.type.forEach(C=>H.call(this,A,x,C))),this}getKeyword(P){const L=this.RULES.all[P];return typeof L=="object"?L.definition:!!L}removeKeyword(P){const{RULES:L}=this;delete L.keywords[P],delete L.all[P];for(const D of L.rules){const x=D.rules.findIndex(A=>A.keyword===P);x>=0&&D.rules.splice(x,1)}return this}addFormat(P,L){return typeof L=="string"&&(L=new RegExp(L)),this.formats[P]=L,this}errorsText(P=this.errors,{separator:L=", ",dataVar:D="data"}={}){return!P||P.length===0?"No errors":P.map(x=>`${D}${x.instancePath} ${x.message}`).reduce((x,A)=>x+L+A)}$dataMetaSchema(P,L){const D=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(const x of L){const A=x.split("/").slice(1);let C=P;for(const W of A)C=C[W];for(const W in D){const X=D[W];if(typeof X!="object")continue;const{$data:Q}=X.definition,Z=C[W];Q&&Z&&(C[W]=M(Z))}}return P}_removeAllSchemas(P,L){for(const D in P){const x=P[D];(!L||L.test(D))&&(typeof x=="string"?delete P[D]:x&&!x.meta&&(this._cache.delete(x.schema),delete P[D]))}}_addSchema(P,L,D,x=this.opts.validateSchema,A=this.opts.addUsedSchema){let C;const{schemaId:W}=this.opts;if(typeof P=="object")C=P[W];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(P);if(X!==void 0)return X;D=(0,a.normalizeId)(C||D);const Q=a.getSchemaRefs.call(this,P,D);return X=new o.SchemaEnv({schema:P,schemaId:W,meta:L,baseId:D,localRefs:Q}),this._cache.set(X.schema,X),A&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=X),x&&this.validateSchema(P,!0),X}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):o.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){const L=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,P)}finally{this.opts=L}}}v.ValidationError=n.default,v.MissingRefError=i.default,t.default=v;function E(T,P,L,D="error"){for(const x in T){const A=x;A in P&&this.logger[D](`${L}: option ${x}. ${T[A]}`)}}function w(T){return T=(0,a.normalizeId)(T),this.schemas[T]||this.refs[T]}function S(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const P in T)this.addSchema(T[P],P)}function b(){for(const T in this.opts.formats){const P=this.opts.formats[T];P&&this.addFormat(T,P)}}function I(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const P in T){const L=T[P];L.keyword||(L.keyword=P),this.addKeyword(L)}}function k(){const T={...this.opts};for(const P of _)delete T[P];return T}const U={log(){},warn(){},error(){}};function Y(T){if(T===!1)return U;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const G=/^[a-z_$][a-z0-9_$:-]*$/i;function z(T,P){const{RULES:L}=this;if((0,f.eachItem)(T,D=>{if(L.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!G.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!P&&P.$data&&!("code"in P||"validate"in P))throw new Error('$data keyword must have "code" or "validate" function')}function H(T,P,L){var D;const x=P?.post;if(L&&x)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:A}=this;let C=x?A.post:A.rules.find(({type:X})=>X===L);if(C||(C={type:L,rules:[]},A.rules.push(C)),A.keywords[T]=!0,!P)return;const W={keyword:T,definition:{...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)}};P.before?O.call(this,C,W,P.before):C.rules.push(W),A.all[T]=W,(D=P.implements)===null||D===void 0||D.forEach(X=>this.addKeyword(X))}function O(T,P,L){const D=T.rules.findIndex(x=>x.keyword===L);D>=0?T.rules.splice(D,0,P):(T.rules.push(P),this.logger.warn(`rule ${L} is not defined`))}function N(T){let{metaSchema:P}=T;P!==void 0&&(T.$data&&this.opts.$data&&(P=M(P)),T.validateSchema=this.compile(P,!0))}const R={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(T){return{anyOf:[T,R]}}}(yi)),yi}var Er={},wr={},Sr={},sc;function Td(){if(sc)return Sr;sc=1,Object.defineProperty(Sr,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Sr.default=t,Sr}var Je={},oc;function Pd(){if(oc)return Je;oc=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.callRef=Je.getValidate=void 0;const t=pn(),e=qe(),r=te(),n=tt(),i=Zs(),s=ie(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:f,schema:p,it:g}=u,{baseId:m,schemaEnv:_,validateName:$,opts:l,self:d}=g,{root:h}=_;if((p==="#"||p==="#/")&&m===h.baseId)return v();const y=i.resolveRef.call(d,h,m,p);if(y===void 0)throw new t.default(g.opts.uriResolver,m,p);if(y instanceof i.SchemaEnv)return E(y);return w(y);function v(){if(_===h)return a(u,$,_,_.$async);const S=f.scopeValue("root",{ref:h});return a(u,(0,r._)`${S}.validate`,h,h.$async)}function E(S){const b=c(u,S);a(u,b,S,S.$async)}function w(S){const b=f.scopeValue("schema",l.code.source===!0?{ref:S,code:(0,r.stringify)(S)}:{ref:S}),I=f.name("valid"),k=u.subschema({schema:S,dataTypes:[],schemaPath:r.nil,topSchemaRef:b,errSchemaPath:p},I);u.mergeEvaluated(k),u.ok(I)}}};function c(u,f){const{gen:p}=u;return f.validate?p.scopeValue("validate",{ref:f.validate}):(0,r._)`${p.scopeValue("wrapper",{ref:f})}.validate`}Je.getValidate=c;function a(u,f,p,g){const{gen:m,it:_}=u,{allErrors:$,schemaEnv:l,opts:d}=_,h=d.passContext?n.default.this:r.nil;g?y():v();function y(){if(!l.$async)throw new Error("async schema referenced by sync schema");const S=m.let("valid");m.try(()=>{m.code((0,r._)`await ${(0,e.callValidateCode)(u,f,h)}`),w(f),$||m.assign(S,!0)},b=>{m.if((0,r._)`!(${b} instanceof ${_.ValidationError})`,()=>m.throw(b)),E(b),$||m.assign(S,!1)}),u.ok(S)}function v(){u.result((0,e.callValidateCode)(u,f,h),()=>w(f),()=>E(f))}function E(S){const b=(0,r._)`${S}.errors`;m.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${b} : ${n.default.vErrors}.concat(${b})`),m.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function w(S){var b;if(!_.opts.unevaluated)return;const I=(b=p?.validate)===null||b===void 0?void 0:b.evaluated;if(_.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(_.props=s.mergeEvaluated.props(m,I.props,_.props));else{const k=m.var("props",(0,r._)`${S}.evaluated.props`);_.props=s.mergeEvaluated.props(m,k,_.props,r.Name)}if(_.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(_.items=s.mergeEvaluated.items(m,I.items,_.items));else{const k=m.var("items",(0,r._)`${S}.evaluated.items`);_.items=s.mergeEvaluated.items(m,k,_.items,r.Name)}}}return Je.callRef=a,Je.default=o,Je}var ac;function Od(){if(ac)return wr;ac=1,Object.defineProperty(wr,"__esModule",{value:!0});const t=Td(),e=Pd(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return wr.default=r,wr}var br={},$r={},cc;function Nd(){if(cc)return $r;cc=1,Object.defineProperty($r,"__esModule",{value:!0});const t=te(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:s,schemaCode:o})=>(0,t.str)`must be ${r[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,t._)`{comparison: ${r[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:o,data:c,schemaCode:a}=s;s.fail$data((0,t._)`${c} ${r[o].fail} ${a} || isNaN(${c})`)}};return $r.default=i,$r}var xr={},uc;function Md(){if(uc)return xr;uc=1,Object.defineProperty(xr,"__esModule",{value:!0});const t=te(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:i,data:s,schemaCode:o,it:c}=n,a=c.opts.multipleOfPrecision,u=i.let("res"),f=a?(0,t._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${a}`:(0,t._)`${u} !== parseInt(${u})`;n.fail$data((0,t._)`(${o} === 0 || (${u} = ${s}/${o}, ${f}))`)}};return xr.default=r,xr}var Rr={},Cr={},lc;function Dd(){if(lc)return Cr;lc=1,Object.defineProperty(Cr,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,i=0,s;for(;i<r;)n++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<r&&(s=e.charCodeAt(i),(s&64512)===56320&&i++);return n}return Cr.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Cr}var fc;function Ld(){if(fc)return Rr;fc=1,Object.defineProperty(Rr,"__esModule",{value:!0});const t=te(),e=ie(),r=Dd(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const c=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${c} than ${o} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:o,data:c,schemaCode:a,it:u}=s,f=o==="maxLength"?t.operators.GT:t.operators.LT,p=u.opts.unicode===!1?(0,t._)`${c}.length`:(0,t._)`${(0,e.useFunc)(s.gen,r.default)}(${c})`;s.fail$data((0,t._)`${p} ${f} ${a}`)}};return Rr.default=i,Rr}var Ar={},hc;function Fd(){if(hc)return Ar;hc=1,Object.defineProperty(Ar,"__esModule",{value:!0});const t=qe(),e=te(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:c,schemaCode:a,it:u}=i,f=u.opts.unicodeRegExp?"u":"",p=o?(0,e._)`(new RegExp(${a}, ${f}))`:(0,t.usePattern)(i,c);i.fail$data((0,e._)`!${p}.test(${s})`)}};return Ar.default=n,Ar}var Ir={},dc;function kd(){if(dc)return Ir;dc=1,Object.defineProperty(Ir,"__esModule",{value:!0});const t=te(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:o}=n,c=i==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${s}).length ${c} ${o}`)}};return Ir.default=r,Ir}var Tr={},mc;function qd(){if(mc)return Tr;mc=1,Object.defineProperty(Tr,"__esModule",{value:!0});const t=qe(),e=te(),r=ie(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:c,schemaCode:a,data:u,$data:f,it:p}=s,{opts:g}=p;if(!f&&c.length===0)return;const m=c.length>=g.loopRequired;if(p.allErrors?_():$(),g.strictRequired){const h=s.parentSchema.properties,{definedProperties:y}=s.it;for(const v of c)if(h?.[v]===void 0&&!y.has(v)){const E=p.schemaEnv.baseId+p.errSchemaPath,w=`required property "${v}" is not defined at "${E}" (strictRequired)`;(0,r.checkStrictMode)(p,w,p.opts.strictRequired)}}function _(){if(m||f)s.block$data(e.nil,l);else for(const h of c)(0,t.checkReportMissingProp)(s,h)}function $(){const h=o.let("missing");if(m||f){const y=o.let("valid",!0);s.block$data(y,()=>d(h,y)),s.ok(y)}else o.if((0,t.checkMissingProp)(s,c,h)),(0,t.reportMissingProp)(s,h),o.else()}function l(){o.forOf("prop",a,h=>{s.setParams({missingProperty:h}),o.if((0,t.noPropertyInData)(o,u,h,g.ownProperties),()=>s.error())})}function d(h,y){s.setParams({missingProperty:h}),o.forOf(h,a,()=>{o.assign(y,(0,t.propertyInData)(o,u,h,g.ownProperties)),o.if((0,e.not)(y),()=>{s.error(),o.break()})},e.nil)}}};return Tr.default=i,Tr}var Pr={},pc;function jd(){if(pc)return Pr;pc=1,Object.defineProperty(Pr,"__esModule",{value:!0});const t=te(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:o}=n,c=i==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${s}.length ${c} ${o}`)}};return Pr.default=r,Pr}var Or={},Nr={},yc;function Js(){if(yc)return Nr;yc=1,Object.defineProperty(Nr,"__esModule",{value:!0});const t=ef();return t.code='require("ajv/dist/runtime/equal").default',Nr.default=t,Nr}var gc;function Ud(){if(gc)return Or;gc=1,Object.defineProperty(Or,"__esModule",{value:!0});const t=cn(),e=te(),r=ie(),n=Js(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:c}})=>(0,e.str)`must NOT have duplicate items (items ## ${c} and ${o} are identical)`,params:({params:{i:o,j:c}})=>(0,e._)`{i: ${o}, j: ${c}}`},code(o){const{gen:c,data:a,$data:u,schema:f,parentSchema:p,schemaCode:g,it:m}=o;if(!u&&!f)return;const _=c.let("valid"),$=p.items?(0,t.getSchemaTypes)(p.items):[];o.block$data(_,l,(0,e._)`${g} === false`),o.ok(_);function l(){const v=c.let("i",(0,e._)`${a}.length`),E=c.let("j");o.setParams({i:v,j:E}),c.assign(_,!0),c.if((0,e._)`${v} > 1`,()=>(d()?h:y)(v,E))}function d(){return $.length>0&&!$.some(v=>v==="object"||v==="array")}function h(v,E){const w=c.name("item"),S=(0,t.checkDataTypes)($,w,m.opts.strictNumbers,t.DataType.Wrong),b=c.const("indices",(0,e._)`{}`);c.for((0,e._)`;${v}--;`,()=>{c.let(w,(0,e._)`${a}[${v}]`),c.if(S,(0,e._)`continue`),$.length>1&&c.if((0,e._)`typeof ${w} == "string"`,(0,e._)`${w} += "_"`),c.if((0,e._)`typeof ${b}[${w}] == "number"`,()=>{c.assign(E,(0,e._)`${b}[${w}]`),o.error(),c.assign(_,!1).break()}).code((0,e._)`${b}[${w}] = ${v}`)})}function y(v,E){const w=(0,r.useFunc)(c,n.default),S=c.name("outer");c.label(S).for((0,e._)`;${v}--;`,()=>c.for((0,e._)`${E} = ${v}; ${E}--;`,()=>c.if((0,e._)`${w}(${a}[${v}], ${a}[${E}])`,()=>{o.error(),c.assign(_,!1).break(S)})))}}};return Or.default=s,Or}var Mr={},_c;function Bd(){if(_c)return Mr;_c=1,Object.defineProperty(Mr,"__esModule",{value:!0});const t=te(),e=ie(),r=Js(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:c,$data:a,schemaCode:u,schema:f}=s;a||f&&typeof f=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(o,r.default)}(${c}, ${u})`):s.fail((0,t._)`${f} !== ${c}`)}};return Mr.default=i,Mr}var Dr={},vc;function Gd(){if(vc)return Dr;vc=1,Object.defineProperty(Dr,"__esModule",{value:!0});const t=te(),e=ie(),r=Js(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:c,$data:a,schema:u,schemaCode:f,it:p}=s;if(!a&&u.length===0)throw new Error("enum must have non-empty array");const g=u.length>=p.opts.loopEnum;let m;const _=()=>m??(m=(0,e.useFunc)(o,r.default));let $;if(g||a)$=o.let("valid"),s.block$data($,l);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const h=o.const("vSchema",f);$=(0,t.or)(...u.map((y,v)=>d(h,v)))}s.pass($);function l(){o.assign($,!1),o.forOf("v",f,h=>o.if((0,t._)`${_()}(${c}, ${h})`,()=>o.assign($,!0).break()))}function d(h,y){const v=u[y];return typeof v=="object"&&v!==null?(0,t._)`${_()}(${c}, ${h}[${y}])`:(0,t._)`${c} === ${v}`}}};return Dr.default=i,Dr}var Ec;function zd(){if(Ec)return br;Ec=1,Object.defineProperty(br,"__esModule",{value:!0});const t=Nd(),e=Md(),r=Ld(),n=Fd(),i=kd(),s=qd(),o=jd(),c=Ud(),a=Bd(),u=Gd(),f=[t.default,e.default,r.default,n.default,i.default,s.default,o.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},a.default,u.default];return br.default=f,br}var Lr={},yt={},wc;function tf(){if(wc)return yt;wc=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.validateAdditionalItems=void 0;const t=te(),e=ie(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:c}=s,{items:a}=o;if(!Array.isArray(a)){(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,a)}};function i(s,o){const{gen:c,schema:a,data:u,keyword:f,it:p}=s;p.items=!0;const g=c.const("len",(0,t._)`${u}.length`);if(a===!1)s.setParams({len:o.length}),s.pass((0,t._)`${g} <= ${o.length}`);else if(typeof a=="object"&&!(0,e.alwaysValidSchema)(p,a)){const _=c.var("valid",(0,t._)`${g} <= ${o.length}`);c.if((0,t.not)(_),()=>m(_)),s.ok(_)}function m(_){c.forRange("i",o.length,g,$=>{s.subschema({keyword:f,dataProp:$,dataPropType:e.Type.Num},_),p.allErrors||c.if((0,t.not)(_),()=>c.break())})}}return yt.validateAdditionalItems=i,yt.default=n,yt}var Fr={},gt={},Sc;function rf(){if(Sc)return gt;Sc=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.validateTuple=void 0;const t=te(),e=ie(),r=qe(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:c}=s;if(Array.isArray(o))return i(s,"additionalItems",o);c.items=!0,!(0,e.alwaysValidSchema)(c,o)&&s.ok((0,r.validateArray)(s))}};function i(s,o,c=s.schema){const{gen:a,parentSchema:u,data:f,keyword:p,it:g}=s;$(u),g.opts.unevaluated&&c.length&&g.items!==!0&&(g.items=e.mergeEvaluated.items(a,c.length,g.items));const m=a.name("valid"),_=a.const("len",(0,t._)`${f}.length`);c.forEach((l,d)=>{(0,e.alwaysValidSchema)(g,l)||(a.if((0,t._)`${_} > ${d}`,()=>s.subschema({keyword:p,schemaProp:d,dataProp:d},m)),s.ok(m))});function $(l){const{opts:d,errSchemaPath:h}=g,y=c.length,v=y===l.minItems&&(y===l.maxItems||l[o]===!1);if(d.strictTuples&&!v){const E=`"${p}" is ${y}-tuple, but minItems or maxItems/${o} are not specified or different at path "${h}"`;(0,e.checkStrictMode)(g,E,d.strictTuples)}}}return gt.validateTuple=i,gt.default=n,gt}var bc;function Vd(){if(bc)return Fr;bc=1,Object.defineProperty(Fr,"__esModule",{value:!0});const t=rf(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Fr.default=e,Fr}var kr={},$c;function Hd(){if($c)return kr;$c=1,Object.defineProperty(kr,"__esModule",{value:!0});const t=te(),e=ie(),r=qe(),n=tf(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:c,parentSchema:a,it:u}=o,{prefixItems:f}=a;u.items=!0,!(0,e.alwaysValidSchema)(u,c)&&(f?(0,n.validateAdditionalItems)(o,f):o.ok((0,r.validateArray)(o)))}};return kr.default=s,kr}var qr={},xc;function Xd(){if(xc)return qr;xc=1,Object.defineProperty(qr,"__esModule",{value:!0});const t=te(),e=ie(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:c,data:a,it:u}=i;let f,p;const{minContains:g,maxContains:m}=c;u.opts.next?(f=g===void 0?1:g,p=m):f=1;const _=s.const("len",(0,t._)`${a}.length`);if(i.setParams({min:f,max:p}),p===void 0&&f===0){(0,e.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&f>p){(0,e.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(u,o)){let y=(0,t._)`${_} >= ${f}`;p!==void 0&&(y=(0,t._)`${y} && ${_} <= ${p}`),i.pass(y);return}u.items=!0;const $=s.name("valid");p===void 0&&f===1?d($,()=>s.if($,()=>s.break())):f===0?(s.let($,!0),p!==void 0&&s.if((0,t._)`${a}.length > 0`,l)):(s.let($,!1),l()),i.result($,()=>i.reset());function l(){const y=s.name("_valid"),v=s.let("count",0);d(y,()=>s.if(y,()=>h(v)))}function d(y,v){s.forRange("i",0,_,E=>{i.subschema({keyword:"contains",dataProp:E,dataPropType:e.Type.Num,compositeRule:!0},y),v()})}function h(y){s.code((0,t._)`${y}++`),p===void 0?s.if((0,t._)`${y} >= ${f}`,()=>s.assign($,!0).break()):(s.if((0,t._)`${y} > ${p}`,()=>s.assign($,!1).break()),f===1?s.assign($,!0):s.if((0,t._)`${y} >= ${f}`,()=>s.assign($,!0)))}}};return qr.default=n,qr}var Ri={},Rc;function Wd(){return Rc||(Rc=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=te(),r=ie(),n=qe();t.error={message:({params:{property:a,depsCount:u,deps:f}})=>{const p=u===1?"property":"properties";return(0,e.str)`must have ${p} ${f} when property ${a} is present`},params:({params:{property:a,depsCount:u,deps:f,missingProperty:p}})=>(0,e._)`{property: ${a},
    missingProperty: ${p},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(a){const[u,f]=s(a);o(a,u),c(a,f)}};function s({schema:a}){const u={},f={};for(const p in a){if(p==="__proto__")continue;const g=Array.isArray(a[p])?u:f;g[p]=a[p]}return[u,f]}function o(a,u=a.schema){const{gen:f,data:p,it:g}=a;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const _ in u){const $=u[_];if($.length===0)continue;const l=(0,n.propertyInData)(f,p,_,g.opts.ownProperties);a.setParams({property:_,depsCount:$.length,deps:$.join(", ")}),g.allErrors?f.if(l,()=>{for(const d of $)(0,n.checkReportMissingProp)(a,d)}):(f.if((0,e._)`${l} && (${(0,n.checkMissingProp)(a,$,m)})`),(0,n.reportMissingProp)(a,m),f.else())}}t.validatePropertyDeps=o;function c(a,u=a.schema){const{gen:f,data:p,keyword:g,it:m}=a,_=f.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(m,u[$])||(f.if((0,n.propertyInData)(f,p,$,m.opts.ownProperties),()=>{const l=a.subschema({keyword:g,schemaProp:$},_);a.mergeValidEvaluated(l,_)},()=>f.var(_,!0)),a.ok(_))}t.validateSchemaDeps=c,t.default=i}(Ri)),Ri}var jr={},Cc;function Yd(){if(Cc)return jr;Cc=1,Object.defineProperty(jr,"__esModule",{value:!0});const t=te(),e=ie(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:c,it:a}=i;if((0,e.alwaysValidSchema)(a,o))return;const u=s.name("valid");s.forIn("key",c,f=>{i.setParams({propertyName:f}),i.subschema({keyword:"propertyNames",data:f,dataTypes:["string"],propertyName:f,compositeRule:!0},u),s.if((0,t.not)(u),()=>{i.error(!0),a.allErrors||s.break()})}),i.ok(u)}};return jr.default=n,jr}var Ur={},Ac;function nf(){if(Ac)return Ur;Ac=1,Object.defineProperty(Ur,"__esModule",{value:!0});const t=qe(),e=te(),r=tt(),n=ie(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:c,schema:a,parentSchema:u,data:f,errsCount:p,it:g}=o;if(!p)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(g,a))return;const $=(0,t.allSchemaProperties)(u.properties),l=(0,t.allSchemaProperties)(u.patternProperties);d(),o.ok((0,e._)`${p} === ${r.default.errors}`);function d(){c.forIn("key",f,w=>{!$.length&&!l.length?v(w):c.if(h(w),()=>v(w))})}function h(w){let S;if($.length>8){const b=(0,n.schemaRefOrVal)(g,u.properties,"properties");S=(0,t.isOwnProperty)(c,b,w)}else $.length?S=(0,e.or)(...$.map(b=>(0,e._)`${w} === ${b}`)):S=e.nil;return l.length&&(S=(0,e.or)(S,...l.map(b=>(0,e._)`${(0,t.usePattern)(o,b)}.test(${w})`))),(0,e.not)(S)}function y(w){c.code((0,e._)`delete ${f}[${w}]`)}function v(w){if(_.removeAdditional==="all"||_.removeAdditional&&a===!1){y(w);return}if(a===!1){o.setParams({additionalProperty:w}),o.error(),m||c.break();return}if(typeof a=="object"&&!(0,n.alwaysValidSchema)(g,a)){const S=c.name("valid");_.removeAdditional==="failing"?(E(w,S,!1),c.if((0,e.not)(S),()=>{o.reset(),y(w)})):(E(w,S),m||c.if((0,e.not)(S),()=>c.break()))}}function E(w,S,b){const I={keyword:"additionalProperties",dataProp:w,dataPropType:n.Type.Str};b===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(I,S)}}};return Ur.default=s,Ur}var Br={},Ic;function Kd(){if(Ic)return Br;Ic=1,Object.defineProperty(Br,"__esModule",{value:!0});const t=mn(),e=qe(),r=ie(),n=nf(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:c,parentSchema:a,data:u,it:f}=s;f.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(f,n.default,"additionalProperties"));const p=(0,e.allSchemaProperties)(c);for(const l of p)f.definedProperties.add(l);f.opts.unevaluated&&p.length&&f.props!==!0&&(f.props=r.mergeEvaluated.props(o,(0,r.toHash)(p),f.props));const g=p.filter(l=>!(0,r.alwaysValidSchema)(f,c[l]));if(g.length===0)return;const m=o.name("valid");for(const l of g)_(l)?$(l):(o.if((0,e.propertyInData)(o,u,l,f.opts.ownProperties)),$(l),f.allErrors||o.else().var(m,!0),o.endIf()),s.it.definedProperties.add(l),s.ok(m);function _(l){return f.opts.useDefaults&&!f.compositeRule&&c[l].default!==void 0}function $(l){s.subschema({keyword:"properties",schemaProp:l,dataProp:l},m)}}};return Br.default=i,Br}var Gr={},Tc;function Zd(){if(Tc)return Gr;Tc=1,Object.defineProperty(Gr,"__esModule",{value:!0});const t=qe(),e=te(),r=ie(),n=ie(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:c,data:a,parentSchema:u,it:f}=s,{opts:p}=f,g=(0,t.allSchemaProperties)(c),m=g.filter(v=>(0,r.alwaysValidSchema)(f,c[v]));if(g.length===0||m.length===g.length&&(!f.opts.unevaluated||f.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&u.properties,$=o.name("valid");f.props!==!0&&!(f.props instanceof e.Name)&&(f.props=(0,n.evaluatedPropsToName)(o,f.props));const{props:l}=f;d();function d(){for(const v of g)_&&h(v),f.allErrors?y(v):(o.var($,!0),y(v),o.if($))}function h(v){for(const E in _)new RegExp(v).test(E)&&(0,r.checkStrictMode)(f,`property ${E} matches pattern ${v} (use allowMatchingProperties)`)}function y(v){o.forIn("key",a,E=>{o.if((0,e._)`${(0,t.usePattern)(s,v)}.test(${E})`,()=>{const w=m.includes(v);w||s.subschema({keyword:"patternProperties",schemaProp:v,dataProp:E,dataPropType:n.Type.Str},$),f.opts.unevaluated&&l!==!0?o.assign((0,e._)`${l}[${E}]`,!0):!w&&!f.allErrors&&o.if((0,e.not)($),()=>o.break())})})}}};return Gr.default=i,Gr}var zr={},Pc;function Jd(){if(Pc)return zr;Pc=1,Object.defineProperty(zr,"__esModule",{value:!0});const t=ie(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:i,it:s}=r;if((0,t.alwaysValidSchema)(s,i)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return zr.default=e,zr}var Vr={},Oc;function Qd(){if(Oc)return Vr;Oc=1,Object.defineProperty(Vr,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:qe().validateUnion,error:{message:"must match a schema in anyOf"}};return Vr.default=e,Vr}var Hr={},Nc;function em(){if(Nc)return Hr;Nc=1,Object.defineProperty(Hr,"__esModule",{value:!0});const t=te(),e=ie(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:c,it:a}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(a.opts.discriminator&&c.discriminator)return;const u=o,f=s.let("valid",!1),p=s.let("passing",null),g=s.name("_valid");i.setParams({passing:p}),s.block(m),i.result(f,()=>i.reset(),()=>i.error(!0));function m(){u.forEach((_,$)=>{let l;(0,e.alwaysValidSchema)(a,_)?s.var(g,!0):l=i.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},g),$>0&&s.if((0,t._)`${g} && ${f}`).assign(f,!1).assign(p,(0,t._)`[${p}, ${$}]`).else(),s.if(g,()=>{s.assign(f,!0),s.assign(p,$),l&&i.mergeEvaluated(l,t.Name)})})}}};return Hr.default=n,Hr}var Xr={},Mc;function tm(){if(Mc)return Xr;Mc=1,Object.defineProperty(Xr,"__esModule",{value:!0});const t=ie(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:i,it:s}=r;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=n.name("valid");i.forEach((c,a)=>{if((0,t.alwaysValidSchema)(s,c))return;const u=r.subschema({keyword:"allOf",schemaProp:a},o);r.ok(o),r.mergeEvaluated(u)})}};return Xr.default=e,Xr}var Wr={},Dc;function rm(){if(Dc)return Wr;Dc=1,Object.defineProperty(Wr,"__esModule",{value:!0});const t=te(),e=ie(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:c,it:a}=s;c.then===void 0&&c.else===void 0&&(0,e.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const u=i(a,"then"),f=i(a,"else");if(!u&&!f)return;const p=o.let("valid",!0),g=o.name("_valid");if(m(),s.reset(),u&&f){const $=o.let("ifClause");s.setParams({ifClause:$}),o.if(g,_("then",$),_("else",$))}else u?o.if(g,_("then")):o.if((0,t.not)(g),_("else"));s.pass(p,()=>s.error(!0));function m(){const $=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);s.mergeEvaluated($)}function _($,l){return()=>{const d=s.subschema({keyword:$},g);o.assign(p,g),s.mergeValidEvaluated(d,p),l?o.assign(l,(0,t._)`${$}`):s.setParams({ifClause:$})}}}};function i(s,o){const c=s.schema[o];return c!==void 0&&!(0,e.alwaysValidSchema)(s,c)}return Wr.default=n,Wr}var Yr={},Lc;function nm(){if(Lc)return Yr;Lc=1,Object.defineProperty(Yr,"__esModule",{value:!0});const t=ie(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:i}){n.if===void 0&&(0,t.checkStrictMode)(i,`"${r}" without "if" is ignored`)}};return Yr.default=e,Yr}var Fc;function im(){if(Fc)return Lr;Fc=1,Object.defineProperty(Lr,"__esModule",{value:!0});const t=tf(),e=Vd(),r=rf(),n=Hd(),i=Xd(),s=Wd(),o=Yd(),c=nf(),a=Kd(),u=Zd(),f=Jd(),p=Qd(),g=em(),m=tm(),_=rm(),$=nm();function l(d=!1){const h=[f.default,p.default,g.default,m.default,_.default,$.default,o.default,c.default,s.default,a.default,u.default];return d?h.push(e.default,n.default):h.push(t.default,r.default),h.push(i.default),h}return Lr.default=l,Lr}var Kr={},Zr={},kc;function sm(){if(kc)return Zr;kc=1,Object.defineProperty(Zr,"__esModule",{value:!0});const t=te(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,i){const{gen:s,data:o,$data:c,schema:a,schemaCode:u,it:f}=n,{opts:p,errSchemaPath:g,schemaEnv:m,self:_}=f;if(!p.validateFormats)return;c?$():l();function $(){const d=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),h=s.const("fDef",(0,t._)`${d}[${u}]`),y=s.let("fType"),v=s.let("format");s.if((0,t._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>s.assign(y,(0,t._)`${h}.type || "string"`).assign(v,(0,t._)`${h}.validate`),()=>s.assign(y,(0,t._)`"string"`).assign(v,h)),n.fail$data((0,t.or)(E(),w()));function E(){return p.strictSchema===!1?t.nil:(0,t._)`${u} && !${v}`}function w(){const S=m.$async?(0,t._)`(${h}.async ? await ${v}(${o}) : ${v}(${o}))`:(0,t._)`${v}(${o})`,b=(0,t._)`(typeof ${v} == "function" ? ${S} : ${v}.test(${o}))`;return(0,t._)`${v} && ${v} !== true && ${y} === ${i} && !${b}`}}function l(){const d=_.formats[a];if(!d){E();return}if(d===!0)return;const[h,y,v]=w(d);h===i&&n.pass(S());function E(){if(p.strictSchema===!1){_.logger.warn(b());return}throw new Error(b());function b(){return`unknown format "${a}" ignored in schema at path "${g}"`}}function w(b){const I=b instanceof RegExp?(0,t.regexpCode)(b):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(a)}`:void 0,k=s.scopeValue("formats",{key:a,ref:b,code:I});return typeof b=="object"&&!(b instanceof RegExp)?[b.type||"string",b.validate,(0,t._)`${k}.validate`]:["string",b,k]}function S(){if(typeof d=="object"&&!(d instanceof RegExp)&&d.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${v}(${o})`}return typeof y=="function"?(0,t._)`${v}(${o})`:(0,t._)`${v}.test(${o})`}}}};return Zr.default=r,Zr}var qc;function om(){if(qc)return Kr;qc=1,Object.defineProperty(Kr,"__esModule",{value:!0});const e=[sm().default];return Kr.default=e,Kr}var ot={},jc;function am(){return jc||(jc=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.contentVocabulary=ot.metadataVocabulary=void 0,ot.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],ot.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),ot}var Uc;function cm(){if(Uc)return Er;Uc=1,Object.defineProperty(Er,"__esModule",{value:!0});const t=Od(),e=zd(),r=im(),n=om(),i=am(),s=[t.default,e.default,(0,r.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];return Er.default=s,Er}var Jr={},It={},Bc;function um(){if(Bc)return It;Bc=1,Object.defineProperty(It,"__esModule",{value:!0}),It.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(It.DiscrError=t={})),It}var Gc;function lm(){if(Gc)return Jr;Gc=1,Object.defineProperty(Jr,"__esModule",{value:!0});const t=te(),e=um(),r=Zs(),n=pn(),i=ie(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:c,tagName:a}})=>c===e.DiscrError.Tag?`tag "${a}" must be string`:`value of tag "${a}" must be in oneOf`,params:({params:{discrError:c,tag:a,tagName:u}})=>(0,t._)`{error: ${c}, tag: ${u}, tagValue: ${a}}`},code(c){const{gen:a,data:u,schema:f,parentSchema:p,it:g}=c,{oneOf:m}=p;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=f.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const $=a.let("valid",!1),l=a.const("tag",(0,t._)`${u}${(0,t.getProperty)(_)}`);a.if((0,t._)`typeof ${l} == "string"`,()=>d(),()=>c.error(!1,{discrError:e.DiscrError.Tag,tag:l,tagName:_})),c.ok($);function d(){const v=y();a.if(!1);for(const E in v)a.elseIf((0,t._)`${l} === ${E}`),a.assign($,h(v[E]));a.else(),c.error(!1,{discrError:e.DiscrError.Mapping,tag:l,tagName:_}),a.endIf()}function h(v){const E=a.name("valid"),w=c.subschema({keyword:"oneOf",schemaProp:v},E);return c.mergeEvaluated(w,t.Name),E}function y(){var v;const E={},w=b(p);let S=!0;for(let U=0;U<m.length;U++){let Y=m[U];if(Y?.$ref&&!(0,i.schemaHasRulesButRef)(Y,g.self.RULES)){const z=Y.$ref;if(Y=r.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,z),Y instanceof r.SchemaEnv&&(Y=Y.schema),Y===void 0)throw new n.default(g.opts.uriResolver,g.baseId,z)}const G=(v=Y?.properties)===null||v===void 0?void 0:v[_];if(typeof G!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);S=S&&(w||b(Y)),I(G,U)}if(!S)throw new Error(`discriminator: "${_}" must be required`);return E;function b({required:U}){return Array.isArray(U)&&U.includes(_)}function I(U,Y){if(U.const)k(U.const,Y);else if(U.enum)for(const G of U.enum)k(G,Y);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function k(U,Y){if(typeof U!="string"||U in E)throw new Error(`discriminator: "${_}" values must be unique strings`);E[U]=Y}}}};return Jr.default=o,Jr}const fm="http://json-schema.org/draft-07/schema#",hm="http://json-schema.org/draft-07/schema#",dm="Core schema meta-schema",mm={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},pm=["object","boolean"],ym={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},gm={$schema:fm,$id:hm,title:dm,definitions:mm,type:pm,properties:ym,default:!0};var zc;function sf(){return zc||(zc=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=Id(),n=cm(),i=lm(),s=gm,o=["/properties"],c="http://json-schema.org/draft-07/schema";class a extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(_,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.Ajv=a,t.exports=e=a,t.exports.Ajv=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=mn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=te();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var p=Ks();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var g=pn();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return g.default}})}(pr,pr.exports)),pr.exports}var Qr={exports:{}},Ci={},Vc;function _m(){return Vc||(Vc=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(I,k){return{validate:I,compare:k}}t.fullFormats={date:e(s,o),time:e(a,u),"date-time":e(p,g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:$,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:b,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:d,int32:{type:"number",validate:v},int64:{type:"number",validate:E},float:{type:"number",validate:w},double:{type:"number",validate:w},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(I){return I%4===0&&(I%100!==0||I%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(I){const k=n.exec(I);if(!k)return!1;const U=+k[1],Y=+k[2],G=+k[3];return Y>=1&&Y<=12&&G>=1&&G<=(Y===2&&r(U)?29:i[Y])}function o(I,k){if(I&&k)return I>k?1:I<k?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function a(I,k){const U=c.exec(I);if(!U)return!1;const Y=+U[1],G=+U[2],z=+U[3],H=U[5];return(Y<=23&&G<=59&&z<=59||Y===23&&G===59&&z===60)&&(!k||H!=="")}function u(I,k){if(!(I&&k))return;const U=c.exec(I),Y=c.exec(k);if(U&&Y)return I=U[1]+U[2]+U[3]+(U[4]||""),k=Y[1]+Y[2]+Y[3]+(Y[4]||""),I>k?1:I<k?-1:0}const f=/t|\s/i;function p(I){const k=I.split(f);return k.length===2&&s(k[0])&&a(k[1],!0)}function g(I,k){if(!(I&&k))return;const[U,Y]=I.split(f),[G,z]=k.split(f),H=o(U,G);if(H!==void 0)return H||u(Y,z)}const m=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function $(I){return m.test(I)&&_.test(I)}const l=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function d(I){return l.lastIndex=0,l.test(I)}const h=-(2**31),y=2**31-1;function v(I){return Number.isInteger(I)&&I<=y&&I>=h}function E(I){return Number.isInteger(I)}function w(){return!0}const S=/[^\\]\\Z/;function b(I){if(S.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}}(Ci)),Ci}var Ai={},Hc;function vm(){return Hc||(Hc=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=sf(),r=te(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:c,schemaCode:a})=>r.str`should be ${i[c].okStr} ${a}`,params:({keyword:c,schemaCode:a})=>r._`{comparison: ${i[c].okStr}, limit: ${a}}`};t.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(c){const{gen:a,data:u,schemaCode:f,keyword:p,it:g}=c,{opts:m,self:_}=g;if(!m.validateFormats)return;const $=new e.KeywordCxt(g,_.RULES.all.format.definition,"format");$.$data?l():d();function l(){const y=a.scopeValue("formats",{ref:_.formats,code:m.code.formats}),v=a.const("fmt",r._`${y}[${$.schemaCode}]`);c.fail$data(r.or(r._`typeof ${v} != "object"`,r._`${v} instanceof RegExp`,r._`typeof ${v}.compare != "function"`,h(v)))}function d(){const y=$.schema,v=_.formats[y];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${p}": format "${y}" does not define "compare" function`);const E=a.scopeValue("formats",{key:y,ref:v,code:m.code.formats?r._`${m.code.formats}${r.getProperty(y)}`:void 0});c.fail$data(h(E))}function h(y){return r._`${y}.compare(${u}, ${f}) ${i[p].fail} 0`}},dependencies:["format"]};const o=c=>(c.addKeyword(t.formatLimitDefinition),c);t.default=o}(Ai)),Ai}var Xc;function Em(){return Xc||(Xc=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=_m(),n=vm(),i=te(),s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),c=(u,f={keywords:!0})=>{if(Array.isArray(f))return a(u,f,r.fullFormats,s),u;const[p,g]=f.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=f.formats||r.formatNames;return a(u,m,p,g),f.keywords&&n.default(u),u};c.get=(u,f="full")=>{const g=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!g)throw new Error(`Unknown format "${u}"`);return g};function a(u,f,p,g){var m,_;(m=(_=u.opts.code).formats)!==null&&m!==void 0||(_.formats=i._`require("ajv-formats/dist/formats").${g}`);for(const $ of f)u.addFormat($,p[$])}t.exports=e=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c}(Qr,Qr.exports)),Qr.exports}var Ii,Wc;function wm(){if(Wc)return Ii;Wc=1;const t=(a,u,f,p)=>{if(f==="length"||f==="prototype"||f==="arguments"||f==="caller")return;const g=Object.getOwnPropertyDescriptor(a,f),m=Object.getOwnPropertyDescriptor(u,f);!e(g,m)&&p||Object.defineProperty(a,f,m)},e=function(a,u){return a===void 0||a.configurable||a.writable===u.writable&&a.enumerable===u.enumerable&&a.configurable===u.configurable&&(a.writable||a.value===u.value)},r=(a,u)=>{const f=Object.getPrototypeOf(u);f!==Object.getPrototypeOf(a)&&Object.setPrototypeOf(a,f)},n=(a,u)=>`/* Wrapped ${a}*/
${u}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),o=(a,u,f)=>{const p=f===""?"":`with ${f.trim()}() `,g=n.bind(null,p,u.toString());Object.defineProperty(g,"name",s),Object.defineProperty(a,"toString",{...i,value:g})};return Ii=(a,u,{ignoreNonConfigurable:f=!1}={})=>{const{name:p}=a;for(const g of Reflect.ownKeys(u))t(a,u,g,f);return r(a,u),o(a,u,p),a},Ii}var Ti,Yc;function Sm(){if(Yc)return Ti;Yc=1;const t=wm();return Ti=(e,r={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:n=0,before:i=!1,after:s=!0}=r;if(!i&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,c;const a=function(...u){const f=this,p=()=>{o=void 0,s&&(c=e.apply(f,u))},g=i&&!o;return clearTimeout(o),o=setTimeout(p,n),g&&(c=e.apply(f,u)),c};return t(a,e),a.cancel=()=>{o&&(clearTimeout(o),o=void 0)},a},Ti}var en={exports:{}},Pi,Kc;function yn(){if(Kc)return Pi;Kc=1;const t="2.0.0",e=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=e-6;return Pi={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Pi}var Oi,Zc;function gn(){return Zc||(Zc=1,Oi=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}),Oi}var Jc;function Ht(){return Jc||(Jc=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=yn(),s=gn();e=t.exports={};const o=e.re=[],c=e.safeRe=[],a=e.src=[],u=e.t={};let f=0;const p="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",i],[p,n]],m=$=>{for(const[l,d]of g)$=$.split(`${l}*`).join(`${l}{0,${d}}`).split(`${l}+`).join(`${l}{1,${d}}`);return $},_=($,l,d)=>{const h=m(l),y=f++;s($,y,l),u[$]=y,a[y]=l,o[y]=new RegExp(l,d?"g":void 0),c[y]=new RegExp(h,d?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),_("MAINVERSION",`(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${a[u.NUMERICIDENTIFIER]}|${a[u.NONNUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${a[u.NUMERICIDENTIFIERLOOSE]}|${a[u.NONNUMERICIDENTIFIER]})`),_("PRERELEASE",`(?:-(${a[u.PRERELEASEIDENTIFIER]}(?:\\.${a[u.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${a[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[u.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${p}+`),_("BUILD",`(?:\\+(${a[u.BUILDIDENTIFIER]}(?:\\.${a[u.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${a[u.MAINVERSION]}${a[u.PRERELEASE]}?${a[u.BUILD]}?`),_("FULL",`^${a[u.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${a[u.MAINVERSIONLOOSE]}${a[u.PRERELEASELOOSE]}?${a[u.BUILD]}?`),_("LOOSE",`^${a[u.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${a[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${a[u.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:${a[u.PRERELEASE]})?${a[u.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:${a[u.PRERELEASELOOSE]})?${a[u.BUILD]}?)?)?`),_("XRANGE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${a[u.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",a[u.COERCEPLAIN]+`(?:${a[u.PRERELEASE]})?(?:${a[u.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",a[u.COERCE],!0),_("COERCERTLFULL",a[u.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${a[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",_("TILDE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${a[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",_("CARET",`^${a[u.LONECARET]}${a[u.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${a[u.LONECARET]}${a[u.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${a[u.GTLT]}\\s*(${a[u.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]}|${a[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${a[u.XRANGEPLAIN]})\\s+-\\s+(${a[u.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${a[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[u.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(en,en.exports)),en.exports}var Ni,Qc;function Qs(){if(Qc)return Ni;Qc=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Ni=n=>n?typeof n!="object"?t:n:e,Ni}var Mi,eu;function of(){if(eu)return Mi;eu=1;const t=/^[0-9]+$/,e=(n,i)=>{const s=t.test(n),o=t.test(i);return s&&o&&(n=+n,i=+i),n===i?0:s&&!o?-1:o&&!s?1:n<i?-1:1};return Mi={compareIdentifiers:e,rcompareIdentifiers:(n,i)=>e(i,n)},Mi}var Di,tu;function xe(){if(tu)return Di;tu=1;const t=gn(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=yn(),{safeRe:n,t:i}=Ht(),s=Qs(),{compareIdentifiers:o}=of();class c{constructor(u,f){if(f=s(f),u instanceof c){if(u.loose===!!f.loose&&u.includePrerelease===!!f.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",u,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const p=u.trim().match(f.loose?n[i.LOOSE]:n[i.FULL]);if(!p)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const m=+g;if(m>=0&&m<r)return m}return g}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(t("SemVer.compare",this.version,this.options,u),!(u instanceof c)){if(typeof u=="string"&&u===this.version)return 0;u=new c(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof c||(u=new c(u,this.options)),o(this.major,u.major)||o(this.minor,u.minor)||o(this.patch,u.patch)}comparePre(u){if(u instanceof c||(u=new c(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let f=0;do{const p=this.prerelease[f],g=u.prerelease[f];if(t("prerelease compare",f,p,g),p===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(p===void 0)return-1;if(p===g)continue;return o(p,g)}while(++f)}compareBuild(u){u instanceof c||(u=new c(u,this.options));let f=0;do{const p=this.build[f],g=u.build[f];if(t("build compare",f,p,g),p===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(p===void 0)return-1;if(p===g)continue;return o(p,g)}while(++f)}inc(u,f,p){switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,p),this.inc("pre",f,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,p),this.inc("pre",f,p);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(p)?1:0;if(!f&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[g];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(f===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(f){let m=[f,g];p===!1&&(m=[f]),o(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Di=c,Di}var Li,ru;function bt(){if(ru)return Li;ru=1;const t=xe();return Li=(r,n,i=!1)=>{if(r instanceof t)return r;try{return new t(r,n)}catch(s){if(!i)return null;throw s}},Li}var Fi,nu;function bm(){if(nu)return Fi;nu=1;const t=bt();return Fi=(r,n)=>{const i=t(r,n);return i?i.version:null},Fi}var ki,iu;function $m(){if(iu)return ki;iu=1;const t=bt();return ki=(r,n)=>{const i=t(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},ki}var qi,su;function xm(){if(su)return qi;su=1;const t=xe();return qi=(r,n,i,s,o)=>{typeof i=="string"&&(o=s,s=i,i=void 0);try{return new t(r instanceof t?r.version:r,i).inc(n,s,o).version}catch{return null}},qi}var ji,ou;function Rm(){if(ou)return ji;ou=1;const t=bt();return ji=(r,n)=>{const i=t(r,null,!0),s=t(n,null,!0),o=i.compare(s);if(o===0)return null;const c=o>0,a=c?i:s,u=c?s:i,f=!!a.prerelease.length;if(!!u.prerelease.length&&!f)return!u.patch&&!u.minor?"major":a.patch?"patch":a.minor?"minor":"major";const g=f?"pre":"";return i.major!==s.major?g+"major":i.minor!==s.minor?g+"minor":i.patch!==s.patch?g+"patch":"prerelease"},ji}var Ui,au;function Cm(){if(au)return Ui;au=1;const t=xe();return Ui=(r,n)=>new t(r,n).major,Ui}var Bi,cu;function Am(){if(cu)return Bi;cu=1;const t=xe();return Bi=(r,n)=>new t(r,n).minor,Bi}var Gi,uu;function Im(){if(uu)return Gi;uu=1;const t=xe();return Gi=(r,n)=>new t(r,n).patch,Gi}var zi,lu;function Tm(){if(lu)return zi;lu=1;const t=bt();return zi=(r,n)=>{const i=t(r,n);return i&&i.prerelease.length?i.prerelease:null},zi}var Vi,fu;function je(){if(fu)return Vi;fu=1;const t=xe();return Vi=(r,n,i)=>new t(r,i).compare(new t(n,i)),Vi}var Hi,hu;function Pm(){if(hu)return Hi;hu=1;const t=je();return Hi=(r,n,i)=>t(n,r,i),Hi}var Xi,du;function Om(){if(du)return Xi;du=1;const t=je();return Xi=(r,n)=>t(r,n,!0),Xi}var Wi,mu;function eo(){if(mu)return Wi;mu=1;const t=xe();return Wi=(r,n,i)=>{const s=new t(r,i),o=new t(n,i);return s.compare(o)||s.compareBuild(o)},Wi}var Yi,pu;function Nm(){if(pu)return Yi;pu=1;const t=eo();return Yi=(r,n)=>r.sort((i,s)=>t(i,s,n)),Yi}var Ki,yu;function Mm(){if(yu)return Ki;yu=1;const t=eo();return Ki=(r,n)=>r.sort((i,s)=>t(s,i,n)),Ki}var Zi,gu;function _n(){if(gu)return Zi;gu=1;const t=je();return Zi=(r,n,i)=>t(r,n,i)>0,Zi}var Ji,_u;function to(){if(_u)return Ji;_u=1;const t=je();return Ji=(r,n,i)=>t(r,n,i)<0,Ji}var Qi,vu;function af(){if(vu)return Qi;vu=1;const t=je();return Qi=(r,n,i)=>t(r,n,i)===0,Qi}var es,Eu;function cf(){if(Eu)return es;Eu=1;const t=je();return es=(r,n,i)=>t(r,n,i)!==0,es}var ts,wu;function ro(){if(wu)return ts;wu=1;const t=je();return ts=(r,n,i)=>t(r,n,i)>=0,ts}var rs,Su;function no(){if(Su)return rs;Su=1;const t=je();return rs=(r,n,i)=>t(r,n,i)<=0,rs}var ns,bu;function uf(){if(bu)return ns;bu=1;const t=af(),e=cf(),r=_n(),n=ro(),i=to(),s=no();return ns=(c,a,u,f)=>{switch(a){case"===":return typeof c=="object"&&(c=c.version),typeof u=="object"&&(u=u.version),c===u;case"!==":return typeof c=="object"&&(c=c.version),typeof u=="object"&&(u=u.version),c!==u;case"":case"=":case"==":return t(c,u,f);case"!=":return e(c,u,f);case">":return r(c,u,f);case">=":return n(c,u,f);case"<":return i(c,u,f);case"<=":return s(c,u,f);default:throw new TypeError(`Invalid operator: ${a}`)}},ns}var is,$u;function Dm(){if($u)return is;$u=1;const t=xe(),e=bt(),{safeRe:r,t:n}=Ht();return is=(s,o)=>{if(s instanceof t)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;o=o||{};let c=null;if(!o.rtl)c=s.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const m=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let _;for(;(_=m.exec(s))&&(!c||c.index+c[0].length!==s.length);)(!c||_.index+_[0].length!==c.index+c[0].length)&&(c=_),m.lastIndex=_.index+_[1].length+_[2].length;m.lastIndex=-1}if(c===null)return null;const a=c[2],u=c[3]||"0",f=c[4]||"0",p=o.includePrerelease&&c[5]?`-${c[5]}`:"",g=o.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${a}.${u}.${f}${p}${g}`,o)},is}var ss,xu;function Lm(){if(xu)return ss;xu=1;class t{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,n)}return this}}return ss=t,ss}var os,Ru;function Ue(){if(Ru)return os;Ru=1;const t=/\s+/g;class e{constructor(H,O){if(O=i(O),H instanceof e)return H.loose===!!O.loose&&H.includePrerelease===!!O.includePrerelease?H:new e(H.raw,O);if(H instanceof s)return this.raw=H.value,this.set=[[H]],this.formatted=void 0,this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=H.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(R=>!$(R[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const R of this.set)if(R.length===1&&l(R[0])){this.set=[R];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let H=0;H<this.set.length;H++){H>0&&(this.formatted+="||");const O=this.set[H];for(let N=0;N<O.length;N++)N>0&&(this.formatted+=" "),this.formatted+=O[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(H){const N=((this.options.includePrerelease&&m)|(this.options.loose&&_))+":"+H,R=n.get(N);if(R)return R;const M=this.options.loose,T=M?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];H=H.replace(T,Y(this.options.includePrerelease)),o("hyphen replace",H),H=H.replace(a[u.COMPARATORTRIM],f),o("comparator trim",H),H=H.replace(a[u.TILDETRIM],p),o("tilde trim",H),H=H.replace(a[u.CARETTRIM],g),o("caret trim",H);let P=H.split(" ").map(A=>h(A,this.options)).join(" ").split(/\s+/).map(A=>U(A,this.options));M&&(P=P.filter(A=>(o("loose invalid filter",A,this.options),!!A.match(a[u.COMPARATORLOOSE])))),o("range list",P);const L=new Map,D=P.map(A=>new s(A,this.options));for(const A of D){if($(A))return[A];L.set(A.value,A)}L.size>1&&L.has("")&&L.delete("");const x=[...L.values()];return n.set(N,x),x}intersects(H,O){if(!(H instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>d(N,O)&&H.set.some(R=>d(R,O)&&N.every(M=>R.every(T=>M.intersects(T,O)))))}test(H){if(!H)return!1;if(typeof H=="string")try{H=new c(H,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(G(this.set[O],H,this.options))return!0;return!1}}os=e;const r=Lm(),n=new r,i=Qs(),s=vn(),o=gn(),c=xe(),{safeRe:a,t:u,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:g}=Ht(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:_}=yn(),$=z=>z.value==="<0.0.0-0",l=z=>z.value==="",d=(z,H)=>{let O=!0;const N=z.slice();let R=N.pop();for(;O&&N.length;)O=N.every(M=>R.intersects(M,H)),R=N.pop();return O},h=(z,H)=>(o("comp",z,H),z=w(z,H),o("caret",z),z=v(z,H),o("tildes",z),z=b(z,H),o("xrange",z),z=k(z,H),o("stars",z),z),y=z=>!z||z.toLowerCase()==="x"||z==="*",v=(z,H)=>z.trim().split(/\s+/).map(O=>E(O,H)).join(" "),E=(z,H)=>{const O=H.loose?a[u.TILDELOOSE]:a[u.TILDE];return z.replace(O,(N,R,M,T,P)=>{o("tilde",z,N,R,M,T,P);let L;return y(R)?L="":y(M)?L=`>=${R}.0.0 <${+R+1}.0.0-0`:y(T)?L=`>=${R}.${M}.0 <${R}.${+M+1}.0-0`:P?(o("replaceTilde pr",P),L=`>=${R}.${M}.${T}-${P} <${R}.${+M+1}.0-0`):L=`>=${R}.${M}.${T} <${R}.${+M+1}.0-0`,o("tilde return",L),L})},w=(z,H)=>z.trim().split(/\s+/).map(O=>S(O,H)).join(" "),S=(z,H)=>{o("caret",z,H);const O=H.loose?a[u.CARETLOOSE]:a[u.CARET],N=H.includePrerelease?"-0":"";return z.replace(O,(R,M,T,P,L)=>{o("caret",z,R,M,T,P,L);let D;return y(M)?D="":y(T)?D=`>=${M}.0.0${N} <${+M+1}.0.0-0`:y(P)?M==="0"?D=`>=${M}.${T}.0${N} <${M}.${+T+1}.0-0`:D=`>=${M}.${T}.0${N} <${+M+1}.0.0-0`:L?(o("replaceCaret pr",L),M==="0"?T==="0"?D=`>=${M}.${T}.${P}-${L} <${M}.${T}.${+P+1}-0`:D=`>=${M}.${T}.${P}-${L} <${M}.${+T+1}.0-0`:D=`>=${M}.${T}.${P}-${L} <${+M+1}.0.0-0`):(o("no pr"),M==="0"?T==="0"?D=`>=${M}.${T}.${P}${N} <${M}.${T}.${+P+1}-0`:D=`>=${M}.${T}.${P}${N} <${M}.${+T+1}.0-0`:D=`>=${M}.${T}.${P} <${+M+1}.0.0-0`),o("caret return",D),D})},b=(z,H)=>(o("replaceXRanges",z,H),z.split(/\s+/).map(O=>I(O,H)).join(" ")),I=(z,H)=>{z=z.trim();const O=H.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return z.replace(O,(N,R,M,T,P,L)=>{o("xRange",z,N,R,M,T,P,L);const D=y(M),x=D||y(T),A=x||y(P),C=A;return R==="="&&C&&(R=""),L=H.includePrerelease?"-0":"",D?R===">"||R==="<"?N="<0.0.0-0":N="*":R&&C?(x&&(T=0),P=0,R===">"?(R=">=",x?(M=+M+1,T=0,P=0):(T=+T+1,P=0)):R==="<="&&(R="<",x?M=+M+1:T=+T+1),R==="<"&&(L="-0"),N=`${R+M}.${T}.${P}${L}`):x?N=`>=${M}.0.0${L} <${+M+1}.0.0-0`:A&&(N=`>=${M}.${T}.0${L} <${M}.${+T+1}.0-0`),o("xRange return",N),N})},k=(z,H)=>(o("replaceStars",z,H),z.trim().replace(a[u.STAR],"")),U=(z,H)=>(o("replaceGTE0",z,H),z.trim().replace(a[H.includePrerelease?u.GTE0PRE:u.GTE0],"")),Y=z=>(H,O,N,R,M,T,P,L,D,x,A,C)=>(y(N)?O="":y(R)?O=`>=${N}.0.0${z?"-0":""}`:y(M)?O=`>=${N}.${R}.0${z?"-0":""}`:T?O=`>=${O}`:O=`>=${O}${z?"-0":""}`,y(D)?L="":y(x)?L=`<${+D+1}.0.0-0`:y(A)?L=`<${D}.${+x+1}.0-0`:C?L=`<=${D}.${x}.${A}-${C}`:z?L=`<${D}.${x}.${+A+1}-0`:L=`<=${L}`,`${O} ${L}`.trim()),G=(z,H,O)=>{for(let N=0;N<z.length;N++)if(!z[N].test(H))return!1;if(H.prerelease.length&&!O.includePrerelease){for(let N=0;N<z.length;N++)if(o(z[N].semver),z[N].semver!==s.ANY&&z[N].semver.prerelease.length>0){const R=z[N].semver;if(R.major===H.major&&R.minor===H.minor&&R.patch===H.patch)return!0}return!1}return!0};return os}var as,Cu;function vn(){if(Cu)return as;Cu=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(f,p){if(p=r(p),f instanceof e){if(f.loose===!!p.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),o("comparator",f,p),this.options=p,this.loose=!!p.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(f){const p=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],g=f.match(p);if(!g)throw new TypeError(`Invalid comparator: ${f}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new c(g[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(o("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new c(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,p){if(!(f instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(f.value,p).test(this.value):f.operator===""?f.value===""?!0:new a(this.value,p).test(f.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,p)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,p)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}as=e;const r=Qs(),{safeRe:n,t:i}=Ht(),s=uf(),o=gn(),c=xe(),a=Ue();return as}var cs,Au;function En(){if(Au)return cs;Au=1;const t=Ue();return cs=(r,n,i)=>{try{n=new t(n,i)}catch{return!1}return n.test(r)},cs}var us,Iu;function Fm(){if(Iu)return us;Iu=1;const t=Ue();return us=(r,n)=>new t(r,n).set.map(i=>i.map(s=>s.value).join(" ").trim().split(" ")),us}var ls,Tu;function km(){if(Tu)return ls;Tu=1;const t=xe(),e=Ue();return ls=(n,i,s)=>{let o=null,c=null,a=null;try{a=new e(i,s)}catch{return null}return n.forEach(u=>{a.test(u)&&(!o||c.compare(u)===-1)&&(o=u,c=new t(o,s))}),o},ls}var fs,Pu;function qm(){if(Pu)return fs;Pu=1;const t=xe(),e=Ue();return fs=(n,i,s)=>{let o=null,c=null,a=null;try{a=new e(i,s)}catch{return null}return n.forEach(u=>{a.test(u)&&(!o||c.compare(u)===1)&&(o=u,c=new t(o,s))}),o},fs}var hs,Ou;function jm(){if(Ou)return hs;Ou=1;const t=xe(),e=Ue(),r=_n();return hs=(i,s)=>{i=new e(i,s);let o=new t("0.0.0");if(i.test(o)||(o=new t("0.0.0-0"),i.test(o)))return o;o=null;for(let c=0;c<i.set.length;++c){const a=i.set[c];let u=null;a.forEach(f=>{const p=new t(f.semver.version);switch(f.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!u||r(p,u))&&(u=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),u&&(!o||r(o,u))&&(o=u)}return o&&i.test(o)?o:null},hs}var ds,Nu;function Um(){if(Nu)return ds;Nu=1;const t=Ue();return ds=(r,n)=>{try{return new t(r,n).range||"*"}catch{return null}},ds}var ms,Mu;function io(){if(Mu)return ms;Mu=1;const t=xe(),e=vn(),{ANY:r}=e,n=Ue(),i=En(),s=_n(),o=to(),c=no(),a=ro();return ms=(f,p,g,m)=>{f=new t(f,m),p=new n(p,m);let _,$,l,d,h;switch(g){case">":_=s,$=c,l=o,d=">",h=">=";break;case"<":_=o,$=a,l=s,d="<",h="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(f,p,m))return!1;for(let y=0;y<p.set.length;++y){const v=p.set[y];let E=null,w=null;if(v.forEach(S=>{S.semver===r&&(S=new e(">=0.0.0")),E=E||S,w=w||S,_(S.semver,E.semver,m)?E=S:l(S.semver,w.semver,m)&&(w=S)}),E.operator===d||E.operator===h||(!w.operator||w.operator===d)&&$(f,w.semver))return!1;if(w.operator===h&&l(f,w.semver))return!1}return!0},ms}var ps,Du;function Bm(){if(Du)return ps;Du=1;const t=io();return ps=(r,n,i)=>t(r,n,">",i),ps}var ys,Lu;function Gm(){if(Lu)return ys;Lu=1;const t=io();return ys=(r,n,i)=>t(r,n,"<",i),ys}var gs,Fu;function zm(){if(Fu)return gs;Fu=1;const t=Ue();return gs=(r,n,i)=>(r=new t(r,i),n=new t(n,i),r.intersects(n,i)),gs}var _s,ku;function Vm(){if(ku)return _s;ku=1;const t=En(),e=je();return _s=(r,n,i)=>{const s=[];let o=null,c=null;const a=r.sort((g,m)=>e(g,m,i));for(const g of a)t(g,n,i)?(c=g,o||(o=g)):(c&&s.push([o,c]),c=null,o=null);o&&s.push([o,null]);const u=[];for(const[g,m]of s)g===m?u.push(g):!m&&g===a[0]?u.push("*"):m?g===a[0]?u.push(`<=${m}`):u.push(`${g} - ${m}`):u.push(`>=${g}`);const f=u.join(" || "),p=typeof n.raw=="string"?n.raw:String(n);return f.length<p.length?f:n},_s}var vs,qu;function Hm(){if(qu)return vs;qu=1;const t=Ue(),e=vn(),{ANY:r}=e,n=En(),i=je(),s=(p,g,m={})=>{if(p===g)return!0;p=new t(p,m),g=new t(g,m);let _=!1;e:for(const $ of p.set){for(const l of g.set){const d=a($,l,m);if(_=_||d!==null,d)continue e}if(_)return!1}return!0},o=[new e(">=0.0.0-0")],c=[new e(">=0.0.0")],a=(p,g,m)=>{if(p===g)return!0;if(p.length===1&&p[0].semver===r){if(g.length===1&&g[0].semver===r)return!0;m.includePrerelease?p=o:p=c}if(g.length===1&&g[0].semver===r){if(m.includePrerelease)return!0;g=c}const _=new Set;let $,l;for(const b of p)b.operator===">"||b.operator===">="?$=u($,b,m):b.operator==="<"||b.operator==="<="?l=f(l,b,m):_.add(b.semver);if(_.size>1)return null;let d;if($&&l){if(d=i($.semver,l.semver,m),d>0)return null;if(d===0&&($.operator!==">="||l.operator!=="<="))return null}for(const b of _){if($&&!n(b,String($),m)||l&&!n(b,String(l),m))return null;for(const I of g)if(!n(b,String(I),m))return!1;return!0}let h,y,v,E,w=l&&!m.includePrerelease&&l.semver.prerelease.length?l.semver:!1,S=$&&!m.includePrerelease&&$.semver.prerelease.length?$.semver:!1;w&&w.prerelease.length===1&&l.operator==="<"&&w.prerelease[0]===0&&(w=!1);for(const b of g){if(E=E||b.operator===">"||b.operator===">=",v=v||b.operator==="<"||b.operator==="<=",$){if(S&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===S.major&&b.semver.minor===S.minor&&b.semver.patch===S.patch&&(S=!1),b.operator===">"||b.operator===">="){if(h=u($,b,m),h===b&&h!==$)return!1}else if($.operator===">="&&!n($.semver,String(b),m))return!1}if(l){if(w&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===w.major&&b.semver.minor===w.minor&&b.semver.patch===w.patch&&(w=!1),b.operator==="<"||b.operator==="<="){if(y=f(l,b,m),y===b&&y!==l)return!1}else if(l.operator==="<="&&!n(l.semver,String(b),m))return!1}if(!b.operator&&(l||$)&&d!==0)return!1}return!($&&v&&!l&&d!==0||l&&E&&!$&&d!==0||S||w)},u=(p,g,m)=>{if(!p)return g;const _=i(p.semver,g.semver,m);return _>0?p:_<0||g.operator===">"&&p.operator===">="?g:p},f=(p,g,m)=>{if(!p)return g;const _=i(p.semver,g.semver,m);return _<0?p:_>0||g.operator==="<"&&p.operator==="<="?g:p};return vs=s,vs}var Es,ju;function Xm(){if(ju)return Es;ju=1;const t=Ht(),e=yn(),r=xe(),n=of(),i=bt(),s=bm(),o=$m(),c=xm(),a=Rm(),u=Cm(),f=Am(),p=Im(),g=Tm(),m=je(),_=Pm(),$=Om(),l=eo(),d=Nm(),h=Mm(),y=_n(),v=to(),E=af(),w=cf(),S=ro(),b=no(),I=uf(),k=Dm(),U=vn(),Y=Ue(),G=En(),z=Fm(),H=km(),O=qm(),N=jm(),R=Um(),M=io(),T=Bm(),P=Gm(),L=zm(),D=Vm(),x=Hm();return Es={parse:i,valid:s,clean:o,inc:c,diff:a,major:u,minor:f,patch:p,prerelease:g,compare:m,rcompare:_,compareLoose:$,compareBuild:l,sort:d,rsort:h,gt:y,lt:v,eq:E,neq:w,gte:S,lte:b,cmp:I,coerce:k,Comparator:U,Range:Y,satisfies:G,toComparators:z,maxSatisfying:H,minSatisfying:O,minVersion:N,validRange:R,outside:M,gtr:T,ltr:P,intersects:L,simplifyRange:D,subset:x,SemVer:r,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Es}var Tt={exports:{}},tn={exports:{}},Uu;function Wm(){if(Uu)return tn.exports;Uu=1;const t=(e,r)=>{for(const n of Reflect.ownKeys(r))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n));return e};return tn.exports=t,tn.exports.default=t,tn.exports}var Bu;function Ym(){if(Bu)return Tt.exports;Bu=1;const t=Wm(),e=new WeakMap,r=(n,i={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let s,o=0;const c=n.displayName||n.name||"<anonymous>",a=function(...u){if(e.set(a,++o),o===1)s=n.apply(this,u),n=null;else if(i.throw===!0)throw new Error(`Function \`${c}\` can only be called once`);return s};return t(a,n),e.set(a,o),a};return Tt.exports=r,Tt.exports.default=r,Tt.exports.callCount=n=>{if(!e.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return e.get(n)},Tt.exports}var rn=Lt.exports,Gu;function Km(){return Gu||(Gu=1,function(t,e){var r=rn&&rn.__classPrivateFieldSet||function(N,R,M,T,P){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?N!==R||!P:!R.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?P.call(N,M):P?P.value=M:R.set(N,M),M},n=rn&&rn.__classPrivateFieldGet||function(N,R,M,T){if(M==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?N!==R||!T:!R.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return M==="m"?T:M==="a"?T.call(N):T?T.value:R.get(N)},i,s,o,c,a,u;Object.defineProperty(e,"__esModule",{value:!0});const f=Bs,p=Et,g=fe,m=ll,_=ul,$=yf,l=Yh(),d=rd(),h=nd(),y=fd(),v=sf(),E=Em(),w=Sm(),S=Xm(),b=Ym(),I="aes-256-cbc",k=()=>Object.create(null),U=N=>N!=null;let Y="";try{delete require.cache[__filename],Y=g.dirname((s=(i=t.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const G=(N,R)=>{const M=new Set(["undefined","symbol","function"]),T=typeof R;if(M.has(T))throw new TypeError(`Setting a value of type \`${T}\` for key \`${N}\` is not allowed as it's not supported by JSON`)},z="__internal__",H=`${z}.migrations.version`;class O{constructor(R={}){var M;o.set(this,void 0),c.set(this,void 0),a.set(this,void 0),u.set(this,{}),this._deserialize=A=>JSON.parse(A),this._serialize=A=>JSON.stringify(A,void 0,"	");const T={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...R},P=b(()=>{const A=d.sync({cwd:Y}),C=A&&JSON.parse(p.readFileSync(A,"utf8"));return C??{}});if(!T.cwd){if(T.projectName||(T.projectName=P().name),!T.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");T.cwd=h(T.projectName,{suffix:T.projectSuffix}).config}if(r(this,a,T,"f"),T.schema){if(typeof T.schema!="object")throw new TypeError("The `schema` option must be an object.");const A=new v.default({allErrors:!0,useDefaults:!0});(0,E.default)(A);const C={type:"object",properties:T.schema};r(this,o,A.compile(C),"f");for(const[W,X]of Object.entries(T.schema))X?.default&&(n(this,u,"f")[W]=X.default)}T.defaults&&r(this,u,{...n(this,u,"f"),...T.defaults},"f"),T.serialize&&(this._serialize=T.serialize),T.deserialize&&(this._deserialize=T.deserialize),this.events=new $.EventEmitter,r(this,c,T.encryptionKey,"f");const L=T.fileExtension?`.${T.fileExtension}`:"";this.path=g.resolve(T.cwd,`${(M=T.configName)!==null&&M!==void 0?M:"config"}${L}`);const D=this.store,x=Object.assign(k(),T.defaults,D);this._validate(x);try{_.deepEqual(D,x)}catch{this.store=x}if(T.watch&&this._watch(),T.migrations){if(T.projectVersion||(T.projectVersion=P().version),!T.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(T.migrations,T.projectVersion,T.beforeEachMigration)}}get(R,M){if(n(this,a,"f").accessPropertiesByDotNotation)return this._get(R,M);const{store:T}=this;return R in T?T[R]:M}set(R,M){if(typeof R!="string"&&typeof R!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof R}`);if(typeof R!="object"&&M===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(R))throw new TypeError(`Please don't use the ${z} key, as it's used to manage this module internal operations.`);const{store:T}=this,P=(L,D)=>{G(L,D),n(this,a,"f").accessPropertiesByDotNotation?l.set(T,L,D):T[L]=D};if(typeof R=="object"){const L=R;for(const[D,x]of Object.entries(L))P(D,x)}else P(R,M);this.store=T}has(R){return n(this,a,"f").accessPropertiesByDotNotation?l.has(this.store,R):R in this.store}reset(...R){for(const M of R)U(n(this,u,"f")[M])&&this.set(M,n(this,u,"f")[M])}delete(R){const{store:M}=this;n(this,a,"f").accessPropertiesByDotNotation?l.delete(M,R):delete M[R],this.store=M}clear(){this.store=k();for(const R of Object.keys(n(this,u,"f")))this.reset(R)}onDidChange(R,M){if(typeof R!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof R}`);if(typeof M!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof M}`);return this._handleChange(()=>this.get(R),M)}onDidAnyChange(R){if(typeof R!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof R}`);return this._handleChange(()=>this.store,R)}get size(){return Object.keys(this.store).length}get store(){try{const R=p.readFileSync(this.path,n(this,c,"f")?null:"utf8"),M=this._encryptData(R),T=this._deserialize(M);return this._validate(T),Object.assign(k(),T)}catch(R){if(R?.code==="ENOENT")return this._ensureDirectory(),k();if(n(this,a,"f").clearInvalidConfig&&R.name==="SyntaxError")return k();throw R}}set store(R){this._ensureDirectory(),this._validate(R),this._write(R),this.events.emit("change")}*[(o=new WeakMap,c=new WeakMap,a=new WeakMap,u=new WeakMap,Symbol.iterator)](){for(const[R,M]of Object.entries(this.store))yield[R,M]}_encryptData(R){if(!n(this,c,"f"))return R.toString();try{if(n(this,c,"f"))try{if(R.slice(16,17).toString()===":"){const M=R.slice(0,16),T=m.pbkdf2Sync(n(this,c,"f"),M.toString(),1e4,32,"sha512"),P=m.createDecipheriv(I,T,M);R=Buffer.concat([P.update(Buffer.from(R.slice(17))),P.final()]).toString("utf8")}else{const M=m.createDecipher(I,n(this,c,"f"));R=Buffer.concat([M.update(Buffer.from(R)),M.final()]).toString("utf8")}}catch{}}catch{}return R.toString()}_handleChange(R,M){let T=R();const P=()=>{const L=T,D=R();(0,f.isDeepStrictEqual)(D,L)||(T=D,M.call(this,D,L))};return this.events.on("change",P),()=>this.events.removeListener("change",P)}_validate(R){if(!n(this,o,"f")||n(this,o,"f").call(this,R)||!n(this,o,"f").errors)return;const T=n(this,o,"f").errors.map(({instancePath:P,message:L=""})=>`\`${P.slice(1)}\` ${L}`);throw new Error("Config schema violation: "+T.join("; "))}_ensureDirectory(){p.mkdirSync(g.dirname(this.path),{recursive:!0})}_write(R){let M=this._serialize(R);if(n(this,c,"f")){const T=m.randomBytes(16),P=m.pbkdf2Sync(n(this,c,"f"),T.toString(),1e4,32,"sha512"),L=m.createCipheriv(I,P,T);M=Buffer.concat([T,Buffer.from(":"),L.update(Buffer.from(M)),L.final()])}if(process.env.SNAP)p.writeFileSync(this.path,M,{mode:n(this,a,"f").configFileMode});else try{y.writeFileSync(this.path,M,{mode:n(this,a,"f").configFileMode})}catch(T){if(T?.code==="EXDEV"){p.writeFileSync(this.path,M,{mode:n(this,a,"f").configFileMode});return}throw T}}_watch(){this._ensureDirectory(),p.existsSync(this.path)||this._write(k()),process.platform==="win32"?p.watch(this.path,{persistent:!1},w(()=>{this.events.emit("change")},{wait:100})):p.watchFile(this.path,{persistent:!1},w(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(R,M,T){let P=this._get(H,"0.0.0");const L=Object.keys(R).filter(x=>this._shouldPerformMigration(x,P,M));let D={...this.store};for(const x of L)try{T&&T(this,{fromVersion:P,toVersion:x,finalVersion:M,versions:L});const A=R[x];A(this),this._set(H,x),P=x,D={...this.store}}catch(A){throw this.store=D,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${A}`)}(this._isVersionInRangeFormat(P)||!S.eq(P,M))&&this._set(H,M)}_containsReservedKey(R){return typeof R=="object"&&Object.keys(R)[0]===z?!0:typeof R!="string"?!1:n(this,a,"f").accessPropertiesByDotNotation?!!R.startsWith(`${z}.`):!1}_isVersionInRangeFormat(R){return S.clean(R)===null}_shouldPerformMigration(R,M,T){return this._isVersionInRangeFormat(R)?M!=="0.0.0"&&S.satisfies(M,R)?!1:S.satisfies(T,R):!(S.lte(R,M)||S.gt(R,T))}_get(R,M){return l.get(this.store,R,M)}_set(R,M){const{store:T}=this;l.set(T,R,M),this.store=T}}e.default=O,t.exports=O,t.exports.default=O}(Lt,Lt.exports)),Lt.exports}var ws,zu;function Zm(){if(zu)return ws;zu=1;const t=fe,{app:e,ipcMain:r,ipcRenderer:n,shell:i}=re,s=Km();let o=!1;const c=()=>{if(!r||!e)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const u={defaultCwd:e.getPath("userData"),appVersion:e.getVersion()};return o||(r.on("electron-store-get-data",f=>{f.returnValue=u}),o=!0),u};class a extends s{constructor(f){let p,g;if(n){const m=n.sendSync("electron-store-get-data");if(!m)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:p,appVersion:g}=m)}else r&&e&&({defaultCwd:p,appVersion:g}=c());f={name:"config",...f},f.projectVersion||(f.projectVersion=g),f.cwd?f.cwd=t.isAbsolute(f.cwd)?f.cwd:t.join(p,f.cwd):f.cwd=p,f.configName=f.name,delete f.name,super(f)}static initRenderer(){c()}async openInEditor(){const f=await i.openPath(this.path);if(f)throw new Error(f)}}return ws=a,ws}var Jm=Zm();const Vu=Bt(Jm);var at={exports:{}},Ss,Hu;function lf(){return Hu||(Hu=1,Ss={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}),Ss}var bs={},Xu;function so(){return Xu||(Xu=1,function(t){const e={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function r(n){return function(...i){return i.length&&(n=n.replace(/\{(\d)\}/g,(s,o)=>i[o]||"")),new Error("ADM-ZIP: "+n)}}for(const n of Object.keys(e))t[n]=r(e[n])}(bs)),bs}var $s,Wu;function Qm(){if(Wu)return $s;Wu=1;const t=Et,e=fe,r=lf(),n=so(),i=typeof process=="object"&&process.platform==="win32",s=a=>typeof a=="object"&&a!==null,o=new Uint32Array(256).map((a,u)=>{for(let f=0;f<8;f++)u&1?u=3988292384^u>>>1:u>>>=1;return u>>>0});function c(a){this.sep=e.sep,this.fs=t,s(a)&&s(a.fs)&&typeof a.fs.statSync=="function"&&(this.fs=a.fs)}return $s=c,c.prototype.makeDir=function(a){const u=this;function f(p){let g=p.split(u.sep)[0];p.split(u.sep).forEach(function(m){if(!(!m||m.substr(-1,1)===":")){g+=u.sep+m;var _;try{_=u.fs.statSync(g)}catch{u.fs.mkdirSync(g)}if(_&&_.isFile())throw n.FILE_IN_THE_WAY(`"${g}"`)}})}f(a)},c.prototype.writeFileTo=function(a,u,f,p){const g=this;if(g.fs.existsSync(a)){if(!f)return!1;var m=g.fs.statSync(a);if(m.isDirectory())return!1}var _=e.dirname(a);g.fs.existsSync(_)||g.makeDir(_);var $;try{$=g.fs.openSync(a,"w",438)}catch{g.fs.chmodSync(a,438),$=g.fs.openSync(a,"w",438)}if($)try{g.fs.writeSync($,u,0,u.length,0)}finally{g.fs.closeSync($)}return g.fs.chmodSync(a,p||438),!0},c.prototype.writeFileToAsync=function(a,u,f,p,g){typeof p=="function"&&(g=p,p=void 0);const m=this;m.fs.exists(a,function(_){if(_&&!f)return g(!1);m.fs.stat(a,function($,l){if(_&&l.isDirectory())return g(!1);var d=e.dirname(a);m.fs.exists(d,function(h){h||m.makeDir(d),m.fs.open(a,"w",438,function(y,v){y?m.fs.chmod(a,438,function(){m.fs.open(a,"w",438,function(E,w){m.fs.write(w,u,0,u.length,0,function(){m.fs.close(w,function(){m.fs.chmod(a,p||438,function(){g(!0)})})})})}):v?m.fs.write(v,u,0,u.length,0,function(){m.fs.close(v,function(){m.fs.chmod(a,p||438,function(){g(!0)})})}):m.fs.chmod(a,p||438,function(){g(!0)})})})})})},c.prototype.findFiles=function(a){const u=this;function f(p,g,m){let _=[];return u.fs.readdirSync(p).forEach(function($){const l=e.join(p,$),d=u.fs.statSync(l);_.push(e.normalize(l)+(d.isDirectory()?u.sep:"")),d.isDirectory()&&m&&(_=_.concat(f(l,g,m)))}),_}return f(a,void 0,!0)},c.prototype.findFilesAsync=function(a,u){const f=this;let p=[];f.fs.readdir(a,function(g,m){if(g)return u(g);let _=m.length;if(!_)return u(null,p);m.forEach(function($){$=e.join(a,$),f.fs.stat($,function(l,d){if(l)return u(l);d&&(p.push(e.normalize($)+(d.isDirectory()?f.sep:"")),d.isDirectory()?f.findFilesAsync($,function(h,y){if(h)return u(h);p=p.concat(y),--_||u(null,p)}):--_||u(null,p))})})})},c.prototype.getAttributes=function(){},c.prototype.setAttributes=function(){},c.crc32update=function(a,u){return o[(a^u)&255]^a>>>8},c.crc32=function(a){typeof a=="string"&&(a=Buffer.from(a,"utf8"));let u=a.length,f=-1;for(let p=0;p<u;)f=c.crc32update(f,a[p++]);return~f>>>0},c.methodToString=function(a){switch(a){case r.STORED:return"STORED ("+a+")";case r.DEFLATED:return"DEFLATED ("+a+")";default:return"UNSUPPORTED ("+a+")"}},c.canonical=function(a){if(!a)return"";const u=e.posix.normalize("/"+a.split("\\").join("/"));return e.join(".",u)},c.zipnamefix=function(a){if(!a)return"";const u=e.posix.normalize("/"+a.split("\\").join("/"));return e.posix.join(".",u)},c.findLast=function(a,u){if(!Array.isArray(a))throw new TypeError("arr is not array");const f=a.length>>>0;for(let p=f-1;p>=0;p--)if(u(a[p],p,a))return a[p]},c.sanitize=function(a,u){a=e.resolve(e.normalize(a));for(var f=u.split("/"),p=0,g=f.length;p<g;p++){var m=e.normalize(e.join(a,f.slice(p,g).join(e.sep)));if(m.indexOf(a)===0)return m}return e.normalize(e.join(a,e.basename(u)))},c.toBuffer=function(u,f){return Buffer.isBuffer(u)?u:u instanceof Uint8Array?Buffer.from(u):typeof u=="string"?f(u):Buffer.alloc(0)},c.readBigUInt64LE=function(a,u){var f=Buffer.from(a.slice(u,u+8));return f.swap64(),parseInt(`0x${f.toString("hex")}`)},c.fromDOS2Date=function(a){return new Date((a>>25&127)+1980,Math.max((a>>21&15)-1,0),Math.max(a>>16&31,1),a>>11&31,a>>5&63,(a&31)<<1)},c.fromDate2DOS=function(a){let u=0,f=0;return a.getFullYear()>1979&&(u=(a.getFullYear()-1980&127)<<9|a.getMonth()+1<<5|a.getDate(),f=a.getHours()<<11|a.getMinutes()<<5|a.getSeconds()>>1),u<<16|f},c.isWin=i,c.crcTable=o,$s}var xs,Yu;function ep(){if(Yu)return xs;Yu=1;const t=fe;return xs=function(e,{fs:r}){var n=e||"",i=o(),s=null;function o(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return n&&r.existsSync(n)?(s=r.statSync(n),i.directory=s.isDirectory(),i.mtime=s.mtime,i.atime=s.atime,i.executable=(73&s.mode)!==0,i.readonly=(128&s.mode)===0,i.hidden=t.basename(n)[0]==="."):console.warn("Invalid path: "+n),{get directory(){return i.directory},get readOnly(){return i.readonly},get hidden(){return i.hidden},get mtime(){return i.mtime},get atime(){return i.atime},get executable(){return i.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:n,isDirectory:i.directory,isReadOnly:i.readonly,isHidden:i.hidden,isExecutable:i.executable,mTime:i.mtime,aTime:i.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},xs}var Rs,Ku;function tp(){return Ku||(Ku=1,Rs={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}),Rs}var Zu;function Xt(){return Zu||(Zu=1,at.exports=Qm(),at.exports.Constants=lf(),at.exports.Errors=so(),at.exports.FileAttr=ep(),at.exports.decoder=tp()),at.exports}var nn={},Cs,Ju;function rp(){if(Ju)return Cs;Ju=1;var t=Xt(),e=t.Constants;return Cs=function(){var r=20,n=10,i=0,s=0,o=0,c=0,a=0,u=0,f=0,p=0,g=0,m=0,_=0,$=0,l=0;r|=t.isWin?2560:768,i|=e.FLG_EFS;const d={extraLen:0},h=v=>Math.max(0,v)>>>0,y=v=>Math.max(0,v)&255;return o=t.fromDate2DOS(new Date),{get made(){return r},set made(v){r=v},get version(){return n},set version(v){n=v},get flags(){return i},set flags(v){i=v},get flags_efs(){return(i&e.FLG_EFS)>0},set flags_efs(v){v?i|=e.FLG_EFS:i&=~e.FLG_EFS},get flags_desc(){return(i&e.FLG_DESC)>0},set flags_desc(v){v?i|=e.FLG_DESC:i&=~e.FLG_DESC},get method(){return s},set method(v){switch(v){case e.STORED:this.version=10;case e.DEFLATED:default:this.version=20}s=v},get time(){return t.fromDOS2Date(this.timeval)},set time(v){this.timeval=t.fromDate2DOS(v)},get timeval(){return o},set timeval(v){o=h(v)},get timeHighByte(){return y(o>>>8)},get crc(){return c},set crc(v){c=h(v)},get compressedSize(){return a},set compressedSize(v){a=h(v)},get size(){return u},set size(v){u=h(v)},get fileNameLength(){return f},set fileNameLength(v){f=v},get extraLength(){return p},set extraLength(v){p=v},get extraLocalLength(){return d.extraLen},set extraLocalLength(v){d.extraLen=v},get commentLength(){return g},set commentLength(v){g=v},get diskNumStart(){return m},set diskNumStart(v){m=h(v)},get inAttr(){return _},set inAttr(v){_=h(v)},get attr(){return $},set attr(v){$=h(v)},get fileAttr(){return($||0)>>16&4095},get offset(){return l},set offset(v){l=h(v)},get encrypted(){return(i&e.FLG_ENC)===e.FLG_ENC},get centralHeaderSize(){return e.CENHDR+f+p+g},get realDataOffset(){return l+e.LOCHDR+d.fnameLen+d.extraLen},get localHeader(){return d},loadLocalHeaderFromBinary:function(v){var E=v.slice(l,l+e.LOCHDR);if(E.readUInt32LE(0)!==e.LOCSIG)throw t.Errors.INVALID_LOC();d.version=E.readUInt16LE(e.LOCVER),d.flags=E.readUInt16LE(e.LOCFLG),d.method=E.readUInt16LE(e.LOCHOW),d.time=E.readUInt32LE(e.LOCTIM),d.crc=E.readUInt32LE(e.LOCCRC),d.compressedSize=E.readUInt32LE(e.LOCSIZ),d.size=E.readUInt32LE(e.LOCLEN),d.fnameLen=E.readUInt16LE(e.LOCNAM),d.extraLen=E.readUInt16LE(e.LOCEXT);const w=l+e.LOCHDR+d.fnameLen,S=w+d.extraLen;return v.slice(w,S)},loadFromBinary:function(v){if(v.length!==e.CENHDR||v.readUInt32LE(0)!==e.CENSIG)throw t.Errors.INVALID_CEN();r=v.readUInt16LE(e.CENVEM),n=v.readUInt16LE(e.CENVER),i=v.readUInt16LE(e.CENFLG),s=v.readUInt16LE(e.CENHOW),o=v.readUInt32LE(e.CENTIM),c=v.readUInt32LE(e.CENCRC),a=v.readUInt32LE(e.CENSIZ),u=v.readUInt32LE(e.CENLEN),f=v.readUInt16LE(e.CENNAM),p=v.readUInt16LE(e.CENEXT),g=v.readUInt16LE(e.CENCOM),m=v.readUInt16LE(e.CENDSK),_=v.readUInt16LE(e.CENATT),$=v.readUInt32LE(e.CENATX),l=v.readUInt32LE(e.CENOFF)},localHeaderToBinary:function(){var v=Buffer.alloc(e.LOCHDR);return v.writeUInt32LE(e.LOCSIG,0),v.writeUInt16LE(n,e.LOCVER),v.writeUInt16LE(i,e.LOCFLG),v.writeUInt16LE(s,e.LOCHOW),v.writeUInt32LE(o,e.LOCTIM),v.writeUInt32LE(c,e.LOCCRC),v.writeUInt32LE(a,e.LOCSIZ),v.writeUInt32LE(u,e.LOCLEN),v.writeUInt16LE(f,e.LOCNAM),v.writeUInt16LE(d.extraLen,e.LOCEXT),v},centralHeaderToBinary:function(){var v=Buffer.alloc(e.CENHDR+f+p+g);return v.writeUInt32LE(e.CENSIG,0),v.writeUInt16LE(r,e.CENVEM),v.writeUInt16LE(n,e.CENVER),v.writeUInt16LE(i,e.CENFLG),v.writeUInt16LE(s,e.CENHOW),v.writeUInt32LE(o,e.CENTIM),v.writeUInt32LE(c,e.CENCRC),v.writeUInt32LE(a,e.CENSIZ),v.writeUInt32LE(u,e.CENLEN),v.writeUInt16LE(f,e.CENNAM),v.writeUInt16LE(p,e.CENEXT),v.writeUInt16LE(g,e.CENCOM),v.writeUInt16LE(m,e.CENDSK),v.writeUInt16LE(_,e.CENATT),v.writeUInt32LE($,e.CENATX),v.writeUInt32LE(l,e.CENOFF),v},toJSON:function(){const v=function(E){return E+" bytes"};return{made:r,version:n,flags:i,method:t.methodToString(s),time:this.time,crc:"0x"+c.toString(16).toUpperCase(),compressedSize:v(a),size:v(u),fileNameLength:v(f),extraLength:v(p),commentLength:v(g),diskNumStart:m,inAttr:_,attr:$,offset:l,centralHeaderSize:v(e.CENHDR+f+p+g)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},Cs}var As,Qu;function np(){if(Qu)return As;Qu=1;var t=Xt(),e=t.Constants;return As=function(){var r=0,n=0,i=0,s=0,o=0;return{get diskEntries(){return r},set diskEntries(c){r=n=c},get totalEntries(){return n},set totalEntries(c){n=r=c},get size(){return i},set size(c){i=c},get offset(){return s},set offset(c){s=c},get commentLength(){return o},set commentLength(c){o=c},get mainHeaderSize(){return e.ENDHDR+o},loadFromBinary:function(c){if((c.length!==e.ENDHDR||c.readUInt32LE(0)!==e.ENDSIG)&&(c.length<e.ZIP64HDR||c.readUInt32LE(0)!==e.ZIP64SIG))throw t.Errors.INVALID_END();c.readUInt32LE(0)===e.ENDSIG?(r=c.readUInt16LE(e.ENDSUB),n=c.readUInt16LE(e.ENDTOT),i=c.readUInt32LE(e.ENDSIZ),s=c.readUInt32LE(e.ENDOFF),o=c.readUInt16LE(e.ENDCOM)):(r=t.readBigUInt64LE(c,e.ZIP64SUB),n=t.readBigUInt64LE(c,e.ZIP64TOT),i=t.readBigUInt64LE(c,e.ZIP64SIZE),s=t.readBigUInt64LE(c,e.ZIP64OFF),o=0)},toBinary:function(){var c=Buffer.alloc(e.ENDHDR+o);return c.writeUInt32LE(e.ENDSIG,0),c.writeUInt32LE(0,4),c.writeUInt16LE(r,e.ENDSUB),c.writeUInt16LE(n,e.ENDTOT),c.writeUInt32LE(i,e.ENDSIZ),c.writeUInt32LE(s,e.ENDOFF),c.writeUInt16LE(o,e.ENDCOM),c.fill(" ",e.ENDHDR),c},toJSON:function(){const c=function(a,u){let f=a.toString(16).toUpperCase();for(;f.length<u;)f="0"+f;return"0x"+f};return{diskEntries:r,totalEntries:n,size:i+" bytes",offset:c(s,4),commentLength:o}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},As}var el;function ff(){return el||(el=1,nn.EntryHeader=rp(),nn.MainHeader=np()),nn}var Pt={},Is,tl;function ip(){return tl||(tl=1,Is=function(t){var e=fl,r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(c){s.push(c),o+=c.length}),i.on("end",function(){var c=Buffer.alloc(o),a=0;c.fill(0);for(var u=0;u<s.length;u++){var f=s[u];f.copy(c,a),a+=f.length}n&&n(c)}),i.end(t)}}}),Is}var Ts,rl;function sp(){if(rl)return Ts;rl=1;const t=+(process.versions?process.versions.node:"").split(".")[0]||0;return Ts=function(e,r){var n=fl;const i=t>=15&&r>0?{maxOutputLength:r}:{};return{inflate:function(){return n.inflateRawSync(e,i)},inflateAsync:function(s){var o=n.createInflateRaw(i),c=[],a=0;o.on("data",function(u){c.push(u),a+=u.length}),o.on("end",function(){var u=Buffer.alloc(a),f=0;u.fill(0);for(var p=0;p<c.length;p++){var g=c[p];g.copy(u,f),f+=g.length}s&&s(u)}),o.end(e)}}},Ts}var Ps,nl;function op(){if(nl)return Ps;nl=1;const{randomFillSync:t}=ll,e=so(),r=new Uint32Array(256).map((m,_)=>{for(let $=0;$<8;$++)_&1?_=_>>>1^3988292384:_>>>=1;return _>>>0}),n=(m,_)=>Math.imul(m,_)>>>0,i=(m,_)=>r[(m^_)&255]^m>>>8,s=()=>typeof t=="function"?t(Buffer.alloc(12)):s.node();s.node=()=>{const m=Buffer.alloc(12),_=m.length;for(let $=0;$<_;$++)m[$]=Math.random()*256&255;return m};const o={genSalt:s};function c(m){const _=Buffer.isBuffer(m)?m:Buffer.from(m);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let $=0;$<_.length;$++)this.updateKeys(_[$])}c.prototype.updateKeys=function(m){const _=this.keys;return _[0]=i(_[0],m),_[1]+=_[0]&255,_[1]=n(_[1],134775813)+1,_[2]=i(_[2],_[1]>>>24),m},c.prototype.next=function(){const m=(this.keys[2]|2)>>>0;return n(m,m^1)>>8&255};function a(m){const _=new c(m);return function($){const l=Buffer.alloc($.length);let d=0;for(let h of $)l[d++]=_.updateKeys(h^_.next());return l}}function u(m){const _=new c(m);return function($,l,d=0){l||(l=Buffer.alloc($.length));for(let h of $){const y=_.next();l[d++]=h^y,_.updateKeys(h)}return l}}function f(m,_,$){if(!m||!Buffer.isBuffer(m)||m.length<12)return Buffer.alloc(0);const l=a($),d=l(m.slice(0,12)),h=(_.flags&8)===8?_.timeHighByte:_.crc>>>24;if(d[11]!==h)throw e.WRONG_PASSWORD();return l(m.slice(12))}function p(m){Buffer.isBuffer(m)&&m.length>=12?o.genSalt=function(){return m.slice(0,12)}:m==="node"?o.genSalt=s.node:o.genSalt=s}function g(m,_,$,l=!1){m==null&&(m=Buffer.alloc(0)),Buffer.isBuffer(m)||(m=Buffer.from(m.toString()));const d=u($),h=o.genSalt();h[11]=_.crc>>>24&255,l&&(h[10]=_.crc>>>16&255);const y=Buffer.alloc(m.length+12);return d(h,y),d(m,y,12)}return Ps={decrypt:f,encrypt:g,_salter:p},Ps}var il;function ap(){return il||(il=1,Pt.Deflater=ip(),Pt.Inflater=sp(),Pt.ZipCrypto=op()),Pt}var Os,sl;function hf(){if(sl)return Os;sl=1;var t=Xt(),e=ff(),r=t.Constants,n=ap();return Os=function(i,s){var o=new e.EntryHeader,c=Buffer.alloc(0),a=Buffer.alloc(0),u=!1,f=null,p=Buffer.alloc(0),g=Buffer.alloc(0),m=!0;const _=i,$=typeof _.decoder=="object"?_.decoder:t.decoder;m=$.hasOwnProperty("efs")?$.efs:!1;function l(){return!s||!(s instanceof Uint8Array)?Buffer.alloc(0):(g=o.loadLocalHeaderFromBinary(s),s.slice(o.realDataOffset,o.realDataOffset+o.compressedSize))}function d(S){if(o.flags_desc){const b={},I=o.realDataOffset+o.compressedSize;if(s.readUInt32LE(I)==r.LOCSIG||s.readUInt32LE(I)==r.CENSIG)throw t.Errors.DESCRIPTOR_NOT_EXIST();if(s.readUInt32LE(I)==r.EXTSIG)b.crc=s.readUInt32LE(I+r.EXTCRC),b.compressedSize=s.readUInt32LE(I+r.EXTSIZ),b.size=s.readUInt32LE(I+r.EXTLEN);else if(s.readUInt16LE(I+12)===19280)b.crc=s.readUInt32LE(I+r.EXTCRC-4),b.compressedSize=s.readUInt32LE(I+r.EXTSIZ-4),b.size=s.readUInt32LE(I+r.EXTLEN-4);else throw t.Errors.DESCRIPTOR_UNKNOWN();if(b.compressedSize!==o.compressedSize||b.size!==o.size||b.crc!==o.crc)throw t.Errors.DESCRIPTOR_FAULTY();if(t.crc32(S)!==b.crc)return!1}else if(t.crc32(S)!==o.localHeader.crc)return!1;return!0}function h(S,b,I){if(typeof b>"u"&&typeof S=="string"&&(I=S,S=void 0),u)return S&&b&&b(Buffer.alloc(0),t.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var k=l();if(k.length===0)return S&&b&&b(k),k;if(o.encrypted){if(typeof I!="string"&&!Buffer.isBuffer(I))throw t.Errors.INVALID_PASS_PARAM();k=n.ZipCrypto.decrypt(k,o,I)}var U=Buffer.alloc(o.size);switch(o.method){case t.Constants.STORED:if(k.copy(U),d(U))return S&&b&&b(U),U;throw S&&b&&b(U,t.Errors.BAD_CRC()),t.Errors.BAD_CRC();case t.Constants.DEFLATED:var Y=new n.Inflater(k,o.size);if(S)Y.inflateAsync(function(G){G.copy(G,0),b&&(d(G)?b(G):b(G,t.Errors.BAD_CRC()))});else{if(Y.inflate(U).copy(U,0),!d(U))throw t.Errors.BAD_CRC(`"${$.decode(c)}"`);return U}break;default:throw S&&b&&b(Buffer.alloc(0),t.Errors.UNKNOWN_METHOD()),t.Errors.UNKNOWN_METHOD()}}function y(S,b){if((!f||!f.length)&&Buffer.isBuffer(s))return S&&b&&b(l()),l();if(f.length&&!u){var I;switch(o.method){case t.Constants.STORED:return o.compressedSize=o.size,I=Buffer.alloc(f.length),f.copy(I),S&&b&&b(I),I;default:case t.Constants.DEFLATED:var k=new n.Deflater(f);if(S)k.deflateAsync(function(Y){I=Buffer.alloc(Y.length),o.compressedSize=Y.length,Y.copy(I),b&&b(I)});else{var U=k.deflate();return o.compressedSize=U.length,U}k=null;break}}else if(S&&b)b(Buffer.alloc(0));else return Buffer.alloc(0)}function v(S,b){return(S.readUInt32LE(b+4)<<4)+S.readUInt32LE(b)}function E(S){try{for(var b=0,I,k,U;b+4<S.length;)I=S.readUInt16LE(b),b+=2,k=S.readUInt16LE(b),b+=2,U=S.slice(b,b+k),b+=k,r.ID_ZIP64===I&&w(U)}catch{throw t.Errors.EXTRA_FIELD_PARSE_ERROR()}}function w(S){var b,I,k,U;S.length>=r.EF_ZIP64_SCOMP&&(b=v(S,r.EF_ZIP64_SUNCOMP),o.size===r.EF_ZIP64_OR_32&&(o.size=b)),S.length>=r.EF_ZIP64_RHO&&(I=v(S,r.EF_ZIP64_SCOMP),o.compressedSize===r.EF_ZIP64_OR_32&&(o.compressedSize=I)),S.length>=r.EF_ZIP64_DSN&&(k=v(S,r.EF_ZIP64_RHO),o.offset===r.EF_ZIP64_OR_32&&(o.offset=k)),S.length>=r.EF_ZIP64_DSN+4&&(U=S.readUInt32LE(r.EF_ZIP64_DSN),o.diskNumStart===r.EF_ZIP64_OR_16&&(o.diskNumStart=U))}return{get entryName(){return $.decode(c)},get rawEntryName(){return c},set entryName(S){c=t.toBuffer(S,$.encode);var b=c[c.length-1];u=b===47||b===92,o.fileNameLength=c.length},get efs(){return typeof m=="function"?m(this.entryName):m},get extra(){return p},set extra(S){p=S,o.extraLength=S.length,E(S)},get comment(){return $.decode(a)},set comment(S){if(a=t.toBuffer(S,$.encode),o.commentLength=a.length,a.length>65535)throw t.Errors.COMMENT_TOO_LONG()},get name(){var S=$.decode(c);return u?S.substr(S.length-1).split("/").pop():S.split("/").pop()},get isDirectory(){return u},getCompressedData:function(){return y(!1,null)},getCompressedDataAsync:function(S){y(!0,S)},setData:function(S){f=t.toBuffer(S,t.decoder.encode),!u&&f.length?(o.size=f.length,o.method=t.Constants.DEFLATED,o.crc=t.crc32(S),o.changed=!0):o.method=t.Constants.STORED},getData:function(S){return o.changed?f:h(!1,null,S)},getDataAsync:function(S,b){o.changed?S(f):h(!0,S,b)},set attr(S){o.attr=S},get attr(){return o.attr},set header(S){o.loadFromBinary(S)},get header(){return o},packCentralHeader:function(){o.flags_efs=this.efs,o.extraLength=p.length;var S=o.centralHeaderToBinary(),b=t.Constants.CENHDR;return c.copy(S,b),b+=c.length,p.copy(S,b),b+=o.extraLength,a.copy(S,b),S},packLocalHeader:function(){let S=0;o.flags_efs=this.efs,o.extraLocalLength=g.length;const b=o.localHeaderToBinary(),I=Buffer.alloc(b.length+c.length+o.extraLocalLength);return b.copy(I,S),S+=b.length,c.copy(I,S),S+=c.length,g.copy(I,S),S+=g.length,I},toJSON:function(){const S=function(b){return"<"+(b&&b.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:o.toJSON(),compressedData:S(s),data:S(f)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},Os}var Ns,ol;function cp(){if(ol)return Ns;ol=1;const t=hf(),e=ff(),r=Xt();return Ns=function(n,i){var s=[],o={},c=Buffer.alloc(0),a=new e.MainHeader,u=!1;const f=new Set,p=i,{noSort:g,decoder:m}=p;n?l(p.readEntries):u=!0;function _(){const h=new Set;for(const y of Object.keys(o)){const v=y.split("/");if(v.pop(),!!v.length)for(let E=0;E<v.length;E++){const w=v.slice(0,E+1).join("/")+"/";h.add(w)}}for(const y of h)if(!(y in o)){const v=new t(p);v.entryName=y,v.attr=16,v.temporary=!0,s.push(v),o[v.entryName]=v,f.add(v)}}function $(){if(u=!0,o={},a.diskEntries>(n.length-a.offset)/r.Constants.CENHDR)throw r.Errors.DISK_ENTRY_TOO_LARGE();s=new Array(a.diskEntries);for(var h=a.offset,y=0;y<s.length;y++){var v=h,E=new t(p,n);E.header=n.slice(v,v+=r.Constants.CENHDR),E.entryName=n.slice(v,v+=E.header.fileNameLength),E.header.extraLength&&(E.extra=n.slice(v,v+=E.header.extraLength)),E.header.commentLength&&(E.comment=n.slice(v,v+E.header.commentLength)),h+=E.header.centralHeaderSize,s[y]=E,o[E.entryName]=E}f.clear(),_()}function l(h){var y=n.length-r.Constants.ENDHDR,v=Math.max(0,y-65535),E=v,w=n.length,S=-1,b=0;for((typeof p.trailingSpace=="boolean"?p.trailingSpace:!1)&&(v=0),y;y>=E;y--)if(n[y]===80){if(n.readUInt32LE(y)===r.Constants.ENDSIG){S=y,b=y,w=y+r.Constants.ENDHDR,E=y-r.Constants.END64HDR;continue}if(n.readUInt32LE(y)===r.Constants.END64SIG){E=v;continue}if(n.readUInt32LE(y)===r.Constants.ZIP64SIG){S=y,w=y+r.readBigUInt64LE(n,y+r.Constants.ZIP64SIZE)+r.Constants.ZIP64LEAD;break}}if(S==-1)throw r.Errors.INVALID_FORMAT();a.loadFromBinary(n.slice(S,w)),a.commentLength&&(c=n.slice(b+r.Constants.ENDHDR)),h&&$()}function d(){s.length>1&&!g&&s.sort((h,y)=>h.entryName.toLowerCase().localeCompare(y.entryName.toLowerCase()))}return{get entries(){return u||$(),s.filter(h=>!f.has(h))},get comment(){return m.decode(c)},set comment(h){c=r.toBuffer(h,m.encode),a.commentLength=c.length},getEntryCount:function(){return u?s.length:a.diskEntries},forEach:function(h){this.entries.forEach(h)},getEntry:function(h){return u||$(),o[h]||null},setEntry:function(h){u||$(),s.push(h),o[h.entryName]=h,a.totalEntries=s.length},deleteFile:function(h,y=!0){u||$();const v=o[h];this.getEntryChildren(v,y).map(w=>w.entryName).forEach(this.deleteEntry)},deleteEntry:function(h){u||$();const y=o[h],v=s.indexOf(y);v>=0&&(s.splice(v,1),delete o[h],a.totalEntries=s.length)},getEntryChildren:function(h,y=!0){if(u||$(),typeof h=="object")if(h.isDirectory&&y){const v=[],E=h.entryName;for(const w of s)w.entryName.startsWith(E)&&v.push(w);return v}else return[h];return[]},getChildCount:function(h){if(h&&h.isDirectory){const y=this.getEntryChildren(h);return y.includes(h)?y.length-1:y.length}return 0},compressToBuffer:function(){u||$(),d();const h=[],y=[];let v=0,E=0;a.size=0,a.offset=0;let w=0;for(const I of this.entries){const k=I.getCompressedData();I.header.offset=E;const U=I.packLocalHeader(),Y=U.length+k.length;E+=Y,h.push(U),h.push(k);const G=I.packCentralHeader();y.push(G),a.size+=G.length,v+=Y+G.length,w++}v+=a.mainHeaderSize,a.offset=E,a.totalEntries=w,E=0;const S=Buffer.alloc(v);for(const I of h)I.copy(S,E),E+=I.length;for(const I of y)I.copy(S,E),E+=I.length;const b=a.toBinary();return c&&c.copy(b,r.Constants.ENDHDR),b.copy(S,E),n=S,u=!1,S},toAsyncBuffer:function(h,y,v,E){try{u||$(),d();const w=[],S=[];let b=0,I=0,k=0;a.size=0,a.offset=0;const U=function(Y){if(Y.length>0){const G=Y.shift(),z=G.entryName+G.extra.toString();v&&v(z),G.getCompressedDataAsync(function(H){E&&E(z),G.header.offset=I;const O=G.packLocalHeader(),N=O.length+H.length;I+=N,w.push(O),w.push(H);const R=G.packCentralHeader();S.push(R),a.size+=R.length,b+=N+R.length,k++,U(Y)})}else{b+=a.mainHeaderSize,a.offset=I,a.totalEntries=k,I=0;const G=Buffer.alloc(b);w.forEach(function(H){H.copy(G,I),I+=H.length}),S.forEach(function(H){H.copy(G,I),I+=H.length});const z=a.toBinary();c&&c.copy(z,r.Constants.ENDHDR),z.copy(G,I),n=G,u=!1,h(G)}};U(Array.from(this.entries))}catch(w){y(w)}}}},Ns}var Ms,al;function up(){if(al)return Ms;al=1;const t=Xt(),e=fe,r=hf(),n=cp(),i=(...a)=>t.findLast(a,u=>typeof u=="boolean"),s=(...a)=>t.findLast(a,u=>typeof u=="string"),o=(...a)=>t.findLast(a,u=>typeof u=="function"),c={noSort:!1,readEntries:!1,method:t.Constants.NONE,fs:null};return Ms=function(a,u){let f=null;const p=Object.assign(Object.create(null),c);a&&typeof a=="object"&&(a instanceof Uint8Array||(Object.assign(p,a),a=p.input?p.input:void 0,p.input&&delete p.input),Buffer.isBuffer(a)&&(f=a,p.method=t.Constants.BUFFER,a=void 0)),Object.assign(p,u);const g=new t(p);if((typeof p.decoder!="object"||typeof p.decoder.encode!="function"||typeof p.decoder.decode!="function")&&(p.decoder=t.decoder),a&&typeof a=="string")if(g.fs.existsSync(a))p.method=t.Constants.FILE,p.filename=a,f=g.fs.readFileSync(a);else throw t.Errors.INVALID_FILENAME();const m=new n(f,p),{canonical:_,sanitize:$,zipnamefix:l}=t;function d(E){if(E&&m){var w;if(typeof E=="string"&&(w=m.getEntry(e.posix.normalize(E))),typeof E=="object"&&typeof E.entryName<"u"&&typeof E.header<"u"&&(w=m.getEntry(E.entryName)),w)return w}return null}function h(E){const{join:w,normalize:S,sep:b}=e.posix;return w(".",S(b+E.split("\\").join(b)+b))}function y(E){return E instanceof RegExp?function(w){return function(S){return w.test(S)}}(E):typeof E!="function"?()=>!0:E}const v=(E,w)=>{let S=w.slice(-1);return S=S===g.sep?g.sep:"",e.relative(E,w)+S};return{readFile:function(E,w){var S=d(E);return S&&S.getData(w)||null},childCount:function(E){const w=d(E);if(w)return m.getChildCount(w)},readFileAsync:function(E,w){var S=d(E);S?S.getDataAsync(w):w(null,"getEntry failed for:"+E)},readAsText:function(E,w){var S=d(E);if(S){var b=S.getData();if(b&&b.length)return b.toString(w||"utf8")}return""},readAsTextAsync:function(E,w,S){var b=d(E);b?b.getDataAsync(function(I,k){if(k){w(I,k);return}I&&I.length?w(I.toString(S||"utf8")):w("")}):w("")},deleteFile:function(E,w=!0){var S=d(E);S&&m.deleteFile(S.entryName,w)},deleteEntry:function(E){var w=d(E);w&&m.deleteEntry(w.entryName)},addZipComment:function(E){m.comment=E},getZipComment:function(){return m.comment||""},addZipEntryComment:function(E,w){var S=d(E);S&&(S.comment=w)},getZipEntryComment:function(E){var w=d(E);return w&&w.comment||""},updateFile:function(E,w){var S=d(E);S&&S.setData(w)},addLocalFile:function(E,w,S,b){if(g.fs.existsSync(E)){w=w?h(w):"";const I=e.win32.basename(e.win32.normalize(E));w+=S||I;const k=g.fs.statSync(E),U=k.isFile()?g.fs.readFileSync(E):Buffer.alloc(0);k.isDirectory()&&(w+=g.sep),this.addFile(w,U,b,k)}else throw t.Errors.FILE_NOT_FOUND(E)},addLocalFileAsync:function(E,w){E=typeof E=="object"?E:{localPath:E};const S=e.resolve(E.localPath),{comment:b}=E;let{zipPath:I,zipName:k}=E;const U=this;g.fs.stat(S,function(Y,G){if(Y)return w(Y,!1);I=I?h(I):"";const z=e.win32.basename(e.win32.normalize(S));if(I+=k||z,G.isFile())g.fs.readFile(S,function(H,O){return H?w(H,!1):(U.addFile(I,O,b,G),setImmediate(w,void 0,!0))});else if(G.isDirectory())return I+=g.sep,U.addFile(I,Buffer.alloc(0),b,G),setImmediate(w,void 0,!0)})},addLocalFolder:function(E,w,S){if(S=y(S),w=w?h(w):"",E=e.normalize(E),g.fs.existsSync(E)){const b=g.findFiles(E),I=this;if(b.length)for(const k of b){const U=e.join(w,v(E,k));S(U)&&I.addLocalFile(k,e.dirname(U))}}else throw t.Errors.FILE_NOT_FOUND(E)},addLocalFolderAsync:function(E,w,S,b){b=y(b),S=S?h(S):"",E=e.normalize(E);var I=this;g.fs.open(E,"r",function(k){if(k&&k.code==="ENOENT")w(void 0,t.Errors.FILE_NOT_FOUND(E));else if(k)w(void 0,k);else{var U=g.findFiles(E),Y=-1,G=function(){if(Y+=1,Y<U.length){var z=U[Y],H=v(E,z).split("\\").join("/");H=H.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),b(H)?g.fs.stat(z,function(O,N){O&&w(void 0,O),N.isFile()?g.fs.readFile(z,function(R,M){R?w(void 0,R):(I.addFile(S+H,M,"",N),G())}):(I.addFile(S+H+"/",Buffer.alloc(0),"",N),G())}):process.nextTick(()=>{G()})}else w(!0,void 0)};G()}})},addLocalFolderAsync2:function(E,w){const S=this;E=typeof E=="object"?E:{localPath:E},localPath=e.resolve(h(E.localPath));let{zipPath:b,filter:I,namefix:k}=E;I instanceof RegExp?I=function(G){return function(z){return G.test(z)}}(I):typeof I!="function"&&(I=function(){return!0}),b=b?h(b):"",k=="latin1"&&(k=G=>G.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof k!="function"&&(k=G=>G);const U=G=>e.join(b,k(v(localPath,G))),Y=G=>e.win32.basename(e.win32.normalize(k(G)));g.fs.open(localPath,"r",function(G){G&&G.code==="ENOENT"?w(void 0,t.Errors.FILE_NOT_FOUND(localPath)):G?w(void 0,G):g.findFilesAsync(localPath,function(z,H){if(z)return w(z);H=H.filter(O=>I(U(O))),H.length||w(void 0,!1),setImmediate(H.reverse().reduce(function(O,N){return function(R,M){if(R||M===!1)return setImmediate(O,R,!1);S.addLocalFileAsync({localPath:N,zipPath:e.dirname(U(N)),zipName:Y(N)},O)}},w))})})},addLocalFolderPromise:function(E,w){return new Promise((S,b)=>{this.addLocalFolderAsync2(Object.assign({localPath:E},w),(I,k)=>{I&&b(I),k&&S(this)})})},addFile:function(E,w,S,b){E=l(E);let I=d(E);const k=I!=null;k||(I=new r(p),I.entryName=E),I.comment=S||"";const U=typeof b=="object"&&b instanceof g.fs.Stats;U&&(I.header.time=b.mtime);var Y=I.isDirectory?16:0;let G=I.isDirectory?16384:32768;return U?G|=4095&b.mode:typeof b=="number"?G|=4095&b:G|=I.isDirectory?493:420,Y=(Y|G<<16)>>>0,I.attr=Y,I.setData(w),k||m.setEntry(I),I},getEntries:function(E){return m.password=E,m?m.entries:[]},getEntry:function(E){return d(E)},getEntryCount:function(){return m.getEntryCount()},forEach:function(E){return m.forEach(E)},extractEntryTo:function(E,w,S,b,I,k){b=i(!1,b),I=i(!1,I),S=i(!0,S),k=s(I,k);var U=d(E);if(!U)throw t.Errors.NO_ENTRY();var Y=_(U.entryName),G=$(w,k&&!U.isDirectory?k:S?Y:e.basename(Y));if(U.isDirectory){var z=m.getEntryChildren(U);return z.forEach(function(N){if(N.isDirectory)return;var R=N.getData();if(!R)throw t.Errors.CANT_EXTRACT_FILE();var M=_(N.entryName),T=$(w,S?M:e.basename(M));const P=I?N.header.fileAttr:void 0;g.writeFileTo(T,R,b,P)}),!0}var H=U.getData(m.password);if(!H)throw t.Errors.CANT_EXTRACT_FILE();if(g.fs.existsSync(G)&&!b)throw t.Errors.CANT_OVERRIDE();const O=I?E.header.fileAttr:void 0;return g.writeFileTo(G,H,b,O),!0},test:function(E){if(!m)return!1;for(var w in m.entries)try{if(w.isDirectory)continue;var S=m.entries[w].getData(E);if(!S)return!1}catch{return!1}return!0},extractAllTo:function(E,w,S,b){if(S=i(!1,S),b=s(S,b),w=i(!1,w),!m)throw t.Errors.NO_ZIP();m.entries.forEach(function(I){var k=$(E,_(I.entryName));if(I.isDirectory){g.makeDir(k);return}var U=I.getData(b);if(!U)throw t.Errors.CANT_EXTRACT_FILE();const Y=S?I.header.fileAttr:void 0;g.writeFileTo(k,U,w,Y);try{g.fs.utimesSync(k,I.header.time,I.header.time)}catch{throw t.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(E,w,S,b){if(b=o(w,S,b),S=i(!1,S),w=i(!1,w),!b)return new Promise((G,z)=>{this.extractAllToAsync(E,w,S,function(H){H?z(H):G(this)})});if(!m){b(t.Errors.NO_ZIP());return}E=e.resolve(E);const I=G=>$(E,e.normalize(_(G.entryName))),k=(G,z)=>new Error(G+': "'+z+'"'),U=[],Y=[];m.entries.forEach(G=>{G.isDirectory?U.push(G):Y.push(G)});for(const G of U){const z=I(G),H=S?G.header.fileAttr:void 0;try{g.makeDir(z),H&&g.fs.chmodSync(z,H),g.fs.utimesSync(z,G.header.time,G.header.time)}catch{b(k("Unable to create folder",z))}}Y.reverse().reduce(function(G,z){return function(H){if(H)G(H);else{const O=e.normalize(_(z.entryName)),N=$(E,O);z.getDataAsync(function(R,M){if(M)G(M);else if(!R)G(t.Errors.CANT_EXTRACT_FILE());else{const T=S?z.header.fileAttr:void 0;g.writeFileToAsync(N,R,w,T,function(P){P||G(k("Unable to write file",N)),g.fs.utimes(N,z.header.time,z.header.time,function(L){L?G(k("Unable to set times",N)):G()})})}})}}},b)()},writeZip:function(E,w){if(arguments.length===1&&typeof E=="function"&&(w=E,E=""),!E&&p.filename&&(E=p.filename),!!E){var S=m.compressToBuffer();if(S){var b=g.writeFileTo(E,S,!0);typeof w=="function"&&w(b?null:new Error("failed"),"")}}},writeZipPromise:function(E,w){const{overwrite:S,perm:b}=Object.assign({overwrite:!0},w);return new Promise((I,k)=>{!E&&p.filename&&(E=p.filename),E||k("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(U=>{const Y=G=>G?I(G):k("ADM-ZIP: Wasn't able to write zip file");g.writeFileToAsync(E,U,S,b,Y)},k)})},toBufferPromise:function(){return new Promise((E,w)=>{m.toAsyncBuffer(E,w)})},toBuffer:function(E,w,S,b){return typeof E=="function"?(m.toAsyncBuffer(E,w,S,b),null):m.compressToBuffer()}}},Ms}var lp=up();const cl=Bt(lp);class wn{constructor(e,r,n){this.bw=e,this.version=r,this.path_htm=n,console.log=s=>this.bw.webContents.send("log",s),e.webContents.on("devtools-opened",()=>this.#c()),re.ipcMain.handle("openDevTools",()=>e.webContents.openDevTools()),this.#f.getVersion=r,re.ipcMain.handle("getInfo",()=>this.#f),re.ipcMain.handle("inited",(s,o,c)=>this.#m(o,c)),re.ipcMain.handle("existsSync",(s,o)=>Me.existsSync(o)),re.ipcMain.handle("copySync",(s,o,c)=>Me.copySync(o,c)),re.ipcMain.handle("removeSync",(s,o)=>Me.removeSync(o)),re.ipcMain.handle("ensureFileSync",(s,o)=>Me.ensureFileSync(o)),re.ipcMain.handle("writeFileSync",(s,o,c,a)=>Me.writeFileSync(o,c,a)),re.ipcMain.handle("appendFile",(s,o,c)=>Me.appendFile(o,c).catch(a=>console.log(a))),re.ipcMain.handle("outputFile",(s,o,c)=>Me.outputFile(o,c).catch(a=>console.log(a))),re.ipcMain.handle("win_close",()=>e.close()),re.ipcMain.handle("win_setTitle",(s,o)=>e.setTitle(o)),re.ipcMain.handle("showMessageBox",(s,o)=>re.dialog.showMessageBox(o)),re.ipcMain.handle("capturePage",(s,o,c,a)=>e.webContents.capturePage().then(u=>{Me.ensureFileSync(o);const f=u.resize({width:c,height:a,quality:"best"}),p=o.endsWith(".png")?f.toPNG():f.toJPEG(80);Me.writeFileSync(o,p)})),re.ipcMain.handle("navigate_to",(s,o)=>re.shell.openExternal(o));let i;re.ipcMain.handle("Store",(s,o)=>{i=new Vu(o)}),re.ipcMain.handle("flush",(s,o)=>{i.store=o}),re.ipcMain.handle("Store_isEmpty",()=>i.size===0),re.ipcMain.handle("Store_get",()=>i.store),re.ipcMain.handle("zip",(s,o,c)=>{const a=new cl;a.addLocalFolder(o),a.writeZip(c)}),re.ipcMain.handle("unzip",(s,o,c)=>{Me.removeSync(c),Me.ensureDirSync(c),new cl(o).extractAllTo(c,!0)}),re.ipcMain.handle("isSimpleFullScreen",()=>e.simpleFullScreen),Dn.isWin?(re.ipcMain.handle("setSimpleFullScreen",(s,o)=>{this.#e=!0,e.setSimpleFullScreen(o),o||(e.setPosition(this.#o,this.#a),e.setContentSize(this.#r,this.#n)),this.#e=!1}),e.on("enter-full-screen",()=>{e.setContentSize(this.#t.width,this.#t.height)}),e.on("leave-full-screen",()=>{this.#s(!1,this.#o,this.#a,this.#r,this.#n)})):re.ipcMain.handle("setSimpleFullScreen",(s,o)=>{e.setSimpleFullScreen(o),!o&&e.setContentSize(this.#r,this.#n)}),re.ipcMain.handle("window",(s,o,c,a,u,f)=>this.#s(o,c,a,u,f)),e.on("move",()=>this.#l()),e.on("resize",()=>this.#l()),this.#h(),e.loadFile(n)}static initRenderer(e,r,n){let i,s=()=>{};try{Vu.initRenderer(),i=new re.BrowserWindow({show:!1,minWidth:300,minHeight:300,acceptFirstMouse:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}});const o=new wn(i,r,e);s=()=>o.openDevTools()}catch(o){throw console.error(`early err:${o}`),s(),"initRenderer error"}return i}#f={getAppPath:re.app.getAppPath(),isPackaged:re.app.isPackaged,downloads:re.app.getPath("downloads"),userData:re.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#o=0;#a=0;#r=0;#n=0;#i=0;openDevTools=()=>{};#c=()=>this.bw.webContents.closeDevTools();#m(e,r){const{c:n,x:i,y:s,w:o,h:c}=r;if(this.#i=o/c,Dn.isWin||this.bw.setAspectRatio(this.#i),this.#s(n,i,s,o,c),this.bw.show(),e.debug.devtool){this.#c=()=>{},this.openDevTools=()=>this.bw.webContents.openDevTools({mode:"detach"}),this.openDevTools();return}this.#c=()=>{this.bw.webContents.closeDevTools(),this.bw.setTitle("DevTooldevtoolON"),this.bw.webContents.send("shutdown")}}#t;#h(){const e=re.screen.getCursorScreenPoint(),r=re.screen.getDisplayNearestPoint(e);this.#t=r.workAreaSize}#u=void 0;#d=!1;#e=!1;#l(){if(this.#u||this.#e)return;this.#e=!0;const[e,r]=this.bw.getPosition(),[n,i]=this.bw.getContentSize();this.#u=setTimeout(()=>{if(this.#u=void 0,this.#d){this.#d=!1;return}this.#e=!1;const[s=0,o=0]=this.bw.getPosition(),[c=0,a=0]=this.bw.getContentSize();if(e!==s||r!==o||n!==c||i!==a){this.#l();return}this.#s(!1,s,o,c,a)},1e3/60*10)}#s(e,r,n,i,s){this.#e||(this.#e=!0,!this.bw.simpleFullScreen&&(e&&(this.#h(),r=(this.#t.width-i)*.5,n=(this.#t.height-s)*.5),this.#o=r=Math.round(r),this.#a=n=Math.round(n),this.bw.setPosition(r,n),Dn.isWin&&(this.#r!==i?s=i/this.#i:i=s*this.#i),this.#r=i=Math.round(i),this.#n=s=Math.round(s),this.bw.setContentSize(i,s),this.bw.webContents.send("save_win_inf",{c:e,x:r,y:n,w:i,h:s,scrw:this.#t.width,scrh:this.#t.height}),this.#e=!1))}}module.exports=wn;exports.BigPool=qt;exports.Bounds=et;exports.Cache=ht;exports.Color=bl;exports.Container=$e;exports.DOMAdapter=un;exports.EventEmitter=Gt;exports.ExtensionType=Ee;exports.ImageSource=Hs;exports.InstructionSet=Pl;exports.Matrix=ue;exports.Point=Fe;exports.Rectangle=ke;exports.Texture=he;exports.TexturePool=Ol;exports.TextureStyle=yl;exports.Ticker=Nt;exports.UPDATE_PRIORITY=on;exports.ViewContainer=Nl;exports.appMain=wn;exports.boundsPool=mt;exports.deprecation=Ze;exports.earcut=Sh;exports.extensions=wt;exports.getDefaultExportFromCjs=Bt;exports.multiplyHexColors=Cl;exports.nextPow2=Fs;exports.removeItems=$l;exports.uid=Ke;exports.updateQuadBounds=vl;exports.v8_0_0=dt;exports.v8_3_4=Af;exports.warn=Qe;
//# sourceMappingURL=appMain2.js.map
